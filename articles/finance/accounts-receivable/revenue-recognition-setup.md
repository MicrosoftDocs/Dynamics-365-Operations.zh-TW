---
title: 收入認列設定
description: 本主題介紹收入認列的設定選項及其含意。
author: kweekley
ms.date: 11/24/2021
ms.topic: index-page
ms.prod: ''
ms.technology: ''
ms.search.form: Customer
audience: Application User
ms.reviewer: roschlom
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2018-08-30
ms.dyn365.ops.version: 8.0.4
ms.openlocfilehash: e8e29ec1ca5a02db67bb4baf522da96ec23c740f
ms.sourcegitcommit: ac23a0a1f0cc16409aab629fba97dac281cdfafb
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/29/2021
ms.locfileid: "8452922"
---
# <a name="revenue-recognition-setup"></a>收入認列設定
[!include [banner](../includes/banner.md)]

已增添一個新的 **收入認列** 模組，當中包含所有必要設定的功能表項目。 本主題介紹設定選項及其含意。

> [!NOTE]
> 收入認列功能現在會透過功能管理預設啟用。 如果您的組織不使用此功能，您可以在 **功能管理** 工作區中將其關閉。
>
> Commerce 管道 (電子商務、POS 和話務中心) 不支援收入認列，包括搭售方案功能。 為收入認列設定的品項不應新增到在 Commerce 管道中建立的訂單或交易。

**收入認列** 模組具有以下設定選項：

- 收入認列日記帳
- 收入認列參數
- 收益計畫表 
- 庫存設定

    - 品項群組和已發布產品
    - 定義收益計畫表
    - 定義收入價格
    - 庫存設定

        - 定義收益計畫表
        - 定義收入價格

    - 過帳設定檔
    - 搭售方案

        - 搭售方案元件
        - 搭售方案品項

- 專案設定

## <a name="revenue-recognition-journals"></a>收入認列日記帳

收入認列引入了一種新的日記帳類型。 日記帳是必要的，並用於兩種情況。

第一種情況發生在履行所有合約義務之後，透過建立根據收益計畫表詳細資料的收入認列日記帳來確認遞延收入。 日記帳包含將餘額從遞延收入分類帳科目移到收入分類帳科目的會計分錄。

第二種情況發生在進行重新配置後建立日記帳時。 如果已開票的銷售訂單中新增了銷售訂單明細，或建立的新銷售訂單中包含了原始合約中的明細，就會發生重新配置。 如果在加入新銷售訂單明細之前已將發票過帳，則必須為已過帳的客戶發票建立更正會計分錄。

日記帳是在 **日記帳名稱** 頁面上 (**收入認列 \> 設定 \> 日記帳名稱**) 設定。 日記帳類型必須設定為 **收入認列**。 

## <a name="parameters-for-revenue-recognition"></a>收入認列參數

收入認列設定是在 **總帳參數** 頁面的 **收入認列** 索引標籤 (**收入認列 \> 設定 \> 總帳參數**) 上設定。 可以使用以下設定：

- **收入認列日記帳名稱** – 選擇為收入認列建立的日記帳。 當從收益計畫表確認收入時，或者當您對已開票的銷售訂單進行重新配置時，需要使用日記帳。
- **啟用折扣配置方法** – 將此選項設定為 **是** 以透過配置每個已發布產品的收入價格中定義的公平市場價值來確定收入價格。 此配置包括跨品項配置任何明細折扣。 如果此選項設定為 **否**，系統會使用在每個已發布產品的收入價格中定義的中位價。 如果此選項設定為 **否**，但沒有為已發布的產品設定中位價，則不會配置收入價格。
- **包括標題折扣** – 將此選項設定為 **是** 以透過跨產品配置標題折扣來確定收入價格。 如果此選項設定為 **否**，則標題折扣不會包含在收入價格配置中。
- **停用合約條款** – 如果收入類型為 **合約後支援** 的產品，即使在未定義合約開始和結束日期的情況下也能發布，請將此選項設定為 **是**。 一般情況下，對於 **合約後支援** 收入類型的品項，必須有合約的開始日期和結束日期。 如果未定義合約開始日期和結束日期，則過帳收益計畫表的詳細資料會使用發生次數和發票日期來計算。
- **重新配置時將發票更正過帳到應收帳款** – 當您對已過帳的發票進行重新配置時，必須更正已過帳發票的會計分錄。 使用此選項來指定如何進行更正。

    - 將此選項設定為 **否** 將更正交易的過帳限制在總帳中。 當此選項設定為 **否** 時，不會在應收帳款中建立其他文件用於內部會計更正。 支付發票後，結算程序會使用舊會計分錄來過帳任何現金折扣或任何已實現的損益。
    - 將此選項設定為 **是** 為更正應收帳款中的交易自動建立回轉文件和新發票。 由於此更正是內部會計更正，因此不會將新文件傳送或傳達給客戶。 回轉文件會結算到原發票，由客戶支付新的已更正發票。 請注意，全部三份文件都會顯示在報告中，例如客戶報表。

[![設定資訊。](./media/revenue-recognition-setup-info.png)](./media/revenue-recognition-setup-info.png)

## <a name="revenue-schedules"></a>收益計畫表

必須為可以遞延的收入每次發生次數建立收益計畫表。 例如，如果您的組織在 6 個月、12 個月、18 個月和 24 個月期間提供支援，則您必須為每個期間建立收益計畫表。 收益計畫表設定會決定要如何在您選擇的多個期間配置收入價格， 也會決定發票過帳時，為所建立的收益計畫表輸入的預設日期。

如果您按里程碑確認收入，我們建議您為里程碑數量建立收入認列表，而不要考慮認列日期。 建立附表後，您可以對其進行編輯，以使其反映預期的里程碑日期。 您可以在收到已達到里程碑並且可以確認收入的通知之前擱置這些記錄。

收益計畫表是在 **收益計畫表** 頁面 (**收入認列 \> 設定 \> 收益計畫表**) 上建立的。

[![收益計畫表。](./media/revenue-recognition-revenue-schedules.png)](./media/revenue-recognition-revenue-schedules.png)

在 **收益計畫表** 和 **描述** 欄位中輸入描述性的值。 將發票過帳時，使用以下附加設定來建立收益計畫表。

- **發生次數** – 輸入收入遞延的月數或發生次數。
- **自動擱置** – 如果在將發票過帳時應自動擱置收益計畫表的所有明細，請選取此核取方塊。 必須先從附表的每一條明細手動移除擱置，然後才能確認該明細的遞延收入。
- **自動合約條款** – 如果應自動設定合約開始日期和結束日期，請選取此核取方塊。 這些日期僅針對 **合約後支援** 收入類型的已發布產品自動設定。 合約開始日期會自動設定為銷售訂單明細要求的出貨日期，合約結束日期會自動設定為開始日期加上收益計畫表設定中定義的月數或發生次數。 例如，銷售訂單明細上的產品保修期為一年。 預設收益計畫表是 **12M** (12 個月)，而且會為該收益計畫表選取 **自動合約條款** 核取方塊。 如果銷售訂單明細要求的出貨日期為 2019 年 12 月 16 日，則預設合約開始日期為 2019 年 12 月 16 日，而預設合約結束日期為 2020 年 12 月 15 日。
- **認列依據** – 認列依據決定了收入價格在發生次數之間的配置方式。

    - **每月按天** – 金額是根據每個日曆月份的實際天數配置。
    - **每月** – 金額會在發生次數中定義的月數中平均配置。
    - **發生次數** – 金額會在發生次數間平均配置，但如果您選擇 **實際開始日期** 做為認列慣例，則它可以包括一個額外的期間。
    - **會計期間按天** – 金額是根據每個會計期間的實際天數配置。 

    當會計期間按照行事曆月份時，**每月按天** 和 **會計期間按天** 的結果將是相同的。 唯一的例外是當認列慣例設定為 **月底/期間結束**，而銷售訂單明細上的 **合約開始日期** 和 **結束日期** 欄位留空時。

- **認列慣例** – 認列慣例會決定在發票收益計畫表中設定的日期。

    - **實際開始日期** – 附表是透過使用合約開始日期 (用於合約後支援 \[PCS\] 品項) 或發票日期 (用於必需和非必需品) 建立而成。
    - **當月/期間的第一天** – 第一個附表明細上的日期是合約開始日期 (或發票日期)。 但是，所有後續附表明細都是為當月或會計期間的第一天建立的。
    - **月中拆分** – 第一個附表明細上的日期取決於發票日期。 如果發票是在每月的第一天到第十五天過帳，則使用當月的第一天建立收益計畫表。 如果發票是在第七天以後過帳，則使用下個月的第一天建立收益計畫表。

        如果認列依據設定為 **會計期間按天**，則無法選擇 **月中拆分**。

    - **下個月/期間的第一天** – 附表開始的日期是下個月或會計期間的第一天。
    - **月底/期間結束** – 第一個附表明細上的日期是合約開始日期 (或發票日期)。 但是，所有後續附表明細都是為當月或會計期間的最後一天建立的。 

選擇 **收益計畫表詳細資料** 按鈕以查看一般期間和在每個期間確認的百分比。 預設情況下，**認列百分比** 值是在期間數間等分。 如果認列依據設定為 **每月**，則可更改認列百分比。 當您更改認列百分比時，會出現一則警告訊息，通知您總數不等於 100%。 如果您收到該訊息時，可以繼續編輯明細。 但是，在關閉頁面之前，總百分比必須等於 100。

[![收益計畫表詳細資料。](./media/revenue-schedule-details-2nd-scrn.png)](./media/revenue-schedule-details-2nd-scrn.png)

## <a name="inventory-setup"></a>庫存設定

如果文件上不包含任何品項，您可以確認銷售訂單上已發布產品的收入，但不能使用銷售訂單上的銷售類別或手寫發票確認收入。 您在設定已發布產品時所做的選擇決定了品項收入的確認方式。 例如，該選擇會決定是否配置收入價格，以及是否使用收益計畫表遞延收入。

可以在 **品項群組** 頁面的 **收入認列** FastTab 上 (**收入認列 \> 設定 \> 庫存和產品設定 \> 品項群組**) 開始設定。 此頁面包括數個設定欄位。 這些欄位僅用於為系統中建立的新發布產品設定預設值。 建立新產品時，預設會為品項群組輸入您在此處設定的值。 您可以在 **發布產品** 頁面 (**收入認列 \> 設定 \> 庫存和產品設定 \> 已發布產品**) 上覆寫已發布產品的預設值。 為已發布產品設定的預設值隨後會結轉到銷售訂單。

## <a name="item-groups-and-released-products"></a>品項群組和已發布產品

### <a name="define-the-revenue-schedule"></a>定義收益計畫表

如果為已發布產品定義了收益計畫表並預設使用在銷售訂單明細上，則會遞延銷售訂單明細上的收入。 如果產品應預設該設定，您可以在 **品項群組** 頁面的 **收入認列** FastTab (**收入認列 \> 設定 \> 庫存和產品設定 \> 品項群組**) 上定義收益計畫表。 您也可以在 **已發布產品** 頁面的 **收入認列** FastTab (**收入認列 \> 設定\> 庫存設定 \> 已發布產品**) 上為已發布產品定義該設定。

在 **收益計畫表** 欄位中，選擇代表收入必須遞延的期間的收益計畫表。 收益計畫表會自動輸入在銷售訂單上，而附表詳細資料是在銷售訂單發票過帳時建立的。

### <a name="define-the-revenue-price"></a>定義收入價格

可以使用中位價法或折扣配置法設定品項群組和已發布產品。 這兩種方法需要 **已發布產品** 頁面的不同設定：

- **收入配置是否有效** – 將此選項設定為 **是** 將已發布產品包括在收入配置計算中。 如果此選項設定為 **否**，且已定義中位價，則已發布產品會使用中位價。 如果未定義中位價，則會使用銷售訂單明細上的單價過帳到收入或遞延收入。
- **收入類型** – 選擇定義已發布產品的收入類型：

    - **必需** – 該品項是組織收入的主要來源。 此值為預設設定。
    - **非必需** – 該品項不是組織收入的主要來源。 當使用中位價設定時，會將價格「剔除」為中位價，然後進行配置。 例如，必需品具有必須確認為收入的固定價格。 如果有折扣，可能會從必需品收入中剔除折扣，但 **只** 會剔除高達固定價格金額。 其餘的折扣會從非必需品的收入中剔除。 或者，可能不會從必需品收入中剔除折扣。
    - **合約後支援** – 品項支援向客戶銷售中所含的其他元素。 收入價格分佈在銷售中包含的必需和非必需產品中。 根據設定，PCS 品項可能不需要在銷售訂單明細上定義合約開始日期和結束日期。

- **不包含在剔除中** – 將此選項設定為 **是** 以表示品項的中位價不能調整為低於定義的最小百分比或高於最大百分比。 任何收入價格將來自銷售訂單中包含的另一個已發布產品的收入價格。 如果此選項設定為 **否**，則可以調整或剔除品項的中位價。請注意，如果您銷售一件以上設為中位價的品項，則必須至少設定一個已發布的產品，其中 **不包含在剔除中** 選項設定為 **否**。 如此一來，至少有一個品項可以配置收入價格的任何差異。
- **中位價** – 將此選項設定為 **是** 以指示價格如果低於您指定的最小容限值或高於最大容限值，應調整品項的收入價格，使其等於中位價，並且應將剔除金額配置給產品的 **不包含在剔除中** 選項設定為 **否** 的明細。

    - **最大容限值** – 輸入允許高於中位價的百分比。
    - **最小容限值** – 輸入允許低於中位價的百分比。

完成配置已發布產品的設定後，您必須手動定義收入價格，方法是在 **收入價格** 頁面 (移至 **收入認列 \> 設定 \> 庫存設定 \> 已發布產品**，然後在動作窗格中的 **出售** 索引標籤上，選擇 **收入認列** 群組中的 **收入價格**)。

[![收入價格。](./media/revenue-recognition-revenue-prices.png)](./media/revenue-recognition-revenue-prices.png)

在此頁面上手動定義的收入價格會用來根據定義的準則決定每個銷售訂單的收入價格配置。 每個準則都與銷售訂單明細相比對，以確定配置過程中應使用的收入價格。

- **品項代碼** 和 **品項關係** – 可以為單個產品或一組產品定義收入價格。 如果您在 **品項代碼** 欄位中選擇 **表格**，請在 **品項關係** 欄位中選擇已發布的產品。 如果您在 **品項代碼** 欄位中選擇 **群組**，請在 **品項關係** 欄位中選擇品項群組。
- **帳戶代碼** 和 **帳戶/群組號碼** – 可以為所有客戶、個別客戶或一組客戶定義收入價格。 如果您在 **帳戶代碼** 欄位中選擇 **全部**，則該價格會用於所有客戶。 如果您在 **帳戶代碼** 欄位中選擇 **表格**，請在 **帳戶/群組號碼** 欄位中選擇客戶。 如果您在 **帳戶代碼** 欄位中選擇 **群組**，請在 **帳戶/群組號碼** 欄位中選擇客戶群組。
- **貨幣** – 您必須為輸入銷售訂單時使用的每種貨幣輸入單獨的收入價格。 例如，如果您目前以美元、加幣和歐元進行銷售，則必須以全部三種貨幣定義收入價格。 收入價格不會從一種貨幣 (如會計貨幣) 換算為您使用之任何其他交易的貨幣。
- **金額或定價百分比** – 指定收入價格是設定為標價的金額還是百分比。 如果您選擇 **定價百分比**，則使用者可以輸入中位價做為標價的百分比而不是金額。 **定價百分比** 值僅用於設定為 PCS 品項的已發布產品。
- **收入配置價格** – 取決於您在 **金額或定價百分比** 欄位中所選的值，輸入一個金額或百分比來表示用於在銷售訂單上的元素之間配置收入的收入價格。
- **開始日期** 和 **結束日期** – 輸入收入價格有效的日期範圍。 這些欄位為選擇性。

如果 **總帳參數** 頁面上的 **啟用折扣配置方法** 選項設定為 **是**，而且若是已發布產品的 **收入類型** 設定為 **合約後支援**，則您也必須指定已發布產品支援的品項。 此設定是在 **設定依據** 頁面完成 (移至 **收入認列 \> 設定 \> 庫存設定 \> 已發布產品**，然後在動作窗格中的 **出售** 索引標籤上，選擇 **收入認列** 群組中的 **設定依據**)。

在 **設定依據** 頁面上，為品項所支援的每個品項群組新增一筆記錄。 當進行收入配置時，收入價格將分配到 PCS 品項的必需和非必需部分。

### <a name="posting-profiles"></a>過帳設定檔

有三種額外的過帳類型支援遞延收入的能力。 這些過帳類型是在 **過帳** 頁面的 **銷售訂單** 索引標籤上 (**收入認列 \> 設定 \> 庫存和產品設定 \> 過帳**) 設定。

- **遞延收入** – 輸入過帳到遞延收入 (而不是收入) 的收入價格的主科目。 如果銷售訂單明細有收益計畫表，則會遞延收入價格。
- **遞延的銷貨成本** – 輸入銷貨成本金額的主科目，這會在收入也被遞延時過帳到遞延的銷貨成本。
- **部分發票收入清算** – 輸入在銷售訂單部分開票或進行重新配置時使用的清算科目的主科目。 當銷售訂單全部開票時，此帳戶中的餘額將恢復為 0 (零)。

### <a name="bundles"></a>搭售方案

搭售方案品項是獨特的已發布產品，且經過設定以包含元件。 此設定是透過物料清單 (BOM) 功能完成的。 在銷售訂單上輸入搭售方案品項時，會使用個別元件來確定收入價格和收益計畫表。 然而，客戶的列印文件 (例如銷售訂單和發票) 會反映搭售方案品項。

#### <a name="bundle-components"></a>搭售方案元件

搭售方案中包含的元件必須在 **已發布產品** 頁面 (**收入認列 \> 設定 \> 庫存和產品設定 \> 已發布產品**) 上設定。 這些元件是已發布的產品，它們的設定方式必須與 BOM 中包含的產品相同。 例如，已發布的產品可以是 **品項** 類型或 **服務** 類型的品項，但它必須指派至一個品項模型群組，其中 **庫存產品** 選項設定為 **是**。 如需詳細資訊，請參閱 BOM 品項的設定文件。

元件也必須針對確認收入進行設定，如同可以在銷售訂單上單獨銷售的產品一樣。 例如，確實為每個元件定義了正確的收入價格，並為 PCS 品項設定了價格依據。

#### <a name="bundle-items"></a>搭售方案品項

當設定搭售方案品項時，您必須在 **已發布產品** 頁面 (**收入認列 \> 設定 \> 庫存和產品設定 \> 已發布產品**) 上設定兩個欄位。

- 在 **生產類型** 欄位的 **工程師** FastTab 中，該品項必須設定為 BOM 品項。
- 在 **搭售方案** 欄位的 **一般** FastTab 中，該品項必須標記為搭售方案品項。

然後必須在 **BOM 版本** 頁面 (移至 **收入認列 \> 設定 \> 庫存和產品設定 \> 已發布產品**，然後在動作窗格中的 **工程師** 索引標籤中，選擇 **物料清單** 群組中的 **BOM 版本**) 上將元件指派至搭售方案/BOM 父項。 如需詳細資訊，請參閱 BOM 的設定文件。

[![已發布的產品，BOM 附表。](./media/revenue-recognition-bom-scheduleds.jpg)](./media/revenue-recognition-bom-scheduleds.jpg)

如果搭售方案父項和搭售方案元件設定為配置，則搭售方案收入價格將根據其收入貢獻百分比分配給元件。

## <a name="project-setup"></a>專案設定

收入認列還可用於透過時間和材料專案建立的銷售訂單。 對於源自專案的銷售訂單，您只需在項目過帳設定檔中定義用於過帳專案發票的主科目。 主科目是在 **分類帳過帳設定** 頁 (**收入認列 \> 設定 \> 專案設定 \> 分類帳過帳設定**) 上定義。

- **遞延的發票收入** (在 **收入帳戶** 底下) – 輸入過帳到遞延收入 (而不是收入) 的收入價格的主科目。 如果銷售訂單明細有收益計畫表，則會遞延收入價格。
- **遞延成本** (在 **成本帳戶** 底下) – 輸入銷貨成本金額的主科目，這會在收入也被遞延時過帳到遞延的銷貨成本。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
