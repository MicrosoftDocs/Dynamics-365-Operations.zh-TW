---
title: 設定科目結構
description: 本主題提供有關科目結構和財務維度的資訊。
author: aprilolson
ms.date: 06/03/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: LedgerEliminationRule
audience: Application User
ms.reviewer: roschlom
ms.custom: 13131
ms.assetid: 08fd46ef-2eb8-4942-985d-40fd757b74a8
ms.search.region: Global
ms.author: aolson
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: cc9219009991cce3f4df9c6f7e04903f5625dd80
ms.sourcegitcommit: b2fe67e2fe6a99a35decb04c8d62efd1e94fe1b8
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/22/2021
ms.locfileid: "8451317"
---
# <a name="configure-account-structures"></a>設定科目結構

[!include[banner](../includes/banner.md)]

科目結構使用主科目和財務維度來建立一組規則，用於在輸入帳號時確定使用的順序和值。 您可以根據業務需要設定任意數量的科目結構。 將科目結構指派給公司的分類帳設定，以便共用。

建立科目結構時，最大區段數為 11。 如果您需要比這更多的區段，請徹底評估您的設定和要求，因為這會影響使用者體驗。 考慮是否可以在申報方案中使用階層衍生，而不是在資料輸入期間或透過使用使用者定義的欄位來衍生區段。 例如，如果要按位置申報，但可以透過部門或成本中心識別位置，則不需要將位置設為財務維度。 如果在評估後確定需要超過 11 個區段，則可以使用進階規則新增其他區段。

科目結構需要主科目。 主科目不必是結構中的第一個區段，但它確實確定了在輸入帳號期間使用的科目結構。 因此，主科目值只能存在於指派給分類帳的一個結構中，以免重疊。 識別科目結構後，篩選允許值清單以引導使用者僅選擇有效的維度值，從而減少錯誤日記帳分錄的可能性。

> [!NOTE] 
> 如果您計劃根據財務維度編製預算，則其必須是科目結構的一部分。 預算編制目前不使用進階規則。

## <a name="example"></a>範例
為了說明設定科目結構的最佳做法，假設一家公司想要在科目和事業單位財務維度等級追蹤其資產負債表科目 (100000..399999)。 對於收入和費用科目 (400000..999999)，公司追蹤財務維度事業單位、部門和成本中心。 如果他們進行銷售，也希望追蹤客戶。 如果使用此方案，建議將兩種科目結構指派給公司的分類帳 - 一種用於資產負債表科目，一種用於損益科目。 為了最佳化使用者體驗和驗證，客戶應該是一個進階規則，僅在使用銷售科目時使用。

**資產負債表科目結構**

|主科目          | 事業單位    |
|----------------------|-----------|
|100000..399999 | *;” “|

**損益科目結構**

|主科目          | 事業單位    |部門          | 成本中心    | &nbsp; |
|----------------------|------------------|--------------------|-----------|---|
|400000..999999 | \*;” “| \*;” “| \*;” “| \*;” “|

**新增客戶的進階規則**

條件：如果主科目在 400000 和 499999 之間，則新增客戶。 不能將其留空。

|客戶         |
|-----------------|
|* |

在此簡化範例中，允許使用所有值和空白，因此使用 * 和 “ “。

## <a name="segments-and-allowed-values"></a>區段和允許值
**區段** 和 **允許值詳細資料** 部分提供了格線式體驗，用於輸入在過帳期間驗證時將遵循的規則。 您可以直接在格線中的儲存格中鍵入，從 Excel 中匯入，或使用 **允許值詳細資料** 部分來引導您完成。

**允許值詳細資料** 部分將引導您使用開頭為、介於、包括等各種 **運算子** 建立條件。

[![允許值。](./media/account.png)](./media/account.png) 

當根據科目結構設定沒有其他可能的值可供選擇時，允許的值將預設顯示在日記帳或會計指派分錄頁面。

以下是 **損益科目結構** 的範例。

|主科目          | 事業單位    |部門          | 成本中心    |
|----------------------|-----------|----------------------|-----------|
|400000..999999 | 002 | 022 | 014 |

輸入日記帳並選擇損益範圍內的科目時，選擇事業單位 '002' 將導致值 022 和 014 成為科目控制項的預設值。 會計分配頁面也會出現以下行為。 

## <a name="more-than-7-criteria-needed"></a>需要超過 7 個條件

如果您需要超過 7 個條件，您可以在下一行繼續新增條件。 您將發現在 **允許值詳細資料** 部分中工作時，輸入第七個條件後，**+ 新增** 條件不再處於使用中狀態。 這是由於許多因素造成的，例如： 
 - 欄寬 
 - 資料的儲存方式 
 - **允許值詳細資料** 控制項的效能
 - 可用性  
 
要繼續新增其他條件，請點擊 **在區段中複製** 和 **允許值部分**。 這會將條件複製到新行。 然後，您可以鍵入或修改 **允許值詳細資料** 部分。

## <a name="best-practices"></a>最佳做法
在設定科目結構時，可以遵循一些最佳做法。 但是，這只是引導，因此應將有關您的業務、成長計劃和維護計劃的整體討論視為該討論的一部分。

- 將主科目放在首位或盡可能靠近科目結構的前面，以便使用者在科目輸入流程中獲得最佳的引導體驗。

- 盡可能重複使用科目結構，以減少您的法律實體的維護。

- 對於跨法律實體的變化，考慮使用進階規則，以便可以重複使用科目結構。

- 定義允許值時，盡可能使用範圍和萬用字元。 這樣在此設定下不僅可以在無需維護的情況下進行擴展和變更，而且系統還可以更理想地執行。

- 請不要只為科目結構中的每個區段加上星號，然後完全依賴進階規則。 這可能難以管理，並且經常導致維護期間的使用者錯誤，從而導致系統無法過帳。

## <a name="account-structure-activation"></a>科目結構啟用
如果您對新設定或對科目結構的變更感到滿意，則必須啟用它。 如果將科目結構指派給分類帳，則此啟用可能需要執行很長一段時間，因為系統中的所有未過帳交易都必須同步到新結構。 過帳交易不受科目結構變更的影響。

有關詳細資料，請參閱[計劃會計科目表](plan-chart-of-accounts.md)、[財務維度](financial-dimensions.md)和[輸入科目和維度組合 (分區段輸入控制項)](enter-account-dimension-combinations-segmented-entry-control.md)。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
