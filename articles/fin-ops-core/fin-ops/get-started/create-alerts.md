---
title: 建立警示規則
description: 本主題提供有關警示的資訊並說明如何建立警示規則。
author: RichdiMSFT
ms.date: 10/08/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EventCreateRule
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: richdi
ms.search.validFrom: 2018-3-30
ms.dyn365.ops.version: Platform update 15
ms.openlocfilehash: 597785e65f127794ca84fe3053a664f717b056bd7374e0396732d4bcf59a743c
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/05/2021
ms.locfileid: "8460320"
---
# <a name="create-alert-rules"></a>建立警示規則

[!include [banner](../includes/banner.md)]

## <a name="getting-started"></a>開始使用

在設定警示規則之前，請確定您希望何時或在什麼情況下接收警示。 當您知道要通知哪個事件時，找到導致該事件出現的資料的頁面。 該事件可以是到達的日期或發生的特定更改。 因此，您必須找到指定日期的頁面，或者出現更改的欄位或建立的新記錄的頁面。 在獲得此資訊後，您可以建立警示規則。

建立警示規則時，您定義在觸發警示之前必須滿足的條件。 標準基本上是事件的發生與特定條件的滿足之間的比對。 當事件發生時，系統開始根據安裝的條件進行檢查。

## <a name="ensure-the-alert-batch-jobs-are-running"></a>確保警示批次處理作業正在執行

需要執行資料更改和到期日警示的批次處理作業，以便處理警示條件並發送通知。 若要執行批次處理作業，請進入 **系統管理** > **定期工作** > **警示** 並為 **基於更改的警示** 和/或 **到期日警示** 新增新的批次處理作業。 如果需要長時間且頻繁執行的批次處理作業，請選取 **重複性** 並設定 **無結束日期**，**重複模式** 為 **分鐘**，**計數** 為 **1**。

## <a name="events"></a>事件

觸發警示規則的事件可以是到達的日期或發生的特定更改。 事件的觸發程式在 **建立警示規則** 對話方塊的 **警示我時** FastTab 卡上定義。 可用於特定欄位的事件取決於所選的觸發程式。

例如，如果您正在為 **開始日期** 欄位安裝警示規則，則到期日事件是適當的。 因此，`is due in` 事件類型可用於該欄位。 但是，對於諸如 **成本中心** 的欄位，到期日事件不合適。 因此，`is due in` 事件類型不可用。 相反，`has changed` 事件類型可用。

## <a name="event-types"></a>事件類型

可能發生三種類型的事件：

- **建立類型和刪除類型事件** – 這些事件會在建立或刪除記錄時觸發警示。
- **更新類型事件** – 當特定欄位中的資料發生變化時，這些事件會觸發警示。
- **到期日類型的事件** – 這些事件會在日期到來時觸發警示。
    
發生的改變可以由使用者發起。 例如，使用者更改訂購單的交貨日期。 或者，更改可以作為過程的一部分發生。 例如，頁面上的 **狀態** 欄位會變化以反映系統中各個流程的生命週期。

## <a name="conditions"></a>條件

在 **建立警示規則** 對話方塊的 **提醒我的原因** FastTab 上，您可以使用條件來控制何時收到與事件有關的警示。

例如，您可以指定係統應在訂購單狀態更改時提醒您，但前提是該狀態與一組特定條件相符。 具體來說，您希望在訂購單的狀態設定為 **已收到**。 這種狀態變化是觸發警示的事件。

接下來，您必須決定要提醒哪些訂購單。 例如，您可以選取以下選項之一。 這些選項定義警示規則的條件。

- **現行選取的記錄** – 當特定訂購單的狀態更改為 **已收到**。
- **所有記錄** – 當有效網頁檢視中某個品項的訂購單狀態發生更改時，您會收到警示。 您可以使用頁面上可用的進階過濾來為特定記錄集建立規則。 例如，您可以為特定客戶組中的客戶建立針對所有訂購單觸發的警示。
    
## <a name="expiry-of-rule"></a>規則到期

在 **建立警示規則** 對話方塊的 **提醒我的結束時間** FastTab 上，您可以指定警示規則應該啟用多長時間。

## <a name="alert-contents"></a>警示內容

在 **建立警示規則** 對話方塊的 **提醒我的方式** FastTab 上，您可以指定警示訊息應使用的主題文字和訊息文字。

## <a name="user-id"></a>使用者 ID

在 **建立警示規則** 對話方塊的 **提醒我的方式** FastTab 上，您可以指定應該接收警示訊息的使用者。 在預設情況下，您的使用者 ID 已選取。 更改接收警示的使用者的能力僅限於組織管理員。

## <a name="alerts-as-business-events"></a>警示作為商務活動

您可以使用商務活動架構向外部發送警示。 在建立警示時，將 **組織範圍** 設定為 **否** 並將 **對外發送** 設定為 **是**。 在警示觸發商務活動後，您可以使用 Finance and Operations 連接器上的 **商務活動發生時間** 觸發程式觸發 Power Automate 中內建的流程，或透過 **商務活動目錄** 將事件顯式發送到商務活動端點。

## <a name="create-an-alert-rule"></a>建立警示規則

0. 確保警示批次處理作業正在執行 (見上文)
1. 打開包含要監控的資料的頁面。
2. 在動作窗格上，在 **選項** 索引標籤上，在 **分享** 組中，選取 **建立警示規則**。
3. 在 **建立警示規則** 對話方塊中，在 **欄位** 欄位，選取要監控的欄位。
4. 在 **事件** 欄位中，選取事件類型。
5. 在 **提醒我的原因** FastTab 上，選取所需的選項。 如果要將警示作為商務活動發送，請將 **組織範圍** 值設定為 **否**。
6. 如果警示規則在特定日期變為非活動狀態，則在 **提醒我的結束時間** FastTab 上，選取一個結束日期。
7. 在 **提醒我的方式** FastTab 卡，在 **主題** 欄位中，接受電子郵件的預設主題標題，或輸入新主題。 觸發警示時，該文字將成為您收到的電子郵件的主題。 如果要將警示作為商務活動發送，請將 **外部發送** 設定為 **是**。
8. 在 **訊息** 欄位中，輸入可選訊息。 觸發警示時，文字將成為您收到的訊息。
9. 選取 **確定** 儲存設定並建立警示規則。

## <a name="limitations-and-workarounds"></a>限制和解決方法

### <a name="workaround-for-creating-alerts-for-the-secondary-data-sources-of-a-form"></a>為表單的次要資料來源建立警示的解決方法
您無法為表單上的某些次要資料來源建立警示。 例如，在客戶或廠商過帳設定檔案表單上建立警示時，只有標題 (CustLedger 或 VendLedger) 上的欄位可用，而維度科目無法提供使用。 此限制的解決方法是使用 **SysTableBrowser** 將該表作為主資料來源打開。 
1. 在 **SysTableBrowser** 表單中打開資料表。
    ```
        https://<EnvironmentURL>/?cmp=USMF&mi=SysTableBrowser&TableName=<TableName>
    ```
2. 從 SysTableBrowser 表單建立警示。

### <a name="change-based-alerts-do-not-work-for-batch-status-changes"></a>基於更改的警示不適用於批次狀態更改
基於變化的警示對批次狀態變化不起作用，因為它出於效能原因被關閉。 相反，您應該設定 **批次** 警示函數。 如需相關資訊，請參閱[為批次處理增強表單設定警示](../../dev-itpro/sysadmin/alerts.md#set-up-alerts-for-batch-enhanced-forms)。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]