---
title: 功能管理概觀
description: 本主題說明功能管理以及使用方法。
author: Peakerbl
ms.date: 01/10/2022
ms.topic: overview
ms.prod: ''
ms.technology: ''
ms.search.form: FeatureManagementWorkspace
audience: IT Pro, Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: peakerbl
ms.search.validFrom:
- month/year of release that feature was introduced in
- in format yyyy-mm-dd
ms.dyn365.ops.version: 10.0.2
ms.openlocfilehash: c98bdbd64ee5488da20de3f5b23ae18ebce8c23f
ms.sourcegitcommit: 3a7f1fe72ac08e62dda1045e0fb97f7174b69a25
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/31/2022
ms.locfileid: "8460181"
---
# <a name="feature-management-overview"></a>功能管理概觀

[!include [banner](../../includes/banner.md)]


[!INCLUDE [PEAP](../../../../includes/peap-1.md)]

每個版本都會新增和更新功能。 功能管理體驗提供了一個工作區，您可以在其中查看每個版本中已提供的功能清單。 然後，您可以使用工作區查看功能文件，並啟用或停用功能。

## <a name="the-feature-management-workspace"></a>功能管理工作區

您可以透過在儀表板上選取適當的圖格來打開 **功能管理** 工作區。 您將看到一個頁面，其中顯示了功能管理體驗支援的所有版本的功能清單。 

功能清單包括以下資訊：

- **功能名稱** – 新增的功能的描述。
- **狀態** – 符號表示功能是否已開啟 (核取標記)、已關閉 (空白)、計劃開啟 (時鐘)、強制 (鎖定)、開啟前需要注意 (警告符號)、或無法開啟 (X)。 顯示的設定用於所有法律實體。 請注意，即使打開了某個功能，它仍然受安全性控制。 因此，該功能將僅適用於根據其安全角色有權存取它的使用者。 它也將僅在使用者有權存取的法律實體中提供。
- **啟用日期** – 功能開啟或計劃開啟的日期。
- **新增的功能** – 將功能新增到您的環境的日期。 當您在每月發布週期內更新環境時，會自動輸入此日期。
- **功能狀態** – 功能目前的生命週期狀態：**預覽**、**發布** (顯示為空白)、**預設開啟**，和 **強制**。 本主題後面將詳細介紹這些狀態。 
- **模組** – 受新功能影響的模組。

> [!NOTE]
> 自版本 10.0.21 起包含 **功能狀態** 欄。

選取功能後，功能清單右側的詳情窗格中會顯示更多資訊。 在窗格頂部，您將看到功能名稱、新增功能的日期、受功能影響的模組以及 **了解更多** 連結。 選取此連結以查看該功能的文件。 如果文件不可用，您將被帶到一個臨時頁面。 詳情窗格還包括一個 **註解** 欄位，您可以在其中新增您自己的關於該功能的註解。

**功能管理** 工作區還有幾個索引標籤，每個索引標籤都顯示一個功能清單。

- **新建** – 此索引標籤顯示自上次每月更新以來新增的所有功能。 如果您跳過了任何每月更新，則該索引標籤會顯示自您上次更新以來新增的所有新功能。 最新功能出現在清單頂部。 新功能的總數也顯示在頁面頂部的圖格上。
- **未啟用** – 此索引標籤顯示所有未打開的功能。 最新功能出現在清單頂部。 此外，頁面頂部的圖格顯示目前關閉的新功能的總數。
- **預定的** – 此索引標籤顯示已安排在未來啟用的所有功能。 具有最早計劃日期的要素顯示在清單頂部。 此外，頁面頂部的圖塊顯示計劃功能的總數。
- **全部** – 此索引標籤顯示所有功能。 最新功能出現在清單頂部。

## <a name="feature-states"></a>功能狀態
功能可以在多種狀態之間轉換，從在功能管理中引入到最終成為產品中的強制性。 本節介紹有效的功能狀態。

### <a name="preview-features-optional"></a>預覽功能 (選取性)

產品團隊可以決定最初啟動一項新功能作為預覽功能。 在預設情況下不啟用預覽功能，它們是可選的。 擁有的產品團隊將在成功完成預覽期後更新功能以發布。

> [!NOTE]
> 預覽功能受特定預覽[條款和條件](https://go.microsoft.com/fwlink/?linkid=2105274)的約束。 

### <a name="released-features-optional"></a>已發行功能 (選取性)

這些功能的 **功能狀態** 欄是空白的。 最初新增為發布的功能預設情況下不會打開，可自行選取啟用它們。 從預覽更新的功能將保持其啟用狀態。

### <a name="on-by-default-features-optional"></a>預設開啟功能 (選取性)

更新為 **預設開啟** 的功能預設為開啟，但可以停用。 在可以停用的功能處於 **已發布** 狀態至少六個月後，預計它們將在下一個主要版本中移至此狀態。 轉換為 **預設開啟** 的功能預計將在該版本的[最新訊息](../whats-new-changed.md)主題中傳達。 更新由擁有的產品團隊發起。

> [!NOTE]
> 由於這些功能將自動啟用，因此您必須確定您的組織是否已準備好採用這些功能，或者是否需要更多時間。 如果需要更多時間，可能需要暫時停用這些功能。 請注意，將功能轉換為 **預設啟用** 通常在主要版本中完成，然後該功能將成為 **強制性**。 屆時，您將無法選取停用該功能。 

### <a name="mandatory"></a>強制

**強制性** 是功能的預期最終狀態。 它表示這些功能已打開，並且您無法在不聯絡 Microsoft 的情況下停用它們。 在兩個主要版本之後，可選功能預計將成為強制性的。 在例外情況下，可以強制引入關鍵特性。

## <a name="example-of-expected-feature-lifecycles"></a>預期功能生命週期範例

可以停用的功能，以及在 4 月版本之前或作為其一部分新增為已發布和可選的功能，預計將在接下來的 10 月版本中過渡到 **預設開啟**。 然後，預計它們將在次年 4 月成為 **強制性**。

可以停用的功能，以及在 4 月版本之前或作為其一部分新增為已發布和可選的功能，預計將在下一年的 4 月中過渡到 **強制性**。

## <a name="enable-a-feature"></a>啟用功能

如果有功能尚未開啟，**立即啟用** 按鈕則出現在詳情窗格中。 您可以使用此按鈕啟用該功能。

某些功能在啟用後無法停用。 如果您嘗試打開的功能無法啟用，您將收到警告。 此時，您可以選取 **取消** 來取消動作並停用該功能。 但是，如果您選取 **啟用** 以啟用該功能，您以後將無法停用它。

某些功能會在您啟用它們之前顯示一條提供附加資訊的訊息。 這些功能由黃色警告符號表示。 您應該仔細閱讀附加資訊，以確保您了解啟用該功能後會發生什麼。 但是，您仍然可以選取 **啟用** 來啟用該功能。

某些功能會顯示一條訊息，指出在採取動作之前無法啟用該功能。 這些功能由紅色 X 符號表示。 在啟用該功能之前，您必須執行描述中描述的動作。 例如，如果您在停用設定金鑰之前無法使用某個功能，則您必須先停用該設定金鑰，然後回傳功能管理以啟用該功能。

啟用某項功能後，詳情窗格中的 **了解更多** 連結下方會顯示一條訊息。 此訊息表明該功能已啟用，或指示該功能計劃啟用的未來日期。 每次您在功能清單中選取功能時，它都會出現。

計劃在未來啟用的功能出現在 **計劃** 索引標籤上。一個批次程式將在指定日期的午夜啟用它們，基於系統日期所代表的時區。

## <a name="reschedule-a-feature"></a>重新安排功能

如果計劃在將來啟用某項功能，**計劃** 按鈕則會出現在詳情窗格中。 您可以使用此按鈕將 **啟用日期** 值更改為不同的日期。

1. 選取要重新計劃的計劃功能，然後在詳情窗格中，選取 **計劃**。
2. 在出現的對話方塊中，在 **啟用日期** 欄位中，指定應啟用該功能的新日期。
3. 選取 **啟用** 重新安排功能或 **停用** 取消計劃。

## <a name="disable-a-feature"></a>停用功能

如果已啟用某項功能，則詳情窗格中將顯示 **停用** 按鈕。 您可以使用此按鈕停用該功能。 如果無法停用該功能，則無法使用 **停用** 按鈕。 

停用某項功能後，詳情窗格中的 **了解更多** 連結下方會顯示一條訊息。 此訊息表明該功能尚未啟用。 每次您在功能清單中選取功能時，它都會出現。 未啟用的功能顯示在 **未啟用** 索引標籤上。

## <a name="features-that-must-be-enabled"></a>必須啟用的功能

有時，提供的關鍵功能必須在您進行更新時自動啟用。 這些功能將在 **啟用日期** 欄位中指定的日期自動啟用。 對於這些功能，詳情窗格中的 **了解更多** 連結下方會顯示一條訊息。 此訊息表明該功能已啟用，或指示該功能將啟用的未來日期。 每次您在功能清單中選取功能時，它都會出現。

## <a name="enable-all-features"></a>啟用所有功能

您可以透過選取 **啟用全部** 按鈕來啟用所有功能。 

當您選取 **啟用全部** 時，會出現一個選項，您必須提供以下資訊：

- 在啟用之前需要確認的所有功能的清單。 如果要啟用清單中的功能，請為 **啟用需要確認的功能** 按鈕選取 **是**。
- 將顯示所有無法啟用的功能的清單。 這些功能將不會啟用。

所有可以啟用的功能都將啟用。 如果某個功能已計劃在將來啟用，則該計劃不會更改。 

## <a name="enable-all-features-automatically"></a>自動啟用所有功能

如果要自動啟用所有新功能，可以使用工作區標題下的下拉式清單來更改新增新功能時發生的情況。

- 選取 **自動啟用新功能** 在將所有新功能新增到您的環境時自動啟用它們。
- 如果在將所有適用的新功能新增到您的環境時預設情況下應關閉它們，請選取 **不自動啟用新功能**。

當您自動啟用所有功能時，它將啟用當您點選 **啟用所有** 按鈕時將啟用的所有功能。 它不會啟用需要確認的功能或在採取動作之前無法啟用的功能。

## <a name="check-for-updates"></a>檢查更新

每次更新後，功能都會新增到您的環境中。 但是，您可以透過點選 **檢查更新** 按鈕手動檢查更新。 更新後新增到系統的任何功能都將新增到功能清單中。 例如，如果在發布後啟用了已發布的功能，則您可以檢查更新並且該功能將新增到您的清單中。

## <a name="assigning-roles"></a>指派角色

**功能管理** 工作區可以由系統管理員打開，也可以由指派給功能管理員角色或功能查看者角色的使用者打開。 建立這兩個角色是為了支援功能管理體驗。 具有功能管理員角色的使用者可以打開或關閉任何功能。 他們還可以更新該功能的 **註解** 欄位。 具有功能查看者角色的使用者只能查看 **功能管理** 工作區。 他們無法打開或關閉功能。

功能管理員角色和功能查看者角色不會覆寫使用者擁有的現有安全性。 他們只是控制使用者是否可以打開和關閉功能。 它們本身不提供對功能的存取。

## <a name="features-that-use-configuration-keys"></a>使用設定鍵的功能

如果某項功能使用設定密鑰，但設定密鑰未打開，則 **功能管理** 工作區不會在可用功能清單中顯示該功能。 打開設定密鑰後，您必須使用 **檢查更新** 選單項目。 然後該功能出現在功能清單中。

如果您關閉設定金鑰，則不會從功能清單中刪除該功能。

## <a name="data-entities"></a>資料實體

名為 **功能管理** 的資料實體允許您從一個環境中匯出功能管理設定，然後將它們匯入另一個環境。 該實體僅更新現有功能。 實體中的業務邏輯還有助於確保在匯入完成時應用在 **功能管理** 工作區中使用的相同規則。 例如，您不能透過在匯入期間刪除日期來覆寫強制功能設定。

以下範例描述了使用 **功能管理** 實體匯入資料時發生的情況。

- 如果您將 **已啟用** 欄位更改到 **是**，該功能已啟用，並且 **啟用日期** 欄位設定為目前的日期。
- 如果將 **已啟用** 欄位的值更改為 **否** 或將 **EnableDate** 欄位留空，則該功能被停用，並且 **啟用** 欄位被清除。 您不能停用強制功能或啟用後無法停用的功能。
- 如果您將 **EnableDate** 欄位更改到未來的日期，該功能計劃在該日期。
- 如果您將 **已啟用** 欄位的值更改為 **是** 並將 **EnableDate** 欄位的值更改為將來的日期，則該功能將安排在該日期。 
- 如果將 **已啟用** 欄位的值更改為 **否**，但同時將 **EnableDate** 欄位的值更改為將來的日期，則該功能計劃在該日期進行。
- 如果啟用了一項功能，並且您新增了一個設定為未來日期的 **EnableDate** 欄位，則該功能將保持啟用狀態。 若要重新計劃功能，您必須將 **已啟用** 欄位的值更改為 **否**。

## <a name="feature-management-and-flighting"></a>功能管理和小眾測試

功能管理使您可以控制每個版本中提供的功能。 小眾測試讓 Microsoft Teams 向有限數量的客戶發布功能，以便可以在不影響所有客戶的情況下測試和驗證這些功能。 功能管理不控制任何功能的小眾測試。

## <a name="using-feature-management-to-turn-on-isv-features-or-custom-features"></a>使用功能管理打開 ISV 功能或自訂功能

功能管理目前不適用於來自獨立軟體廠商 (ISV) 的功能和自訂功能。 但是，Microsoft 正在新增更多函數來增強函數管理。 完成這些增強功能後，Microsoft 將使功能管理可用於所有功能，並提供有關更新功能以使用它的說明。

## <a name="frequently-asked-questions-faq"></a>常見問題 (FAQ)

### <a name="when-are-features-added-removed-or-changed"></a>何時新增、刪除或更改功能？ 
擁有產品團隊透過代碼更改新增、刪除和更改功能。 必須更新環境才能接收這些更改。

### <a name="does-a-feature-become-mandatory-automatically"></a>一項功能是否會自動成為必需功能？ 
不，一項功能不會自動成為強制性的。 擁有的產品團隊必須進行代碼更改。

### <a name="why-isnt-there-a-specific-mandatory-enabled-date"></a>為什麼沒有特定的「強制啟用日期」？ 
更新發佈時間是變數、環境更新時間是變數，客戶可以選取跳過一些更新。 因此，很難確定具體日期。 

### <a name="wheres-the-documentation-for-features-that-are-mandatory"></a>強制性功能的文件在哪裡？ 
本文件來自每個 Dynamics 365 應用程式團隊。 通常，這些功能會在[更新用戶端功能狀態](/dynamics365-release-plan/2021wave1/finance-operations/finance-operations-crossapp-capabilities/updates-client-feature-states)或[已刪除或不推薦使用的功能](../../../dev-itpro/migration-upgrade/deprecated-features.md)中提及。 

### <a name="is-there-an-in-product-notification-or-signal-that-a-feature-is-going-to-be-mandatory-enabled"></a>是否有產品內通知或信號表明某個功能將被強制啟用？ 
今天不存在與強制功能相關的通知機制。

### <a name="do-features-ever-get-enabled-without-the-customer-knowing-about-it"></a>是否在客戶不知情的情況下啟用了功能？ 
是的，在以下情況下，可以在客戶不知情的情況下啟用功能：
- 功能被移至 **預設開啟**。 在這種狀態下，該功能仍然可以被停用。 
- 功能已更新為 **強制性**。 此更改只會與主要版本一起發生。 關鍵功能可能會在任何更新時被移至 **強制性**。

### <a name="what-is-feature-flighting-and-how-does-it-relate-to-feature-management"></a>什麼是功能小眾測試，它與功能管理有什麼關係？ 
功能小眾測試是 Microsoft 控制的即時開關。 它們與功能管理提供的客戶控制是分開的。 
- 私人預覽版功能在啟用前不會在功能管理中列出。 在生產中，客戶需要同意成為特殊計劃的一部分才能發生這種情況。
- 公開預覽版和已發布 (一般可用) 功能將在功能管理中列出，除非它們變成小眾測試。 如果發現關鍵問題並且通常是針對每個客戶的動作，則取消功能被認為是產品團隊的最後選取。

### <a name="do-features-ever-get-flighted-off-without-the-customer-knowing-about-it"></a>是否在客戶不知情的情況下將功能變成了小眾測試？ 
是的，如果某項函數正在影響對函數沒有影響之環境的函數，則可以預設啟用它們。

### <a name="how-can-feature-enablement-be-checked-in-code"></a>如何在代碼中檢查功能啟用？
在 **FeatureStateProvider** 類上使用 **isFeatureEnabled** 方法，將要素類的執行個體傳遞給它。 範例: 

```xpp
if (FeatureStateProvider::isFeatureEnabled(BatchContentionPreventionFeature::instance()))
```

### <a name="how-can-feature-enablement-be-checked-in-metadata"></a>如何在中繼資料中檢查功能啟用？
**FeatureClass** 屬性可用於指示某些中繼資料與功能相關聯。 應使用用於功能的分類名，例如 **BatchContentionPreventionFeature**。 此中繼資料僅在該功能中顯示。 **FeatureClass** 屬性可用於選單、選單項目、列舉值和表/檢視表欄位。

### <a name="what-is-a-feature-class"></a>什麼是功能類？
要素管理中的要素被定義為 *功能類*。 功能類 **實作 IFeatureMetadata** 並使用功能類屬性向功能管理工作空間識別自身。 有許多可用的功能類範例，可以使用 **FeatureStateProvider** API 在代碼中檢查啟用，也可以使用 **FeatureClass** 屬性在中繼資料中檢查它們是否啟用。 範例: 

```xpp
[ExportAttribute(identifierStr(Microsoft.Dynamics.ApplicationPlatform.FeatureExposure.IFeatureMetadata))]
internal final class BankCurrencyRevalGlobalEnableFeature implements IFeatureMetadata
```

### <a name="what-is-the-ifeaturelifecycle-implemented-by-some-feature-classes"></a>某些功能類實作的 IFeatureLifecycle 是什麼？
IFeatureLifecycle 是一種 Microsoft 內部機制，用於指示功能生命週期階段。 功能可以是：
- `PrivatePreview` - 需要顯示小眾測試版。
- `PublicPreview` - 預設顯示，但警告該功能處於預覽狀態。
- `Released` - 完全發佈。



[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
