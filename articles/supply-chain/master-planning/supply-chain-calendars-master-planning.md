---
title: 行事曆和主要計劃
description: 本主題概述了供應鏈行事曆，以及它們如何影響主要計劃。
author: ChristianRytt
ms.date: 08/19/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: benebotg
ms.search.validFrom: ''
ms.dyn365.ops.version: ''
ms.openlocfilehash: f424a2a050f917be2f0823c35ee2a47b4dd5cd0a
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8448128"
---
# <a name="calendars-and-master-planning"></a>行事曆和主要計劃

[!include [banner](../includes/banner.md)]

本主題概述了供應鏈行事曆，以及它們如何影響主要計劃。  解釋了主要計劃引擎中使用的不同行事曆，包括它們如何影響計劃訂單中的發貨和接收日期。 最後，我們會提供關於行事曆的分配、使用和更新的建議。

## <a name="definition-of-a-calendar"></a>行事曆的定義

您可以在 **組織管理 > 設置 > 行事曆 > 行事曆** 的定義頁面中，定義要在您的組織中使用的行事曆。 

行事曆中的每個日期目錄都可以 **開啟** 或 **關閉** 或 **基準行事曆**。 這是在 **控制** 資料行中的 **工作時間** 頁面。 對於每個日期： 
- **打開** - 表示在所選日期執行工作。 行事曆將根據工作時間範本進行更新。
- **已關閉** - 表示在白天不會執行工作。 
- **基準行事曆** - 表示特定日期將繼承工作時間，並從基準行事曆打開/關閉。 因此，當基準行事曆更新時，所選行事曆會繼承它的作業時間。 

對於任何關閉日期，**關閉取貨** 核取方塊將自動分配。 對於開放日期，您可以手動選擇 **關閉取貨** 選項。 這表示在該日期執行工作，但不執行運輸。 

## <a name="calendars-that-affect-master-planning"></a>影響主要規劃的行事曆

### <a name="calendar-for-a-coverage-group"></a>保固群組的行事曆
保固群組指示用於補充屬於特定保固群組項目的一組通用參數。 

如要新增保固群組的行事曆，請前往 **主要計劃 > 設定 > 保固 > 保固群組**。 找到要將行事曆分配到的保固群組，然後在 **行事曆** 欄位中選擇。

保固群組可以分配在不同的頁面中： 
    - 在 **已發布產品詳情** 項目的頁面。 若要查看某個項目的保固群組，請前往 **產品信息管理 > 產品 > 已發布產品** 並選擇要前往的項目 **發布產品詳情** 頁面。 您可以在 **計劃** FastTab 下查看項目保固群組。
    - 在 **品項保固** 頁面上。 在已發布的產品詳情頁面，點擊 **項目保固** 前往項目保固頁面。 在概覽索引標籤中，您可以根據站點、倉庫和產品尺寸查看不同的補貨參數。 每個項目的保固組將從保固群組繼承 **已發布產品詳情** 頁面。 這可以透過使用在 **一般** 索引標籤上的 **使用特定設定** 或 **覆蓋群組設定** 覆蓋。
    - 在 **主要規劃參數** 頁面上。 如果 am 項目沒有在前面的頁面中設定覆蓋群組集，則主要計劃將採用在主要計劃參數上設定的一般覆蓋群組。 這會設定在 **一般保固群組** 欄位中的 **主要計劃 > 設定 > 主要計劃參數**。 

### <a name="calendar-for-a-vendor"></a>供應商行事曆
若要指示廠商的工作日，您可以將採購行事曆分配給廠商的 **訂購單預設** 廠商的頁面。 

若要為廠商設定行事曆，您必須在 **組織管理 > 行事曆 > 行事曆**。 建立行事曆後，您必須將其分配給廠商。 前往 **應付帳款 > 廠商 > 所有廠商**，並選擇要分配行事曆的供應商。 然後，在 **訂購單預設** FastTab 的廠商頁面上，使用下拉式選單分配新的購買行事曆。 

供應商的行事曆指示他們接受下達訂購單的日期，以及他們可以將訂單交付給貴公司的日期。 因此，具有購買行事曆的廠商訂購單的訂單日期將定義為行事曆中的未結日期。 這些訂單的交貨日期也將是開放日，因此會影響購買商品的交貨時間。 

#### <a name="define-the-lead-time-for-a-purchased-item"></a>定義採購物品的交貨時間

要指定項目的購買交貨時間 (如果只考慮工作日)，您必須前往產品的預設訂單設定頁面，該頁面位於 **產品資訊管理 > 產品 > 已發布產品** 並選擇 **預設訂單設定**。 

> [!Note]
> 購買交貨時間下的 **工作日** 代表廠商的工作日。 例如，僅在星期二交貨且提前期為 10 天且工作日核取方塊中所選的行事曆表示項目需要 10 週 (10 個星期二) 才能交付。
因此，在大多數情況下，不建議為訂購單交貨時間提前期選擇工作日。

#### <a name="define-lead-times-from-the-trade-agreements-page"></a>從貿易協議頁面定義交貨時間

可以設定主要計劃，以加入廠商的所有貿易協議。 貿易協議是為一個或多個客戶或廠商所設立，用於銷售或購買單一或多個產品的固定價格或折扣協議。 前往 **主要計劃 > 設定 > 主要計劃參數**，並且在 **計劃訂單** 索引標籤並選擇 **尋找貿易協議** 在計劃時包括貿易協定。 主要計劃可以選擇供應商 **最短交貨時間** 或 **最低單價**.

### <a name="calendar-for-a-warehouse"></a>倉庫行事曆
您可以為倉庫分配行事曆以指示收貨和發貨的開放日期。 如果沒有為倉庫分配行事曆，則假定全天開放。 

> [!Note]
> 將行事曆分配給集散倉庫沒有任何影響。 集散倉庫可用於支援集散訂單。 訂單的適用發貨或收貨日期由「起始」倉庫和「目的地」倉庫內的開放日以及交貨行事曆方式定義。

#### <a name="closed-for-pickup-policy"></a>已結算取貨政策
若要指示倉庫已開放收貨但無法取貨，您可以在倉庫行事曆內使用 **因取貨政策而關閉**。 這也適用於客戶取貨。 

### <a name="transport-calendar"></a>運輸行事曆 
若要指示可用於從 **來自倉庫** 運送轉移訂單的日期，您可以分配 **轉移行事曆**。 您可以為每種交貨方式或每種交貨方式和從倉庫設定運輸行事曆。 運輸行事曆會設定在 **銷售和行銷 > 設定 > 分配 > 交貨方式**。 選擇送貨方式並點擊 **運輸行事曆** 按鈕。

可以為每個倉庫和交貨方式建立一個行，其中行事曆會加入 **運輸行事曆** 資料行。 它將指定使用特定交貨方式從倉庫發貨時應用的運輸行事曆。 若要將運輸行事曆應用至使用特定交貨方式的所有裝運，可以在不指定倉庫的情況下建立行。  這將影響使用特定交貨方式的所有貨物，無論倉庫如何。 

如果沒有分配運輸行事曆，則假定所有日期都可以運輸。

### <a name="calendar-for-a-customer"></a>客戶行事曆
若要指示客戶可以接受交貨的日期，您可以為客戶分配收貨行事曆。 如果沒有為客戶分配行事曆，則假定客戶可以全天接收訂單。 這將影響銷售訂單行的收貨日期。 如果您在銷售訂單行中選擇了客戶行事曆中未「開放」的日期，系統將指示收貨日期無效。 

請注意，每個客戶只能包含一個行事曆。 如果您需要為客戶的每個不同地址包含一個行事曆，您可以為每個地址建立一個客戶，然後分配其各自的行事曆。 

銷售訂單行上要求的收貨日期受客戶行事曆和交貨日期控制方法的影響。 您可以在[訂單承諾](/dynamics365/unified-operations/supply-chain/sales-marketing/delivery-dates-available-promise-calculations)中，閱讀如何計算最早交貨日期的更多資訊。

### <a name="shipping-calendar-for-a-legal-entity"></a>法律實體的運送行事曆
若要指示法人實體可以發貨的日期，則可以在 **組織管理 > 組織 > 法律實體** 下方設定發貨行事曆。 在 **外貿與物流** 索引標籤中的 **運送行事曆** 欄位中選擇法律實體並新增行事曆。 運送行事曆將作為法人實體中所有倉庫行事曆的預設來源。 

## <a name="how-calendars-affect-dates-in-planning"></a>行事曆如何影響計劃中的日期

### <a name="order-date-of-a-planned-purchase-order"></a>計劃訂購單的訂單日期 
計劃訂購單中的訂單日期代表下訂的日期。 這將是廠商行事曆和保固範圍行事曆中的開放日期。 有時候，廠商在收到訂購單和發貨之間需要幾天的保證金。 這些日期會顯示在廠商的保證金天數中。 但是，如果將購買的項目分配到具有保證金天數的保固群組，則這些保證金天數將覆蓋廠商的保證金天數。

### <a name="delivery-date-of-a-planned-purchase-order"></a>計劃訂購單的交貨日期
購買的收貨日期代表您將收到貨物的日期。 這將是行事曆中的開放日期。 考慮以指示可以接收採購訂單的日期的行事曆如下，按優先級從高到低排列： 
1. 供應商行事曆
1. 保固群組的行事曆
1. 收貨倉庫的倉庫行事曆

請注意，保固群組行事曆可以在不同的頁面中設定，並將依照下列的優先順序：
1. 項目保固群組 **項目保固範圍** 頁面
1. **已發布產品詳情** 頁面上的項目覆蓋群組
1. **主要計劃參數** 中的預設項目保固群組

### <a name="shipping-date-of-a-planned-transfer-order"></a>轉移訂單的運送日期
在兩個倉庫之間建立轉移訂單時，發貨日期和收貨日期包含在轉移訂單抬頭中，以及「起始」倉庫和「目的地」倉庫。 這兩個日期之間的差異是倉庫之間的預期運輸時間 (以天為單位)。

計劃轉移訂單的發貨日期表示貨物從「起始」倉庫發貨的日期。 依照優先級列出用於指定可用發貨日期的行事曆： 
1. 「起始」倉庫的倉庫行事曆
1. 保固群組行事曆 (請參閱上方此行事曆的後備訂單)。如果設定了倉庫行事曆，則發貨日期將是行事曆中的開放日期。 如果沒有設定倉庫行事曆，將採用保固群組行事曆。 

### <a name="receipt-date-of-a-planned-transfer-order"></a>轉移訂單的收貨日期
轉移訂單的收貨日期表示貨物從「目的地」倉庫收貨的日期。

用於指定收貨日期的行事曆是按優先順序列出的行事曆： 
1. 保固群組的行事曆 
1. 「目的地」倉庫的倉庫行事曆如果設定了保固行事曆，則收貨日期將是行事曆中的開放日期。 如果沒有設定保固群組行事曆，將採用倉庫行事曆。 

在尋找計劃轉移的發貨和收貨日期時，也將考慮使用者為發貨和收貨設定的保證金。 

## <a name="using-calendars-in-master-planning"></a>使用主要計劃中的行事曆

### <a name="assignment-of-scm-calendars"></a>SCM 行事曆的分配
設定行事曆以識別公司的工作日至關重要。 最好的做法是為每個元素設定不同工作日的行事曆。 換言之，與公司相關的所有外部行事曆 (客戶、供應商) 和所有內部行事曆 (倉庫、保固範圍和交貨方式)。

### <a name="recommendation-on-warehouse-calendars"></a>關於倉庫行事曆的建議
建議每個倉庫使用一個行事曆，以包括僅影響倉庫的特定更改。 例如，兩個或多個倉庫可能有相同的工作日，但取貨政策不同。 在這種情況下，每個倉庫的行事曆及其各自的提貨政策是系統的最佳做法，以包括計劃採購、轉移和生產訂單的最佳日期。 如果未設定倉庫行事曆，則法人行事曆可用作倉庫行事曆的預設來源。 

### <a name="recommendation-of-coverage-group-calendars"></a>保固行事曆的推薦
關於保固群組行事曆，重要的是要考慮到它對主要計劃中的接收日期具有覆寫的行為。 因此，建議謹慎使用。 特別是在需要在一週中的特定日期進行補貨的情況下很有用。 

### <a name="updating-scm-related-calendars"></a>更新 SCM 相關行事曆
雖然將所有相關行事曆分配到各自的位置 (供應商、客戶、倉庫、交付方式或保固) 很重要，但更新它們同樣重要，以便它們反映變化。 系統將根據分配的行事曆組合定義生產、轉移、採購和銷售訂單日期。 最好的做法是明確誰負責分配和更新相應區域的行事曆。 如果工作日發生故障或任何其他異常變化，則必須根據其更新行事曆。 更新行事曆時，必須重新執行所有參考行事曆的任務，例如主要計劃和生產計劃。 


[!INCLUDE[footer-include](../../includes/footer-banner.md)]