---
title: 移動平均
description: 移動平均是一種根據平均原則的永續成本計算方法，其中庫存問題的成本不會隨著採購成本的變化而改變。 差額會資本化並按照比例計算。 剩餘的金額則會計入費用。
author: AndersGirke
ms.date: 08/28/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: InventModelGroup
audience: Application User
ms.reviewer: kamaybac
ms.custom: 65531
ms.assetid: dfd10099-8f7f-44b1-917e-df37c2fe8773
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: aevengir
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 6721c01fd0ad3eec30de99dee3b5e98de6bd3b52
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8448023"
---
# <a name="moving-average"></a>移動平均

[!include [banner](../includes/banner.md)]

移動平均是一種根據平均原則的永續成本計算方法，其中庫存問題的成本不會隨著採購成本的變化而改變。 差額會資本化並按照比例計算。 剩餘的金額則會計入費用。

使用移動平均時，不支援詳細目錄結算和詳細目錄標記。 庫存結轉不影響以移動平均作為庫存模型群組的產品，並且不會在交易之間產生任何結算。

以下是使用移動平均成本作為成本核算方法的先決條件。

1. 在 **項目模型群組** 頁面，設定一個項目模型群組，該群組的 **庫存模型** 欄位中已選取 **移動平均**。

    > [!NOTE]
    > 依預設，當有選取 **移動平均** 時，**過帳實際庫存** 和 **過帳財務庫存** 欄位也會勾選。

1. 在 **過帳** 頁面，將帳戶指派給 **移動平均的價格差異**。 當成本必須按比例支出時，您會使用 **移動平均的價格差異** 帳戶。 這發生在以下兩種情況下：
    - 採購收據和採購發票之間存在成本差異，因為原始庫存數量和目前現有數量之間存在差異。
    - 交易使庫存從負數變為零，交易成本與目前移動平均成本之間存在差異。

1. 在 **過帳** 頁面的 **庫存** 索引標籤上，將帳戶指派給 **移動平均的成本重估** 帳戶。當您想要將產品的移動平均成本調整為新的單價時，會使用 **移動平均的成本重估** 帳戶。

1. 在 **已發行產品** 頁面，將移動平均項目模型群組指派給產品。

    > [!NOTE]
    > 貨存結轉程序只會結轉會計期間。 它不會影響已將移動平均作為項目模型群組指派給它們的產品。

## <a name="convert-to-the-moving-average-costing-method"></a>轉換為移動平均成本計算方法

可以轉換產品，以使用移動平均庫存評價法。 這種類型的轉換通常在年末當年的最後一個月結束後完成。 它是透過使用產品目前的成本計算模型來完成。 您可以將庫存成本計算方法從以平均成本或標準成本為基礎的成本計算方法，變更為以移動平均為基礎的方法。

如果要將成本計算方法從標準成本計算方法變更為移動平均方法，則必須完成以下工作：

1. 進行調整以使庫存數量和值降至 0 (零)。
1. 庫存值和數量為 0 (零) 後，將項目模型群組變更為移動平均。
1. 進行調整以使數量和值重新納入庫存。

您不能將庫存成本計算方法從移動平均變更為先進先出 (FIFO) 方法、後進先出 (LIFO) 方法或加權平均方法。

> [!NOTE]
> 從標準成本轉換為移動加權平均是一個手動過程。

以下範例說明使用移動平均成本計算方法的效果。 有四種組態：

- 採購訂單和按比例計費的成本差異
- 移動平均產品和庫存調整
- 具有生產的移動平均
- 具有回溯交易的移動平均

## <a name="purchase-order-and-proportionally-expensed-cost-difference"></a>採購訂單和按比例計費的成本差異

使用移動平均時，產品的成本由採購收據決定。 過帳採購發票時，如果採購收據與採購發票之間存在成本差額，則該差額將按比例調整到目前庫存產品，並將剩餘金額計入費用。

在此範例中，以一種成本建立和接收採購訂單，並以不同成本過帳採購發票。

1. 建立數量為 2 且單價為 10.00 的採購訂單。
1. 建立產品的採購收據。
1. 建立數量為 1 且單價為 10.00 的銷售訂單。
1. 建立數量為 2 且單價為 12.00 的採購發票。

過帳採購發票時，單價差額 2.00 會過帳到移動平均帳戶的價格差額。 原因是兩種產品是以 20.00 的成本採購的。 其中一種產品以 10.00 的單價出售。 採購發票以 12.00 的單價過帳，數量為 2。 產品的單價不能以 14.00 過帳。

## <a name="moving-average-product-and-inventory-adjustment"></a>移動平均產品和庫存調整

如果您需要調整產品的移動平均成本，則允許從今天起開始調整庫存。 您不能回溯庫存調整來更正產品的移動平均成本。 您不能讓成本流經後續交易。

在此範例中，調整了產品的移動平均成本。

1. 選擇您要為其調整移動平均成本的產品。 

 > [!NOTE]
 > **移動平均的重估** 頁面檢查產品的可用庫存。 所選產品的已過帳數量為 1，已過帳值為 12.00，已過帳單位成本為 12.00，單位成本為 12.00。
    
1. 更新 **單位成本** 欄位至 16.00。 系統會計算剩餘欄位。
1. 調整已過帳。

> [!NOTE]
> 您只能調整從今天起的移動平均成本。

在 **憑單結算** 頁面，您可以看到 4.00 的調整過帳到移動平均帳戶的成本重估。

## <a name="moving-average-with-production"></a>具有生產的移動平均

移動平均支援生產的項目。 如果您計劃在生產環境中使用移動平均，請在 **生產控制參數** 頁面上選取 **使用預估成本價**。 這意味著會使用估算期間計算的成本價，而不是實際的 BOM 計算成本價。

## <a name="moving-average-with-a-backdated-transaction"></a>具有回溯交易的移動平均

回溯交易會指派給目前移動平均成本，產品的實際數量也會更新，但不影響產品的移動平均成本。 在此移動平均範例中，會過帳移動平均產品的回溯交易。

1. 為數量為 1 且成本為 20.00 的移動平均產品建立庫存調整。
1. 產品的庫存交易歷程如下所示：
    - 庫存交易為 1，成本為 16.00，過帳日期為 1 月 15 日，交易日期為 1 月 15 日。
    - 庫存調整為 1，成本為 20.00，過帳日期為 1 月 1 日，交易日期為 1 月 15 日。
1. 調整過帳。

在 **庫存交易** 頁面，您可以看到 4.00 已計入費用，因為該產品的目前移動平均值為 16.00。 您可以在過去過帳，但成本差額已計入費用，因此移動平均成本不受影響。

## <a name="negative-inventory-balances"></a>負庫存餘額

根據交易後新的現有數量是負數、零還是正數，交易會有不同的處理方式。

### <a name="new-balance-is-negative-or-zero"></a>新餘額為負數或零

如果新的現有數量為負數或為零，則會按目前平均成本計算交易的成本。 如果採購價格與目前平均成本之間有差額，則會將差額過帳到 **移動平均的價格差異**。

### <a name="new-balance-is-positive"></a>新餘額為正數

如果交易後新的現有數量為正數，則交易會分成兩部分，且以不同方式計算成本，如下表所示。

| 部分 | 描述 |
|---|---|
| 數量從負數到零 | 庫存使用項目的目前移動平均成本，而不是使用收貨數量中現有餘額從負數增加到零的那個部分的交易成本。 交易成本與目前移動平均成本之間的差額會過帳到 **移動平均的價格差異**。 |
| 數量從零到正數 | 庫存會使用收貨數量中現有餘額從零增加到正數的那個部分的交易成本。                                                  |

## <a name="inventory-value-report"></a>庫存價值報告

在這個移動平均範例中，會列印庫存價值報告來支援產品的目前移動平均計算。 庫存價值報告會按時間順序列印交易及成本，以支援產品的移動平均成本計算。 該報告會顯示產品的移動平均成本。 在 **庫存價值報告** 對話方塊中，日期間隔可讓您選擇要依 **交易時間** 或 **過帳日期** 來排序報告。 **過帳日期** 選項是報告的傳統列印方式。 **交易時間** 選項是報告交易和更新產品移動平均成本的實際日期。 如果您想查看一段時間內的移動平均成本計算，您可以使用 **交易時間排序** 選項來列印庫存價值報告。 下表顯示當使用 **交易時間排序** 選項時要列印其報告的產品交易。

| 交易時間 | 日期         | 交易類型           | 數量 | 金額 | 平均單位成本 |
|------------------|--------------|----------------------------|----------|--------|-------------------|
|                  | 10 月 1 日    | 期初餘額          | 0        | 0.00   | 0.00              |
| 10 月 8 日        | 9 月 28 日 | 回溯收據          | 1        | 16.00  | 16.00             |
| 10 月 3 日        | 10 月 3 日    | 採購收據           | 2        | 20.00  | 12.00             |
| 10 月 5 日        | 10 月 5 日    | 銷售訂單                | -1       | -10.00 | 13.00             |
| 10 月 7 日        | 10 月 7 日    | 採購發票           |          | 2.00   | 14.00             |
| 10 月 8 日        | 10 月 8 日    | 移動平均重估 |          | 4.00   | 16.00             |
|                  | 10 月 31 日   | 總計                      | 2        | 32.00  | 16.00             |

> [!NOTE]
> 您無法透過使用 **交易時間排序** 選項以庫存調和總分類帳。 必須使用 **過帳日期** 選項列印報告。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]