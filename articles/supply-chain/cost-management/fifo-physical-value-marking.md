---
title: 以實物價值和標記使用先進先出方法
description: 先進先出 (FIFO) 是一種庫存模型，代表先收到的貨會先發出。 系統依照庫存交易的財務日期，根據先財務更新到庫存內的收貨結算財務更新出庫存的發貨。
author: AndersGirke
ms.date: 02/02/2022
ms.topic: article
ms.search.form: InventJournalLossProfit, InventMarking, InventModelGroup, SalesTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: 54682
ms.search.region: Global
ms.author: aevengir
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 5280498a23df26873dda1f380f686796f5e1055f
ms.sourcegitcommit: fefe93f3f44d8aa0b7e6d54cc4a3e5eca6e64feb
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/04/2022
ms.locfileid: "8449904"
---
# <a name="fifo-with-physical-value-and-marking"></a>以實物價值和標記使用先進先出方法

[!include [banner](../includes/banner.md)]


先進先出 (FIFO) 是一種庫存管理和估價方法，其中先生產或收或的庫存會先銷售、使用或處置。 在 Microsoft Dynamics 365 Supply Chain Management 的庫存結算程序中，系統會將第一個收貨與第一個出貨配對並建立結算，依此類推。

結算和配對原則會以庫存交易的財務日期為基礎。 可以透過執行庫存重新計算程序，對結算和調整進行初步評估。

您可以標記庫存交易來覆寫 FIFO 原則，針對特定出貨品項結算特定收貨品項。 當您使用先進先出庫存模型依先進先出原則建立結算即調整出貨價值時，需要定期結算庫存。 在執行庫存結轉程序之前，當發生實際和財務更新時，發貨交易將按移動平均值進行評估。 除非您使用標記，否則執行實體或財務更新時，會計算執行平均值。 以下範例顯示了在三種設定中使用先進先出的效果：

- 沒有 **包括實物價值** 選項的先進先出
- 有 **包括實物價值** 選項的先進先出
- 有標記的先進先出

## <a name="fifo-without-the-include-physical-value-option"></a>沒有包括實物價值選項的先進先出

在此範例中，已經清除已發佈產品項目模型群組上的 **包括實物價值** 核取方塊。 下列圖表說明這些交易：

- 1a. 數量 1 (單件成本為 10.00 美元) 的庫存實際收貨。
- 1b. 數量 1 (單件成本為 10.00 美元) 的庫存財務收貨。
- 2a. 數量 1 (單件成本為 20.00 美元) 的庫存實際收貨。
- 2b. 數量 1 (單件成本為 22.00 美元) 的庫存財務收貨。
- 3a. 數量 1 (單件成本價為 16.00 美元) 的庫存實際發貨 (財務過帳的交易的移動平均)。
- 3b. 數量 1 (單件成本價為 16.00 美元) 庫存財務發貨 (財務過帳的交易移動平均)。
- 4a. 數量 1 (單件成本為 25.00 美元) 的庫存實際收貨。
- 5a. 數量 1 (單件成本為 30.00 美元) 的庫存實際收貨。
- 5b. 數量 1 (單件成本為 30.00 美元) 的庫存財務收貨。
- 6a. 數量 1 (單件成本價為 23.00 美元) 的庫存實際發貨 (財務過帳的交易的移動平均)
- 7\. 已執行庫存結轉。 依照先進先出方法，根據較早財務更新的收貨優先結算較早財務更新的出貨，以此類推。 在此範例中，系統在 1b 和 3b 之間建立了一項結算。 3b 會接受 –6.00 美元的調整，進而產生 USD 10.00 美元的最終成本。

新的執行平均成本價格反映了財務更新的交易平均值。 下圖顯示不使用 **包括實物價值** 選項時，先進先出庫存模型對這一系列交易的影響。

![沒有包括實物價值選項的先進先出。](./media/fifo-without-include-physical-value.png)

**圖表要點**

- 庫存交易由垂直的箭頭表示。
- 實際交易由淺灰色的短箭頭表示。
- 財務交易由黑色的長箭頭表示。
- 庫存收貨依時間線上方的垂直箭頭顯示。
- 庫存出貨依時間線下方的垂直箭頭顯示。
- 每個新的接收貨發貨交易，都由新的標籤指定。
- 每個垂直箭頭都標有順序識別碼，例如 *1a*。 識別碼表示庫存交易在時間表上過帳的順序。
- 圖表中的每個日期都由一條黑色垂直的細線分隔。 日期在圖表底部註明。
- 庫存結算由紅色垂直虛線表示。
- 由庫存結算執行的結算作業，由紅色的虛線箭頭表示，方向從接受到發貨。

## <a name="fifo-with-the-include-physical-value-option"></a>包括實物價值選項的先進先出

如果選取 **項目模型群組** 頁面中的 **包括實物價值** 核取方塊，系統會同時使用實物和財務收貨交易來計算執行平均成本價格。 適用情況下，系統還會調整實際更新的發貨交易。 若使用先進先出庫存模型結算庫存，僅會結算財務更新的交易。 下列圖表說明這些交易：

- 1a. 數量 1 (單件成本為 10.00 美元) 的庫存實際收貨。
- 1b. 數量 1 (單件成本為 10.00 美元) 的庫存財務收貨。
- 2a. 數量 1 (單件成本為 20.00 美元) 的庫存實際收貨。
- 2b. 數量 1 (單件成本為 22.00 美元) 的庫存財務收貨。
- 3a. 數量 1 (單件成本價為 16.00 美元) 的庫存財務發貨 (實際和財務過帳的交易移動平均)。
- 3b. 數量 1 (單件成本價為 16.00 美元) 的庫存實際發貨 (實際和財務過帳的交易移動平均)。
- 4a. 數量 1 (單件成本為 25.00 美元) 的庫存實際收貨。
- 5a. 數量 1 (單件成本為 30.00 美元) 的庫存實際收貨。
- 5b. 數量 1 (單件成本為 30.00 美元) 的庫存財務收貨。
- 6a. 數量 1 (單件成本價為 23.67 美元) 的庫存財務發貨 (實際和財務過帳的交易移動平均)。
- 7\. 已執行庫存結轉。 依照先進先出方法，根據較早財務更新的收貨優先結算較早財務更新的出貨，以此類推。 在此範例中，系統在 1b 和 3b 之間建立了一項結算。 3b 會接受 –6.00 美元的調整，進而產生 USD 10.00 美元的最終成本。 此外，交易 6a 將調整為 2b 的收貨交易成本。 系統不會結算這些交易，因為收據是實務上更新，而非財務更新。 相反，只有 -1.67 美元的調整將過帳到實物出貨交易，進而產生的調整成本將為 22.00 美元。

![包括實物價值選項的先進先出。](./media/fifo-with-include-physical-value.png)

請注意，無論您是否選取 **項目模型群組** 頁面上的 **包括實物價值** 選項，都會產生相同的庫存結算程序執行結果。 **包括實物價值** 選項僅影響執行平均值。

**圖表要點**

- 庫存交易由垂直的箭頭表示。
- 實際交易由淺灰色的短箭頭表示。
- 財務交易由黑色的長箭頭表示。
- 庫存收貨依時間線上方的垂直箭頭顯示。
- 庫存出貨依時間線下方的垂直箭頭顯示。
- 每個新的接收貨發貨交易，都由新的標籤指定。
- 每個垂直箭頭都標有順序識別碼，例如 *1a*。 識別碼表示庫存交易在時間表上過帳的順序。
- 圖表中的每個日期都由一條黑色垂直的細線分隔。 日期在圖表底部註明。
- 庫存結算由紅色垂直虛線表示。
- 由庫存結算執行的結算作業，由紅色的虛線箭頭表示，方向從接受到發貨。

## <a name="fifo-with-marking"></a>有標記的先進先出

標記是讓您將發貨交易與接收交易建立連結、標記的程序。 交易過帳之前或之後都可以進行標記。 當您希望在過帳交易或執行庫存結轉時確定庫存的確切成本時，可以使用標記。

例如，客戶服務部門接受了一位重要客戶的緊急訂單。 由於此訂單是緊急訂單，所以您必須為此品項支付更多費用才能滿足客戶要求。 您必須確保庫存品項的成本反映在此銷售訂單發票的利潤或銷售成本 (COGS) 中。 訂購單過帳時，庫存會收到 120.00 美金的成本。 如果在過帳裝箱單或發票前將銷售訂單文件標記到訂購單，則 COGS 將為 120.00 美元，而不是品項的目前執行平均成本。 如果標記之前，銷售訂單裝箱單或發票已經過帳，則 COGS 將按移動平均成本價過帳。 執行庫存結轉之前，兩個交易仍可以互相標記。

將收貨交易標記為出貨交易時，系統會忽略項目模型群組中定義的估價方法，且將這些交易相互結算。 您可以在 **銷售訂單詳細資料** 頁面上手動標記選取 **銷售訂單明細** FastTab 上的 **庫存 \> 標記**。 您可以在 **行銷** 頁面檢視未結的收貨交易。 您可以針對已過帳庫存調整日記帳中的庫存品項，將出貨交易配對或標記到未結算的收貨交易。 下列圖表說明這些交易：

- 1a. 數量 1 (單件成本為 10.00 美元) 的庫存實際收貨。
- 1b. 數量 1 (單件成本為 10.00 美元) 的庫存財務收貨。
- 2a. 數量 1 (單件成本為 20.00 美元) 的庫存實際收貨。
- 2b. 數量 1 (單件成本為 22.00 美元) 的庫存財務收貨。
- 3a. 數量 1 (單件成本價為 16.00 美元) 的庫存實際發貨 (財務過帳的交易的移動平均)。
- 3b. 數量 1 (單件成本價為 16.00 美元) 庫存財務發貨 (財務過帳的交易移動平均)。
- 3c. 3b 的庫存財務發貨將被標記為 2b 的庫存財務發貨。
- 4a. 數量 1 (單件成本為 25.00 美元) 的庫存實際收貨。
- 5a. 數量 1 (單件成本為 30.00 美元) 的庫存實際收貨。
- 5b. 數量 1 (單件成本為 30.00 美元) 的庫存財務收貨。
- 6a. 數量 1 (單件成本價為 23.00 美元) 的庫存實際發貨 (財務過帳的交易的移動平均)
- 7\. 已執行庫存結轉。 根據使用先進先出方法的標記原則，將標記的交易相互結算。 在此範例中，3b 針對 2b 進行結算，並將 6.00 美元的調整過帳到 3b 以將值達到 22.00 美元。 在此範例中，沒有進行額外的結算，因為結轉僅為財務更新的交易建立結算。

下圖顯示在出貨和收貨之間標記時，先進先出庫存模型對這一系列交易的影響。

![有標記的先進先出。](./media/fifo-with-marking.png)

**圖表要點**

- 庫存交易由垂直的箭頭表示。
- 實際交易由淺灰色的短箭頭表示。
- 財務交易由黑色的長箭頭表示。
- 庫存收貨依時間線上方的垂直箭頭顯示。
- 庫存出貨依時間線下方的垂直箭頭顯示。
- 每個新的接收貨發貨交易，都由新的標籤指定。
- 每個垂直箭頭都標有順序識別碼，例如 *1a*。 識別碼表示庫存交易在時間表上過帳的順序。
- 圖表中的每個日期都由一條黑色垂直的細線分隔。 日期在圖表底部註明。
- 庫存結算由紅色垂直虛線表示。
- 由庫存結算執行的結算和行銷作業，由紅色的虛線箭頭表示，方向從接受到發貨。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
