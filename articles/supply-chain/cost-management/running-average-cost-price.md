---
title: 移動平均成本價
description: 庫存結轉程序根據在品項的品項模型群組中選擇的庫存評估方法，將發貨交易記錄結算到收貨交易記錄。 但是，在執行庫存結轉之前，系統會計算通常在過帳發貨交易時使用的移動平均成本價。
author: AndersGirke
ms.date: 02/02/2022
ms.topic: article
ms.search.form: InventModelGroup, InventOnhandItem, InventTrans
audience: Application User
ms.reviewer: kamaybac
ms.custom: 79003
ms.search.region: Global
ms.author: aevengir
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 871b3ffce45848f95d132eff3fd327295bc5084c
ms.sourcegitcommit: fefe93f3f44d8aa0b7e6d54cc4a3e5eca6e64feb
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/04/2022
ms.locfileid: "8449907"
---
# <a name="running-average-cost-price"></a>移動平均成本價

[!include [banner](../includes/banner.md)]

庫存結轉程序根據在品項的品項模型群組中選擇的庫存評估方法，將發貨交易記錄結算到收貨交易記錄。 但是，在執行庫存結轉之前，系統會計算通常在過帳發貨交易時使用的移動平均成本價。

系統使用以下公式估算品項的此移動平均成本價：

估計價格 = (實際金額 + 財務金額) ÷ (實際數量 + 財務數量)

## <a name="default-item-cost"></a>預設品項成本

已發佈產品的預設品項成本可以在 **已發佈產品詳細資料** 頁面上，透過以下兩種方式之一進行配置：

- 在動作窗格 **管理成本** 索引標籤的 **設置** 群組中選擇 **品項價格** 來建立標準成本。 如果使用此方法，則必須使用標準成本計算版本，且必須啟用成本。
- 在 **管理成本** FastTab 的 **價格** 欄位中輸入一個值，為已發佈產品定義預設品項成本價格。

除了輸入或建立價格之外，您還可以在 **已發佈產品詳細資料** 頁面的 **管理成本** FastTab 上選取 **使用最新成本價** 核取方塊。 在這種情況下，系統會在發佈財務更新時自動更新 **價格** 欄位。 例如，如果您過帳訂購單發票，該欄位將設為該發票的採購價格。

如果您在使用中成本計算版本中有成本價，則在 **管理成本** FastTab 上輸入價格時，系統將先使用使用中成本計算版本中的價格，然後再使用 **管理成本** FastTab 上定義的價格。

## <a name="using-the-running-average-cost-price"></a>使用移動平均成本價

下表顯示系統何時使用移動平均成本價過帳庫存交易記錄，以及何時使用在品項主記錄上定義的成本價。

| 條件 | 系統使用估計的移動平均成本價 | 系統使用預設品項成本價 |
| --- | --- | --- |
| 分子\* 和分母\*\* 均為正值。 | 是 | 否 |
| 分子\*、分母\*\* 或兩者均為負值。 | 否 | 是 |
| 分母\*\* 為 0 (零)。 | 否 | 是 |

\* 分子 = (實際金額 + 財務金額)  
\*\* 分母 = (實際數量+財務數量)

> [!NOTE]
> 如果未為某品項選擇 **包括實際價值** 選項，則系統會對實際金額和實際數量都使用 0 (零)。 有關此選項的資訊，請參閱[包括實際價值](include-physical-value.md)。

## <a name="avoiding-pricing-amplification"></a>避免價格放大

在極少數情況下，此系統在不具有定價所基於的足夠收貨前就給若干發貨定價。 這種情況可能會導致對移動平均成本價的估計過度誇大。 但是，您可以採取一些步驟來避免價格放大，或在該情況發生後減少其影響。

**案例：** 以下交易記錄發生於您為其選擇 **包括實際價值** 的品項：

1. 您在財務上收到數量 100 (USD 100.00)。
2. 您在財務上發貨數量為 200。
3. 您實際上收到數量 101（USD 202.00）。

當您檢查品項的估計移動平均成本價時，您預計成本價為 USD 1.51。 而您發現根據以下公式預期移動平均成本價達 USD 102.00：

估計價格 = \[202 + (-100)\] ÷ \[101 + (-100)\] = 102 ÷ 1 = 102

之所以會出現這種價格放大，是因為在步驟 2 中以財務方式發貨 200 個品項時，系統必須先對 100 個品項定價，然後才能獲得任何相應的收貨。 這種情況會導致負庫存。 如您所料，系統隨後會估計 USD 1.00 的單價。 但是，當相應的 100 個收貨到達時，其每個的單價為 USD 2.00。

> [!NOTE]
> 儘管這些發貨產生負庫存，但在計算發貨價格時，庫存為正值。 因此，使用移動平均成本價而不是品項主資料上的價格。 此時，此系統將具有 USD 100.00 的庫存價值抵消。 雖然該抵消累積到高於 100 件，每件的單位抵消為 USD 1.00，但您現在庫存中只有一件。 因此，將抵消 USD 100.00 分配給此單件。 結果是過度誇大的估計成本價。
>
> 為了比較，請注意，如果在案例中將步驟 2 和 3 顛倒過來，則 200 個品項將依單位價格 USD 1.51 發貨，並且一件仍將保持在單位價格 USD 1.51。 因為當涉及負庫存時，可能會出現這種價格放大的情況，因此在以下情況下很難避免：
>
> - 您必須根據現有價值和數量估算發貨價格。
> - 您必須調整針對發貨和收貨的現有價值和數量。
> - 您的業務模型允許您對超過現有件數的品項進行發貨或定價。
> - 您必須接受提交給您的任何收貨價值和數量。

但是，如果您的業務模型允許以下做法，則它們可以幫助您避免可能造成價格放大情況的負數量：

- 如果您為品項選擇 **包括實際價值** 選項，則清除 **品項模型群組** 頁面上的 **實際負庫存** 核取方塊。
- 如果您 **沒有** 為品項選擇 **包括實際價值** 選項，則清除 **品項模型群組** 頁面上的 **財務負庫存** 選項。

此外，請考慮您實際庫存價值的最大抵消受到實際交易記錄的數目，以及實際價格和財務價格之間差異的限制。 假設最終在財務上更新了所有實際交易記錄，則實際價值就不會突升。 最後，請注意，如果累積的抵消分散到多個現有件數上，而非只是一件上時，此價格放大的影響會顯著降低。

## <a name="avoid-a-zero-cost-price-on-issues"></a>避免在發貨時出現零成本價

如果未在 **品項模型群組** 頁面上選擇 **包括實際價值** 選項，如果庫存中沒有財務更新的收貨，則庫存發貨的成本價可能為零。 為協助避免這種情況，請考慮以下選項：

- 在 **品項模型群組** 頁面上選擇 **包括實際價值** 選項。 如果收貨進行了實際更新，此選項將防止發貨出現零成本價。 如果您不允許實際庫存為負，發貨將根據實際更新的交易記錄計算移動平均值。
- 透過啟用具有標準成本的成本計算版本來建立預設品項成本價，或在 **已發佈產品詳細資料** 頁面的 **管理成本** FastTab 上輸入價格。 當未在 **品項模型群組** 頁面上選擇 **包括實際價值** 選項時，此選項最適用，因為系統將一律有最低價格可用。
- 在 **已發佈產品詳細資料** 頁面的 **管理成本** FastTab 上選擇 **使用最新成本價** 選項。 每次在財務上更新收貨時，此選項都會使 **價格** 欄位保持最新。 如果您選擇此選項，但未輸入預設價格，或未在標準成本計算版本中啟用成本，您仍可對某個發貨使用零成本。

如果您有零成本的發貨交易記錄，則 *庫存結轉和調整* 程序將在收貨財務更新後透過建立調整來更正成本價。 請記住，進行此更新的財務期間可能不同於品項實際收貨或發貨的財務期間。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
