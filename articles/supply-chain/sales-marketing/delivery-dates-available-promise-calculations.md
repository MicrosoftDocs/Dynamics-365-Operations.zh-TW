---
title: 訂單承諾
description: 本主題提供有關訂單承諾的資訊。 訂單承諾可幫助您可靠地向客戶承諾交貨日期，並為您提供靈活性，以便您能夠滿足這些日期。
author: Henrikan
ms.date: 04/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: SalesATP, SalesAvailableDlvDates, SalesCarrier
audience: Application User
ms.reviewer: kamaybac
ms.custom: 193933
ms.assetid: 676fc53a-fa25-4688-9f26-1005316763b8
ms.search.region: Global
ms.author: henrikan
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 0f7535ba28358fef21784956da38cd334a4aebe7
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8448539"
---
# <a name="order-promising"></a>訂單承諾

[!include [banner](../includes/banner.md)]

本主題提供有關訂單承諾的資訊。 訂單承諾可幫助您可靠地向客戶承諾交貨日期，並為您提供靈活性，以便您能夠滿足這些日期。

訂單承諾計算最早的發貨和收貨日期，並基於交貨日期控制方法和運輸天數。 您可以在四種交貨日期控制方法中選擇：

-   **銷售提前期** – 銷售提前期是從建立銷售訂單到發貨之間的時間。 交貨日期計算基於預設天數，不考慮庫存可用性、已知需求或計劃供應。
-   **ATP (可承諾)** – ATP 是可以在特定日期向客戶承諾的可用項目數量。 ATP 計算包括未提交的庫存、提前期、計劃收貨和發貨。
-   **ATP + 發行保證金** – 發貨日期等於 ATP 日期加上項目的出庫保證金。 出庫保證金是準備裝運物品所需的時間。
-   **CTP (有能力承諾)** – 可用性是透過爆炸計算的。

> [!NOTE]
> 更新銷售訂單時，僅在無法滿足現有訂單承諾日期的情況下才會更新訂單承諾信息，如以下範例所示：
> 
> - **範例 1**：目前的訂單承諾日期是 7 月 20 日，但由於數量增加，您要到 7 月 25 日才能發貨。 由於無法再滿足目前日期，因此觸發了訂單承諾。
> -  **範例 2**：目前的訂單承諾日期是 7 月 20 日，但由於數量減少，現在可以在 7 月 15 日交貨。 然而，由於目前日期仍然可以履行，因此不會觸發訂單承諾，7 月 20 日仍然是訂單承諾日期。

## <a name="atp-calculations"></a>ATP 計算
ATP 數量是使用「前瞻累積 ATP」方法計算的。 這種 ATP 計算方法的主要優點是它可以處理收貨之間的發貨總和多於最近收貨的情況 (例如，當必須使用較早收貨的數量來滿足需求時)。 「帶有前瞻的累積 ATP」計算方法包括所有發貨，直到累積接收數量超過累積發貨數量。 因此，這種 ATP 計算方法評估的是前期的部分數量是否可以用於後期。  

ATP 數量是第一期的未承諾庫存餘額。 它通常是針對安排收貨的每個期間計算的。 程式以天為單位計算 ATP 期間，並將目前日期計算為 ATP 數量的第一個日期。 在第一個期間，ATP 包括現有庫存減去到期和逾期的客戶訂單。  

ATP 使用以下公式計算：  

ATP = 上一期間的 ATP + 本期的收貨 – 本期的發貨 – 每個未來期間的淨發貨數量，直到所有未來期間的收貨總和 (包括未來期間) 超過直至並包括未來期間的問題總和。  

請注意，ATP 計算不包括有關到期日期和超出 ATP 時間範圍的資訊，這是系統在可以承諾任何數量時所期望的。

沒有其他問題或收貨要考慮時，後續日期的 ATP 數量與最新計算的 ATP 數量相同。  

如果在完成 ATP 檢查時沒有給出用於項目的所有維度，它們仍然可以在發貨和收貨時指定。 在這種情況下，在 ATP 計算中，收貨和發貨必須彙總到現有維度，以減少 ATP 計算中使用的收貨和發貨列數。  

顯示的 ATP 數量始終大於或等於 0 (零)。 如果計算傳回負的 ATP 數量 (例如，如果先前承諾的數量超過可用數量)，則該數量自動設定為 0。

### <a name="example"></a>範例

**ATP 後向需求時界** 欄位控制在多長時間內尋找延遲的需求訂單或庫存問題。 **ATP 逆向供應時限** 欄位控制在多長時間內尋找延遲的供應訂單或庫存收據。 例如，如果在 ATP 計算中應考慮僅延遲 7 天的訂單，則這兩個欄位都應該設定為 **7**。  

**ATP 延遲需求抵消時間** 和 **ATP 延遲供應抵消時間** 欄位控制何時在 ATP 計算中考慮延遲的需求或供應。 例如，如果在後天的 ATP 計算中要考慮延遲的供需，則兩個欄位都應該設定為 **2**。 **2** 這個值表示應在 ATP 計算中考慮的延遲採購訂單上的項目數量將在目前日期兩天後視為可用。  

對於以下範例，**7** 將在 **ATP 後向需求時界** 和 **ATP 逆向供應時限** 欄位中輸入，且 **1** 將在 **ATP 延遲需求抵消時間** 和 **ATP 延遲供應抵消時間** 欄位中輸入。  

一份本應在三天前收到的 200 件產品的採購訂單尚未收到。 因此，本應在昨天發貨的 75 件相同產品的銷售訂單行尚未發貨。  

一位客戶打電話想要訂購 150 件相同的產品。 當您驗證該產品的可用性時，您發現 10 天後將交付另一份 100 件產品的採購訂單。  

您為產品建立銷售訂單列，並輸入 **150** 作為數量。  

由於交貨日期控制方法是 ATP，因此計算 ATP 資料以找到可能的最早發貨日期。 根據設定，考慮延遲採購訂單和銷售訂單，得出當前日期的 ATP 數量為 0。 明天預計收到延遲採購訂單時，ATP 數量計算為大於 0 (本例計算為 125)。 但是，從現在起 10 天後，當預計收到 100 件的額外採購訂單時，ATP 數量變為 150 以上。  

因此，根據 ATP 計算，發貨日期設定為從現在起 10 天。 因此，您告訴客戶請求的數量可以在 10 天後交貨。





[!INCLUDE[footer-include](../../includes/footer-banner.md)]