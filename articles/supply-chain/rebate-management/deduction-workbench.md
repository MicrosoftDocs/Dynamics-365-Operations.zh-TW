---
title: 使用扣除 Workbench 管理扣除額
description: 本主題說明如何使用扣除 Workbench 處理包含扣除額的客戶付款。
author: sherry-zheng
ms.date: 08/02/2021
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: bf98529176fbed368708ea925f542a70f2936037
ms.sourcegitcommit: ecd4c148287892dcd45656f273401315adb2805e
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/18/2021
ms.locfileid: "8447705"
---
# <a name="manage-deductions-using-the-deduction-workbench"></a>使用扣除 Workbench 管理扣除額

[!include [banner](../includes/banner.md)]

本主題說明如何使用扣除 Workbench 處理包含扣除額的客戶付款。

若客戶擁有回扣，可以不用等待回扣支付的時間。 相反，客戶可以從付款中，扣除回扣的金額。 若要處理這類交易，您可以使用扣除 Workbench，將扣除額配對至未結信用交易、拆分扣除和沖銷扣除當中。

> [!NOTE]
> 扣除 Workbench 成為 Microsoft Dynamics 365 Supply Chain Management 銷售和營銷功能已有一段時間。 但是，現在經過進一步提升，也適用於更新的 **回扣管理** 模組。 本主題說明如何使用扣除 Workbench 的舊有功能，以及回扣管理功能。 但是，如果你還沒有 [打開系統的 **回扣管理** 模塊](rebate-management-enable.md)，您將無法使用本說明中的部分功能。

## <a name="prerequisites"></a>先決條件

### <a name="set-up-the-old-deduction-management-system"></a>設定舊的扣除管理系統

即便您不使用 **回扣管理** 模塊，您也可以將扣除 Workbench 與 Supply Chain Management 中舊有的扣除管理功能一起使用。 但是，首先您必須按照本節中的說明準備系統。

您可以使用扣除 Workbench 之前，必須完成說明中的設定任務[設定扣除管理](/dynamicsax-2012/appuser-itpro/set-up-deduction-management)。 您還應該為客戶設定某些類型的回扣合約：或者是客戶回扣，如[設定和維護客戶回扣](/dynamicsax-2012/appuser-itpro/setting-up-and-maintaining-customer-rebates)，或是貿易津貼回扣。

如果您要對客戶回扣進行扣除，您必須完成以下任務：

- [設定您的客戶回扣](/dynamicsax-2012/appuser-itpro/setting-up-and-maintaining-customer-rebates)。
- 核准並處理回扣，以便您可以使用扣除 Workbench。

如果您要對貿易津貼回扣進行扣除，您必須完成以下任務：

- 設定帳單回扣。
- 應用帳單回扣。

### <a name="configure-accounts-receivable-and-deductions"></a><a name="accounts-receivable-deductions"></a>設定應收帳款和扣除額

系統會記錄所有扣除事件至債權日記帳中。 因此，您的系統必須包含可用於此目的的日記帳。 如果您還沒有債權日記帳，請立即設定。 若要直接在扣除 Workbench、客戶結算或客戶頁面上建立扣除額，則需要此日記帳。

若要為扣除設定新的債權日記帳，請按照以下步驟。

1. 前往 **總帳 \> 日記帳設定 \> 日記帳名稱**。
1. 選擇 **新建**，並為新的日記帳名稱設定以下欄位：

    - **名稱** – 輸入債權日記帳的唯一名稱。
    - **說明** – 輸入新建日記帳的說明。
    - **日記帳類型** – 選擇 *每日*。
    - **憑證系列** – 指派一個現有的編號序列。 或者，建立公司範圍的新編號序列，並將其指派給新建的日記帳名稱。

1. 前往 **應收帳款 \> 設定 \> 應收帳款參數**。
1. 在 **扣除** 索引標籤上，**一般** FastTab，設定 **債權日記帳名稱** 欄位，新增到您剛剛建立的日記帳名稱。
1. 在 **退貨單** FastTab 上，設定以下欄位：

    - **建立退貨單** – 設定此選項，指定核准以數量為基礎的索賠發生時，系統應執行的操作：

        - *是* – 建立退貨單。
        - *否* – 建立拒絕銷售訂單。

    - **建立時沒有附發票** – 選擇一個值，指定核准以數量為基礎的索賠發生，但是沒有附發票時，系統應執行的操作：

        - *接受* – 建立退貨單。
        - *警告* – 建立退貨單，但顯示以下警告訊息：「索賠未附發票」。
        - *錯誤* – 不建立退貨單，並且顯示以下錯誤訊息：「索賠未附發票。 更新作業已取消。」

    - **核准扣除之前建立退貨單** – 如果可以在索賠核准之前建立退貨單，將此選項設定為 *是*。 此設置僅適用於以數量為基礎的索賠，其 **建立退貨單** 選項設定為 *是*。

### <a name="configure-general-ledger-parameters"></a>設定總帳參數

當系統為新的扣除建立債權日記帳時，它還會建立兩個新的客戶交易：一個是用原始發票抵消的索賠金額，另一個是登記客戶對索賠金額的債務 (因為索賠尚未獲得批准)。 因此，您必須設定系統，使一個憑證有多個客戶明細。

要使單個憑證具有多個客戶行，請執行以下步驟。

1. 前往 **總帳 \> 分類帳設定 \> 總分類帳參數**。
1. 在 **分類帳** 索引標籤上，**一般** FastTab，將 **允許在一個憑證內進行多筆交易** 選項設定為 *是*。
1. 如果您收到警告訊息，請選擇 **關閉** 以接受變更。

### <a name="create-deduction-reasons"></a><a name="deduction-reasons"></a>建立扣除原因

系統要求使用者，為他們直接在扣除 Workbench、客戶結算或客戶頁面輸入的每個扣除項指定一個原因。 原因會決定扣除核准後處理的方式。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除原因**。
1. 選擇 **新建**，在格線中新增一列，然後設定以下欄位：

    - **索賠原因** – 輸入原因的唯一名稱。
    - **說明** – 輸入原因說明，以提供有關應如何使用的更多信息。
    - **索賠依據** – 為索賠原因選擇索賠依據：

        - *基於價格* – 核准後建立免費文本信用。
        - *基於數量* – 核准後建立彌補銷售訂單或退貨單。

    - **退貨原因代碼** – 選擇一個退貨原因代碼作為退貨單的 **退貨原因代碼** 值。
    - **類型** – 選擇扣除類型。 所選的 **扣除額抵銷** 值，會用於索賠扣除建立時，設定 **扣除額抵銷** 欄位。 扣除類型的定義，位於 **扣除類型** 頁面上 (**銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除類型**)。
    - **索賠過帳帳戶** – 此字欄位只有 **索賠依據** 欄位設定為 *基於價格* 時可用。 當基於價格的索賠獲得核准時，系統會將您在此處選擇的分類帳科目指派為 **主科目**，以起草免費文本信用。

### <a name="set-up-the-settle-approved-deductions-periodic-task"></a>設定扣除和核准扣除定期工作

對於使用扣除 Workbench、客戶結算或客戶頁面上 **新建扣除** 的命令所建立的扣除，您可以設定 *結算核准的扣除額* 定期工作，以自動扣除與 **扣除識別碼** 當中的值和金額匹配的扣除和信用。

若要安排此工作，請前往 **銷售與市場營銷 \> 定期工作 \> 結算核准的扣除額**，並設定選項、篩選條件和計劃，就像其他類型的定期任務一樣。

> [!NOTE]
> 如果 **結算** 索引標籤的 **應收帳款參數頁面** (**應收帳款 \> 設定 \> 應收帳款參數**)，上的 **自動結算** 選項設定為 *是*，則 *結算核准的扣除額* 定期工作，不會執行任何動作，因為信用會自動結算。

## <a name="create-a-deduction"></a>建立扣除

### <a name="create-a-deduction-journal-entry-by-using-the-customer-payment-journal"></a>使用客戶付款日記帳，建立減項日記帳目錄

若要建立減項日記帳目錄，請按照以下步驟。

1. 前往 **應收帳款 \> 付款 \> 客戶付款日記帳**。
1. 選擇 **新建**，在格線中新增一列。
1. 在新一列的 **名稱** 欄位中，選擇日記帳名稱。
1. 在動作窗格上，選擇 **明細**。
1. 輸入日期、公司帳戶和客戶帳戶編號。
1. 在 **發票** 欄位中，選擇與扣除相關聯的發票。
1. 在 **信用** 欄位中，輸入客戶支付的金額。
1. 選擇 **確定**，以確認金額小於標記交易的總金額。
1. 選擇沖銷帳戶類型，和沖銷帳戶。
1. 在格線上方的工具列，選擇 **扣除**。
1. 在 **扣除** 頁面的動作窗格上，選擇 **新建**，在格線中新增一列。 會自動建立新一列的 **扣除識別碼** 欄位。
1. 在 **類型** 欄位中，選擇扣除類型。
1. 在 **金額** 欄位，輸入顯示在扣除清單下方的 **餘額** 欄位。 此金額表示客戶從付款中扣除的金額。
1. 關閉 **扣除** 頁面。 你會回到 **客戶付款** 頁面，現在會顯示扣除的明細。
1. 在動作窗格上，選擇 **驗證 \> 驗證**。 您應該會收到以下訊息：「日記帳確定」。
1. 在動作窗格上，選擇 **過帳**。

### <a name="create-a-deduction-by-using-the-deduction-workbench"></a>使用扣除 Workbench 建立扣除額

若要在扣除 Workbench 上建立新的扣除額，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 在動作窗格上，選擇 **維護 \> 新建扣除**。

    在 **新建扣除** 對話框中，**扣款識別碼** 欄位是基於 **扣款識別碼** 上定義的編號序列，是由 **貿易津貼管理參數** 頁 (**銷售和營銷 \> 設定 \> 貿易津貼 \> 貿易津貼管理參數**) 所定義。

1. 設定以下欄位：

    - **客戶帳戶** – 選擇適用扣除的客戶帳戶。
    - **外部索賠編號** – 輸入客戶的索賠參考。
    - **索賠金額** – 輸入含稅的索賠金額。 該值必須為正。
    - **貨幣** – 選擇扣除的貨幣。 預設值是為所選客戶帳戶設定的貨幣。
    - **索賠依據** – 選擇索賠依據。 索賠依據會決定信用交易的類型，會於索賠核准後建立扣除額。

        - *基於價格* – 會建立一個免費文字發票的草稿。
        - *基於數量* – 會建立一個彌補銷售訂單或退貨單。

    - **索賠日期** – 選擇索賠日期。 預設值是當前日期。
    - **理賠原因** – 選擇適用於當前扣除的原因代碼。 您選擇的索賠依據，會影響適用的選項。 如需更多關於如何建立和設定索賠原因的資訊，請參閱本主題前面部分的[建立扣除原因](#deduction-reasons)。
    - **附註** – 新增任何適用的附註。 索賠獲得核准後，核准者可以編輯或新增索賠的附註。
    - **建立債權日記帳** – 設定此選項，指定建立索賠或扣除時，是否應建立索賠日記帳：

        - *是* – 系統會使用 **應收帳款參數** 頁面設定的債權日記帳，建立並張貼一般日記帳。 (如需更多資訊，請參閱本主題前面部分的[設定應收帳款和扣除](#accounts-receivable-deductions)。) 當索賠附發票時，債權日記帳會用於減少。 如果索賠後來被拒絕，索賠日誌和結算 (如果附有發票) 將被沖銷。
        - *否* – 這次不會建立債權日記帳。 將於索賠核准後建立。 即使未建立債權日記帳，仍可以將發票附加到新的索賠中。 但是，沒有債權日記帳就無法進行結算。

1. 選擇 **確定**。

    已建立新的扣除額。 如果您將 **建立債權日記帳** 選項設定為 *是*，則會過帳以下交易：

    - **兩個新客戶的交易** – 一筆交易抵消了原始發票上的索賠金額。 另一筆交易將客戶的債務登記為索賠金額，因為索賠尚未獲得批准。 當您選擇透過動作窗格上 **維護 \> 附上發票** 附上發票時，原始發票交易和抵銷索賠交易將自動標記為結算。
    - **兩筆抵消交易** – 這些交易會過帳到 **扣除抵消** 分類帳科目。
    - **債權日記帳** – 若要查看扣除 Workbench 上顯示每個扣除的債權日記帳，請選擇 **參考** 索引標籤。債權日記帳會顯示在 **日記帳批次編號** 欄位。 您還可以在 **扣除事件** 索引標籤中檢視。這裡，會有一個 **更新類型** 的值 *匹配*。

### <a name="create-a-deduction-from-a-customer-settlement"></a>從客戶結算頁面中建立扣除

從客戶結算建立扣除的過程，和通過扣除 Workbench 建立扣除的程序類似。 但是，會自動設定客戶和發票貨幣，並附上發票。 當您通過客戶結算頁面建立索賠或扣除時，您不必選擇動作窗格上的 **維護 \> 附上發票**。

1. 前往 **應收帳款 \> 客戶 \> 所有客戶**。
1. 選擇要為其建立扣除的客戶。
1. 在動作窗格上，在 **收集** 索引標籤上，在 **結算** 組中，選擇 **結算交易**。
1. 在 **結算交易** 對話框中，在 **概覽** 索引標籤上，選擇要建立扣除的發票。
1. 在工具列上，選擇 **扣除 \> 新建扣除**。

    在 **新建扣除** 對話框中，**扣款識別碼** 欄位是基於 **扣款識別碼** 上定義的編號序列，是由 **貿易津貼管理參數** 頁 (**銷售和營銷 \> 設定 \> 貿易津貼 \> 貿易津貼管理參數**) 所定義。 **客戶帳戶** 欄位，設定適用扣除的客戶帳戶。

1. 設定以下欄位：

    - **外部索賠編號** – 輸入客戶的索賠參考。
    - **索賠金額** – 輸入含稅的索賠金額。 該值必須為正。
    - **貨幣** – 選擇扣除的貨幣。 預設值是為所選客戶帳戶設定的貨幣。
    - **索賠依據** – 選擇索賠依據。 索賠依據會決定信用交易的類型，會於索賠核准後建立扣除額。

        - *基於價格* – 會建立一個免費文字發票的草稿。
        - *基於數量* – 會建立一個彌補銷售訂單或退貨單。

    - **索賠日期** – 選擇索賠日期。 預設值是當前日期。
    - **理賠原因** – 選擇適用於當前扣除的原因代碼。 您選擇的索賠依據，會影響適用的選項。 如需更多關於如何建立和設定索賠原因的資訊，請參閱本主題前面部分的[建立扣除原因](#deduction-reasons)。
    - **附註** – 新增任何適用的附註。 索賠獲得核准後，核准者可以編輯或新增索賠的附註。
    - **建立債權日記帳** – 設定此選項，指定建立索賠或扣除時，是否應建立索賠日記帳：

        - *是* – 系統會使用 **應收帳款參數** 頁面設定的債權日記帳，建立並張貼一般日記帳。 (如需更多資訊，請參閱本主題前面部分的[設定應收帳款和扣除](#accounts-receivable-deductions)。) 當索賠附發票時，債權日記帳會用於減少。 如果索賠後來被拒絕，索賠日誌和結算 (如果附有發票) 將被沖銷。
        - *否* – 這次不會建立債權日記帳。 將於索賠核准後建立。 即使未建立債權日記帳，仍可以將發票附加到新的索賠中。 但是，沒有債權日記帳就無法進行結算。

1. 選擇 **確定**。

    已建立新的扣除額。 如果您將 **建立債權日記帳** 選項設定為 *是*，則會過帳以下交易：

    - **兩個新客戶的交易** – 一筆交易抵消了原始發票上的索賠金額。 另一筆交易將客戶的債務登記為索賠金額，因為索賠尚未獲得批准。 當您選擇透過動作窗格上 **維護 \> 附上發票** 附上發票時，原始發票交易和抵銷索賠交易將自動標記為結算。
    - **兩筆抵消交易** – 這些交易會過帳到 **扣除抵消** 分類帳科目。
    - **債權日記帳** – 若要查看扣除 Workbench 上顯示每個扣除的債權日記帳，請選擇 **參考** 索引標籤。債權日記帳會顯示在 **日記帳批次編號** 欄位。 您還可以在 **扣除事件** 索引標籤中檢視。這裡，會有一個 **更新類型** 的值 *匹配*。

    回到 **結算交易** 頁面，所選的發票，現在顯示為已標記。 **過帳** 按鈕，只有在您將 **建立債權日記帳** 選項設定為 *是* 時，才可以使用。 如果可用，請選擇 **過帳**，以減少發票上 **索賠金額** 價值的餘額。

### <a name="create-a-deduction-from-a-customer-page"></a>從客戶頁面中建立扣除

從客戶頁面結算建立扣除的過程，和通過扣除 Workbench 建立扣除的程序類似。 但是，客戶是自動設定的。

1. 前往 **應收帳款 \> 客戶 \> 所有客戶**。
1. 選擇要為其建立扣除的客戶。
1. 在動作窗格上，在 **收集** 索引標籤上，在 **扣除** 組中，選擇 **建立扣除**。

    在 **新建扣除** 對話框中，**扣款識別碼** 欄位是基於 **扣款識別碼** 上定義的編號序列，是由 **貿易津貼管理參數** 頁 (**銷售和營銷 \> 設定 \> 貿易津貼 \> 貿易津貼管理參數**) 所定義。 **客戶帳戶** 欄位，設定適用扣除的客戶帳戶。

1. 設定以下欄位：

    - **外部索賠編號** – 輸入客戶的索賠參考。
    - **索賠金額** – 輸入含稅的索賠金額。 該值必須為正。
    - **貨幣** – 選擇扣除的貨幣。 預設值是為所選客戶帳戶設定的貨幣。
    - **索賠依據** – 選擇索賠依據。 索賠依據會決定信用交易的類型，會於索賠核准後建立扣除額。

        - *基於價格* – 會建立一個免費文字發票的草稿。
        - *基於數量* – 會建立一個彌補銷售訂單或退貨單。

    - **索賠日期** – 選擇索賠日期。 預設值是當前日期。
    - **理賠原因** – 選擇適用於當前扣除的原因代碼。 您選擇的索賠依據，會影響適用的選項。 如需更多關於如何建立和設定索賠原因的資訊，請參閱本主題前面部分的[建立扣除原因](#deduction-reasons)。
    - **附註** – 新增任何適用的附註。 索賠獲得核准後，核准者可以編輯或新增索賠的附註。
    - **建立債權日記帳** – 設定此選項，指定建立索賠或扣除時，是否應建立索賠日記帳：

        - *是* – 系統會使用 **應收帳款參數** 頁面設定的債權日記帳，建立並張貼一般日記帳。 (如需更多資訊，請參閱本主題前面部分的[設定應收帳款和扣除](#accounts-receivable-deductions)。) 當索賠附發票時，債權日記帳會用於減少。 如果索賠後來被拒絕，索賠日誌和結算 (如果附有發票) 將被沖銷。
        - *否* – 這次不會建立債權日記帳。 將於索賠核准後建立。 即使未建立債權日記帳，仍可以將發票附加到新的索賠中。 但是，沒有債權日記帳就無法進行結算。

1. 選擇 **確定**。

    已建立新的扣除額。 如果您將 **建立債權日記帳** 選項設定為 *是*，則會過帳以下交易：

    - **兩個新客戶的交易** – 一筆交易抵消了原始發票上的索賠金額。 另一筆交易將客戶的債務登記為索賠金額，因為索賠尚未獲得批准。 當您選擇透過動作窗格上 **維護 \> 附上發票** 附上發票時，原始發票交易和抵銷索賠交易將自動標記為結算。
    - **兩筆抵消交易** – 這些交易會過帳到 **扣除抵消** 分類帳科目。
    - **債權日記帳** – 若要查看扣除 Workbench 上顯示每個扣除的債權日記帳，請選擇 **參考** 索引標籤。債權日記帳會顯示在 **日記帳批次編號** 欄位。 您還可以在 **扣除事件** 索引標籤中檢視。這裡，會有一個 **更新類型** 的值 *匹配*。

## <a name="create-a-credit-note-for-a-customer"></a>為客戶建立信用票據

客戶具有已核准的回扣之後，您可以根據需要，在客戶帳戶上建立信用票據，用以代表回扣。 然後，信用額度會出現在扣除 Workbench 上，可以與扣除額相匹配。

若要建立信用票據，請按照以下步驟。

1. 前往 **銷售與營銷 \> 客戶 \> 所有客戶**。
1. 選擇客戶。
1. 在動作窗格上，在 **收集** 索引標籤上，在 **結算** 組中，選擇 **結算交易**。
1. 在 **結算交易** 對話框中，選擇要應用回扣的交易。
1. 在工具列上，的 **功能** 功能表上，選擇適用的回扣計劃類型。
1. 在 **回扣** 頁面，**概覽** 索引標籤，選擇相關回扣識別碼旁邊的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **功能 \> 建立信用票據**。

## <a name="process-a-deduction-on-the-deduction-workbench"></a>在扣除 Workbench 上處理扣除

在扣除 Workbench 上，您可以將扣除額配對至未結信用交易、拆分扣除和沖銷扣除當中。

根據您要處理扣除的方式，完成以下小節中的一個或多個程序。 您可以根據需要結合多個程序。 例如，您可以將扣除分割成兩部分，然後將其中一部分與信用額度匹配，將剩餘部分留在 Workbench 上，以便之後與另一個信用額度匹配。 您還可以將扣除額與小於扣除額的信用額度相匹配，然後拒絕或沖銷剩餘的扣除額。

### <a name="match-a-deduction-to-a-credit"></a>將扣除額與信用額度匹配

若要將扣除額與信用額度相匹配，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理的 **標記** 核取方塊。
1. 在 **未結交易** 部分，選擇與扣除額相匹配的信用額度 **標記** 核取方塊。 如果列出了多個信用額度，您可以選擇多個信用額度來匹配扣除額。 如果您希望系統自動選擇與扣除額相匹配的信用額度，請在工具列上，從 **選擇扣除額** 功能表中，選擇合適的選項。
1. 在動作窗格上，選擇 **維護 \> 配對**。 系統將扣除額與信用額度相匹配。 如果扣除額中仍有餘額，則顯示在 **扣除額** 索引標籤的 **剩餘金額** 欄位。

    > [!NOTE]
    > 對於透過扣除 Workbench、客戶結算，或客戶頁面上使用 **新建扣除額** 命令建立的扣除，**維護 \> 匹配** 命令，只有在 **索賠狀態** 欄位設定為 *已接受* 時才可使用。 此令另可用於手動配對，將以價格為基礎或數量為基礎的交易，與 **未結交易** 部分建立關聯。 無論是扣除額經核准後 (透過使用 **維護 \> 核准扣除額**)，或是附加至現有信用額度，如本主題後半部分的[核准扣除額之外建立的信用額度](#credits-outside-approval)，都會建立此信用額度。 *結算核准的扣除額* 定期工作 (**銷售與市場營銷 \> 定期工作 \> 結算核准的扣除額**) 也可用於自動匹配與信用額度相匹配的 **扣除識別碼** 價值核金額。

### <a name="split-a-deduction"></a>分割扣除額

若要分割扣除額，請按照以下步驟：

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **維護 \> 拆分**。
1. 在 **拆分** 對話框中，在 **拆分金額** 欄位中，輸入從主要扣除中拆分的金額。 然後選擇 **確定**。
1. 在 **扣除** 索引標籤，注意拆分金額會出現新的記錄。 原始扣除記錄包含扣除餘額的提醒。 您現在可以分別管理原始回扣的兩個部分。
1. 選擇原始扣除記錄，然後選擇 **參考** 索引標籤。**分割金額** 欄位，會顯示從原始金額中分割出來的金額。

### <a name="attach-an-invoice-to-a-deduction"></a>將發票附加到扣除額

如果扣除是通過扣除 Workbench、客戶結算或客戶頁面上的命令建立的 **新建扣除**，且當前沒有附加發票 (即 **發票** 欄位為空白)，則您可以將發票附加到扣除額。

若要將發票附加到扣除額，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **維護 \> 附加發票**。
1. 在 **附加發票** 對話框中，選擇發票，然後選擇 **確定**。
1. 在 **結算交易** 對話框中，根據建立扣除時，是否過帳債權日記帳，執行以下步驟之一：

    - 如果已過帳債權日記帳，則您選擇的發票和債權日記帳的客戶信用交易，在 **標記** 欄位上會顯示勾選。 選擇 **過帳**。 附加發票上的剩餘餘額，會由索賠金額減去。
    - 如果未過帳債權日記帳，則 **標記** 欄位中不會顯示交易勾選標記。 因為扣除核准之前，您不能抵消債權日記帳，所以選擇 **取消**。

### <a name="detach-an-invoice-from-a-deduction"></a>從扣除額移除附加的發票

如果扣除是通過扣除 Workbench、客戶結算或客戶頁面上的命令建立的 **新建扣除**，且當前已經有附加發票 (即 **發票** 欄位顯示發票號碼)，並且 **索賠狀態** 欄位設定為 *未結*，則您可以從扣除額移除附加的發票。 您可能會因為附加的發票不正確，所以需要完成此工作。 發票會從扣除額移除，如果當時扣除額的餘額因發票減少，會於移除後更新餘額。

若要移除附加發票，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **維護 \> 移除附加發票**。

### <a name="approve-a-deduction"></a>核准扣除

您可以使用扣除 Workbench、客戶結算，或是客戶頁面上的 **新建扣除** 命令，來核准以建立的扣除。 但是，您只能核准 **索賠狀態** 欄位設定為 *未結* 的扣除額。

若要核准扣除額，請按照以下步驟：

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **維護 \> 核准扣除**。
1. 在 **批准扣除** 對話框中，根據需要，編輯或新增 **註記** 值。
1. 如果扣除是基於價格，並且沒有附加發票，請選擇項目銷售稅群組。 通常，稅金項目群組是在發票上設定的。 因此，未附加到發票時必須指定稅金代碼。
1. 選擇 **確定**。

    在這一點上，不能對扣除額進行進一步的更改。 如果建立扣除額時，**債權日記帳** 選項設定為 *否*，則核准扣除額進行過帳時，會建立債權日記帳。 扣除額通過核准後，會自動建立並開啟信用額度。 類型取決於扣除額 **索賠依據** 的值：

    - *基於價格* – 如果扣除是基於價格，則會為客戶帳戶建立免文件發票。 您可以新增說明並張貼信用。 建立草稿時，以下欄位由扣除額填入：

        - **扣除額識別碼** – 該欄位會新增至標題中，以啟用扣除額追蹤。
        - **主帳戶** – 該值由 **索賠過帳帳戶** 指派給扣除額的扣除原因的值所決定。
        - **項目銷售稅群組** – 該值由附加的發票，或您在核准扣除時所選的值決定。
        - **單價** – 該值是扣除額索賠金額的信用額度。
        - **發票文本** – 預設情況下，該欄位設定為扣除的 **註記** 值。

    - *基於數量* – 如果扣除是基於數量的，則會建立未結銷售訂單或退貨單。 **[應收帳款參數](#accounts-receivable-deductions)** 頁面上的 **建立退貨單** 設定，決定扣除額通過核准後，是否建立銷售訂單或退貨單。 會出現 **複製訂單** 頁面，並經過篩選，以顯示 **發票帳戶** 欄位設定為扣除額客戶帳務。 請依下列步驟操作：

        1. 在 **發票** FastTab 上，**標頭** 部分顯示銷售發票，其中 **發票帳戶** 值與扣款的客戶帳戶相匹配。 選擇適用的銷售發票。
        1. **明細** 部分顯示來自所選銷售發票的明細。 選擇每一個要複製的明細，**選擇** 核取方塊。 或者，在 **標題** 部分，選擇 **全選** 銷售訂單核取方塊，以選擇所有明細。
        1. 根據需要，將 **數量** 調整為一個或多個明細的值。

            到目前為止，您選擇的所有明細，都會列在 **已選擇複製的明細或標題** FastTab。

        1. 根據需要重複前兩個步驟，直到所有需要的明細都列在 **已選擇複製的明細或標題** FastTab。
        1. 選擇 **確定**。

            已打開新的退貨單，並自動設定以下欄位：

            - **扣除額識別碼** – 該欄位會新增至標題中，以啟用扣除額追蹤。
            - **退貨原因代碼** – 預設情況下，此欄位設定為 **退貨原因碼**，為指派扣除額的扣除原因設定的值。

信用票據開出後，會顯示於扣除 Workbench 的 **未結交易** 部分，對應 **扣除識別碼** 值，及其 **索賠類型** 欄位會設定為 *其他信用額度*。 信用額度會保持開啟，直到透過以下扣除方式之一結算：

- 您透過動作窗格上 **維護 \> 匹配**，進行手動結算。
- 透過 *結算已核准的索賠* 定期作業 (**銷售和營銷 \> 定期作業 \> 結算已核准的索賠**) 進行自動結算。
- 因為 **應收帳款參數** 頁面上，**結算** 索引標籤的 **自動結算** 選項設定為 *是*，因此會進行自動結算。

若要查看核准扣除時建立的信用額度，您還可以使用扣除 Workbench 中 **打開交易** 部分的 **打開信用額度** 按鈕。

### <a name="create-a-return-order"></a>建立退貨單

您可以使用扣除 Workbench、客戶結算，或是客戶頁面上的 **新建扣除** 命令，來為扣除建立退貨單。 但是，必須滿足以下所有條件：

- 這 **索賠依據** 欄位設定為 *基於數量*。
- **索賠狀態** 欄位設定為 *未結*。
- **建立退貨單** 選項上的 **扣除** 索引標籤的 **[應收帳款參數](#accounts-receivable-deductions)** 頁面設定為 *是*。
- **扣除核准前建立退貨單** 選項上的 **扣除** 索引標籤的 **[應收帳款參數](#accounts-receivable-deductions)** 頁面設定為 *是*。

若要建立退貨單，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **維護 \> 建立退貨單**。
1. 在 **核准扣除** 對話框中，根據需要編輯或新增資訊至現有 **註記** 值，然後選擇 **確定**。
1. **發票** FastTab 上的 **複製訂單** 對話框中，**標題** 部分顯示銷售發票，其中 **發票帳戶** 值與扣款的客戶帳戶相匹配。 選擇適用的銷售發票。
1. **明細** 部分顯示來自所選銷售發票的明細。 對每一個要複製的明細，選擇該 **選擇** 核取方塊。 或者，在 **標題** 部分，選擇 **全選** 銷售訂單核取方塊，以選擇所有明細。
1. 根據需要，將 **數量** 調整為一個或多個明細的值。

    到目前為止，您選擇的所有明細，都會列在 **已選擇複製的明細或標題** FastTab。

1. 根據需要重複前兩個步驟，直到所有需要的明細都列在 **已選擇複製的明細或標題** FastTab。
1. 選擇 **確定**。

    已打開新的退貨單，並自動設定以下欄位：

    - **扣除額識別碼** – 該欄位會新增至標題中，以啟用扣除額追蹤。
    - **退貨原因代碼** – 預設情況下，此欄位設定為 **退貨原因碼**，為指派扣除額的扣除原因設定的值。

### <a name="deny-a-deduction"></a>拒絕扣除

若要拒絕扣除，請按照以下步驟：

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **維護 \> 拒絕**。
1. 在 **拒絕** 對話框中，選擇拒絕的原因代碼，然後選擇 **確定**。
1. 動作窗格下方的 **顯示** 欄位，選擇 *關閉*。

    這 **扣除** 索引標籤，會顯示已拒絕的扣除，並且扣除欄位的 **剩餘金額** 會設定為 *0.00*。

    對於透過扣除 Workbench、客戶結算，或客戶頁面中，使用 **新建扣除** 指令所建立的扣除，會發生以下事件：

    - 在 **參考** 索引標籤中，**拒絕** 欄位的部分已更新。
    - 如果建立扣除時，您已選擇建立債權日記帳，並且發票已附加至扣除，減去發票餘額，則發票會移除附加，先前附加發票時所剩餘的餘額，會因為拒絕索賠金額而增加。
    - 扣除的 **狀態** 欄位，設定為 *已關閉*。
    - 扣除的 **索賠狀態** 欄位，設定為 *已拒絕*。

若要撤回拒絕扣除，請按照以下步驟：

1. 在 **扣除** 索引標籤上，選擇已拒絕的扣除。
1. 在動作窗格上，選擇 **撤回拒絕**。

    對於透過扣除 Workbench、客戶結算，或客戶頁面中，使用 **新建扣除** 指令所建立的扣除，會發生以下事件：

    - 在 **參考** 索引標籤中，**拒絕** 欄位的部分已更新。
    - 扣除的 **狀態** 欄位，會設定為 *開啟*。
    - 扣除的 **索賠狀態** 欄位，會設定為 *開啟*。

### <a name="write-off-a-deduction"></a>沖銷扣除

若要沖銷扣除，請按照以下步驟：

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **維護 \> 沖銷**。
1. 在 **沖銷** 對話框中，選擇沖銷的原因代碼，然後選擇 **確定**。
1. 在 **顯示** 欄位中，選擇 *已關閉*。

    **扣除** 索引標籤，會顯示已沖銷的扣除，並且扣除欄位的 **剩餘金額** 會設定為 *0.00*。

    對於透過扣除 Workbench、客戶結算，或客戶頁面中，使用 **新建扣除** 指令所建立的扣除，會發生以下事件：

    - 在 **參考** 索引標籤中，**沖銷** 欄位的部分已更新。
    - 如果建立扣除時，您已建立債權日記帳，則會將債權日記帳過帳到扣除的沖銷原因代碼。 您可以在 **扣除事件** 索引標籤中查看，其 **更新類型** 內的 *沖銷* 值。
    - 扣除的 **狀態** 欄位，設定為 *已關閉*
    - 扣除的 **索賠狀態** 欄位，設定為 *已沖銷*。

若要撤回沖銷，請按照以下步驟：

1. 在 **扣除** 索引標籤上，選擇已拒絕的扣除。
1. 在動作窗格上，選擇 **撤回沖銷**。

    對於透過扣除 Workbench、客戶結算，或客戶頁面中，使用 **新建扣除** 指令所建立的扣除，會發生以下事件：

    - 在 **參考** 索引標籤中，**沖銷** 欄位的部分已更新。
    - 如果建立扣除時，您已建立債權日記帳，則會將債權日記帳過帳到扣除的沖銷原因代碼。 您可以在 **扣除事件** 索引標籤中查看，其 **更新類型** 內的 *撤回沖銷* 值。
    - 扣除的 **狀態** 欄位，會設定為 *開啟*。
    - 扣除的 **索賠狀態** 欄位，會設定為 *開啟*。

## <a name="credits-created-outside-the-approve-deduction-process"></a><a name="credits-outside-approval"></a>核准扣除程序外建立的信用額度

本部分只適用於扣除 Workbench、客戶結算，或是客戶頁面上的 **新建扣除** 命令，所建立扣除。

不同使用者可能已經為客戶 **核准扣除** 程序以外的索賠，建立免文本發票、退貨單或彌補銷售訂單。 當現有扣除在扣除 Workbench 上通過核准之後，系統會自動建立另一個普通發票、退貨單或是彌補銷售訂單。 本部分說明如何在扣除核准之前，附加現有信用額度，避免信用額度重複。

### <a name="attach-a-credit-to-deduction"></a>將扣除額與附加至信用額度

本部分說明如何將信用額度附加至信用的扣除額。

信用額度附加到扣除後，您可以使用扣除 Workbench 中 **未結交易** 部分的工具列，**打開信用額度** 按鈕進行查看。

信用額度開出，並且核准扣除之後，扣除 Workbench 的 **未結交易** 部分顯示的信用額度，會對應適用的 **扣除識別碼** 值，其 **索賠類型** 欄位會設定為 *其他信用額度*。

#### <a name="attach-a-free-text-invoice-to-a-deduction"></a>將普通發票附加到扣除

若要將普通發票附加到扣除額，請按照以下步驟。

1. 前往 **應收帳款 \> 發票 \> 所有普通發票**。
1. 選擇適用的發票。
1. 在動作窗格上，於 **發票** 索引標籤，選擇 **附加信用額度到扣除**。 此按鈕只有在普通發票的 **扣除識別碼** 欄位為空白時才可供使用。 空白欄位表示該普通發票，尚未附加至扣除。
1. 在 **附加信用額度到扣除** 頁面，您可以選擇 *一個* 扣除。 只能選擇以 *基於價格* 的未結扣除。
1. 選擇 **確定**。 **扣除識別碼** 欄位，會設定在普通發票的標題上。

#### <a name="attach-a-return-order-to-a-deduction"></a>將退貨單附加到扣除

若要將退貨單附加到扣除額，請按照以下步驟。

1. 前往 **應收帳款 \> 訂單 \> 所有退貨單**。
1. 選擇適用的已接收或未結退貨授權 (RMA) 編號。
1. 在動作窗格上，於 **退貨單** 索引標籤，選擇 **附加信用額度到扣除**。 此按鈕只有在退貨單的 **扣除識別碼** 欄位為空白時才可供使用。 空白欄位表示該退貨單，尚未附加至扣除。
1. 在 **附加信用額度到扣除** 頁面，您可以選擇 *一個* 扣除。 只能選擇以 *基於數量* 的未結扣除。
1. 選擇 **確定**。 **扣除識別碼** 欄位，會設定在退貨單的標題上。

#### <a name="attach-a-sales-order-to-a-deduction"></a>將退銷售訂單附加到扣除

若要將銷售訂單附加到扣除額，請按照以下步驟。

1. 前往 **應收帳款 \> 訂單 \> 所有銷售訂單**。
1. 選擇適用的未結、已交付或已開票的銷售訂單。
1. 在動作窗格上，於 **發票** 索引標籤，選擇 **附加信用額度到扣除**。 此按鈕只有在銷售訂單的 **扣除識別碼** 欄位為空白時才可供使用。 空白欄位表示該銷售訂單，尚未附加至扣除。
1. 在 **附加扣除** 頁面，您可以選擇 *一個* 扣除。 只能選擇以 *基於數量* 的未結扣除。
1. 選擇 **確定**。 **扣除識別碼** 欄位，會設定在銷售訂單的標題上。

#### <a name="detach-a-deduction-from-a-credit"></a>從信用額度中移除扣除

如果附加了不正確的扣除，您可以將其從信用額度中移除。 但是，必須滿足以下所有條件：

- 附加至扣除的信用額度。
- **索賠狀態** 欄位設定為 *未結*。

要從信用額度中移除扣除，請根據信用額度類型，執行以下步驟之一：

- **普通發票：** 在 **所有普通發票** 頁面，選擇發票。 然後，在動作窗格上，於 **發票** 索引標籤，選擇 **從扣除移除信用額度**。
- **退貨單：** 在 **所有退貨單** 頁面，選擇一個訂單。 然後，在動作窗格上，於 **退貨單** 索引標籤，選擇 **從扣除移除信用額度**。
- **銷售訂單：** 在 **所有銷售訂單** 頁面，選擇一個訂單。 然後，在動作窗格上，於 **發票** 索引標籤，選擇 **從扣除移除信用額度**。

### <a name="attach-a-deduction-to-a-credit"></a>將扣除附加到信用額度

本部分說明如何從扣除，將扣除附加到信用額度。

#### <a name="attach-a-deduction-to-a-free-text-return-order-or-sales-order-credit"></a>將扣除附加到自由文本、退貨單或銷售訂單信用額度

若要將扣除附加到自由文本、退貨單或銷售訂單信用額度，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇適用的未結扣除。
1. 在動作窗格上，選擇 **維護 \> 附加扣除到信用額度**。 僅在 **索賠狀態** 欄位設定為 *未結* 時，才可使用此按鈕。
1. 在 **附加信用額度** 頁面，您可以選擇 *一個* 扣除。 顯示的新用額度類型，取決於扣除 **索賠依據** 的值：

    - *基於價格* – 該頁面顯示客戶帳戶的普通發票，其中 **扣除識別碼** 欄位為空白。 還顯示客戶請求，因為普通發票可能尚未過帳。 因此，它可能沒有可以參考的編號。
    - *基於數量* – 顯示的信用類型取決於 **建立退貨單** 上的選項 **[應收帳款參數](#accounts-receivable-deductions)** 頁面：

        - *是* – 該頁面顯示客戶帳戶的退貨單，其中 **扣除識別碼** 欄位為空白。
        - *否* – 該頁面顯示客戶帳戶的銷售訂單，其中 **扣除識別碼** 欄位為空白。

1. 選擇 **確定**。 **扣除識別碼** 欄位，會設定在信用額度的標題上。

信用額度附加到扣除後，您可以使用扣除 Workbench 中 **未結交易** 部分的工具列，**打開信用額度** 按鈕進行查看。

信用額度開出，並且核准扣除之後，扣除 Workbench 的 **未結交易** 部分顯示的信用額度，會對應適用的 **扣除識別碼** 值，其 **索賠類型** 欄位會設定為 *其他信用額度*。

#### <a name="detach-a-credit-from-the-deduction"></a>從扣除中移除信用額度

如果附加了不正確的信用額度，您可以將其從扣除中移除。 在動作窗格上，於 **維護** 群組，選擇 **從信用額度中移除扣除**。 **扣除識別碼** 值會從信用額度中移除。

只有滿足以下條件時，才能使用 **從信用額度中移除扣除** 按鈕：

- 附加至扣除的信用額度。
- **索賠狀態** 欄位設定為 *未結*。

## <a name="create-a-one-time-promotion"></a>建立一次性促銷

有時候，您可能沒有可以與扣除額相匹配的核准回扣。 在這種情況下，您可以使用 *一次性促銷* 將扣除額及與客戶關聯的貿易津貼相匹配的功能。 *一次性促銷* 功能，可以建立一個新的貿易津貼合約和一個一次性銷售活動。 然後，它將一次性金額與扣除額相匹配，並進行關閉扣除額所需的過帳。

如果您使用貿易津貼，此功能非常有用。 如需貿易津貼的更多資訊，請參閱[貿易津貼管理](../sales-marketing/trade-allowance.md)。

首先，您必須設定可用於建立新貿易津貼合約的範本。 若要設定範本，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 範本**。
1. 在動作窗格上，選擇 **新增**。
1. 在欄位中，輸入應顯示於從範本建立的合約資訊。
1. 在 **客戶** FastTab，**階層** 欄位中，選擇一個階層等級。
1. 在階層列表中，選擇尚未匹配扣除的客戶，然後選擇右箭頭按鈕 (**\>**)。 客戶會新增到 **貿易津貼合約客戶** 列表。
1. 根據需要設定剩餘欄位，然後關閉頁面。
1. 前往 **銷售和營銷 \> 設定 \> 貿易津貼 \> 貿易津貼管理參數**。
1. 在 **蓋覽** 索引標籤，在 **一次性促銷範本** 欄位，選擇用於建立一次性促銷的範本名稱。

接下來，您可以在扣除 Workbench 上建立一次性促銷。 若要建立一次性促銷，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 選擇要處理扣除旁的 **標記** 核取方塊。
1. 在動作窗格上，選擇 **維護 \> 以一次性促銷結算扣除**。
1. 在 **一次性促銷** 對話框中，按照以下步驟，將一筆或多筆資金與扣除建立關聯：

    1. 選擇 **新建**，然後在 **資金識別碼** 欄位中選擇資金識別碼。 重複此步驟，新增需求數量的資金。
    1. 在每個資金識別碼旁邊的 **百分比** 欄位中，輸入要分配給基金的扣除百分比。 您輸入的金額 **百分比** 欄位，百分比總數必須為 100。

1. 選擇 **確定**。 系統會建立一個新的貿易補貼協議，其中包含一次性銷售事件並將一次性付款與扣除額相匹配。

## <a name="do-a-mass-update-of-deductions"></a>進行扣除的大規模更新

如果您必須對多個扣除項進行相同的變更，您可以選擇這些扣除項並對其字段進行大量更新。

若要進行大量更新，請按照以下步驟。

1. 前往 **銷售和營銷 \> 貿易津貼 \> 扣除 \> 扣除 Workbench**。
1. 在動作窗格下方的 **顯示** 欄位中，選擇要查看的扣除類型。
1. 選中您要更新的每個扣除項旁邊的核取方塊。 然後，在動作窗格上，選擇 **維護\>大量更新**。
1. **大量更新** 對話框顯示選擇的扣款。 根據需要更新的欄位，然後選擇 **確定** 接受更改。
