---
title: 區域閾值補貨
description: 區域型補貨使用最小/最大 (min/max) 補貨策略，但它評估整個倉庫區域，而不僅僅是單個位置。 因此，倉庫經理可以更快地了解揀貨區何時需要額外庫存。
author: Mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSReplenishmentTemplates, WHSLocDirHint, WHSLocDirTable, WHSRequestType
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.8
ms.openlocfilehash: f3e94cc79f0daac9107f9876ac8414d2c4cff366
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8448161"
---
# <a name="zone-threshold-replenishment"></a>區域閾值補貨

[!include [banner](../includes/banner.md)]

區域型補貨使用最小/最大 (min/max) [補貨](replenishment.md)策略，但它會評估整個倉庫區域，而不僅僅是單個位置。 因此，倉庫經理可以更快地了解揀貨區何時需要額外庫存。

此功能的設定類似於位置型補貨設定。 但是，當您為最小/最大補貨設定範本時，您還可以指定是否應按位置或按區域評估閾值。 如果您設定區域型評估，則必須將特定區域新增到區域選擇查詢中。

與位置型最小/最大補貨一樣，區域型最小/最大補貨是根據最小庫存閾值的設定，該閾值觸發為選定項目建立補貨工作。 這項補貨工作將把庫存增加到該區域指定的最大閾值。

> [!NOTE]
> 目前版本不支援產品變型的區域補貨流程。


與位置型最小/最大補貨不同，區域型最小/最大補貨不需要固定位置來評估位置是否應存儲特定品項。 因此，區域型補貨允許您使用最小/最大補貨，即使您沒有倉庫中每個品項或品項變型的固定位置。 當區域中的數量低於指定的最小閾值時，將建立補貨工作。 位置指令將確定應將庫存放入哪個特定位置。

## <a name="turn-on-the-zone-threshold-replenishment-feature"></a>打開區域閾值補充功能

使用 *區域閾值補貨* 功能之前，您必須先在系統中開啟。 管理員可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)設定來檢查該功能的狀態，並視需要開啟該功能。 在 **功能管理** 工作區，該功能會依以下方式列出：

- **模組：***倉庫管理*
- **功能名稱：***區域閾值補貨*

## <a name="set-up-zone-based-replenishment"></a><a name="setup"></a>設定區域型補貨

要設定區域型補貨，您必須設定系統的多個部分。 本節介紹各種設定並提供示範資料值，如果您想完成本主題結尾的案例，您可以輸入這些值。

### <a name="set-up-directive-codes"></a>設定指令代碼

[指令代碼](control-warehouse-location-directives.md)讓您在定義工作範本中使用的位置範本時更加具體。 每個代碼都會建立一個通用值，可以在設定每種類型的範本時引用該值。

#### <a name="view-and-edit-directive-codes"></a>查看和編輯指令代碼

要查看或編輯您的指令代碼，請前往 **倉庫管理 \> 設定 \> 指令代碼**。

#### <a name="prepare-demo-data-directive-codes"></a>準備示範資料指令代碼

這個範例說明如何準備指令代碼。 如果計劃完成本主題結尾的案例，請使用此處提供的示範資料值。 否則，請使用您自己的值。

1. 選擇 **USMF** 法人實體使用這些示範資料。
1. 前往 **倉庫管理 \> 設定 \> 指令代碼**。
1. 在動作窗格上選取 **新增**，將資料列新增至格線。
1. 在新資料列中，設定以下值：

    - **指令代碼：**_區域補貨_
    - **指令描述：**_區域補貨_

1. 選擇 **儲存**，以儲存新代碼。

### <a name="set-up-replenishment-templates"></a>設定補貨範本

[最小/最大補貨範本](tasks/set-up-min-max-replenishment-process.md)是保持揀料位置最佳等級的主要機制。 在這些範本中，必須設定用於補貨倉庫庫存的規則。 範本可用於的補貨中包括區域型補貨。

#### <a name="view-and-edit-replenishment-templates"></a>查看和編輯補貨範本

補貨範本是一組控制何時以及如何補貨的規則。 選擇範本來控制補貨的時間和方式。 若要查看或編輯補貨範本，請前往 **倉庫管理 \> 設定 \> 補貨 \> 補貨範本**，然後建立補貨範本。

#### <a name="prepare-a-demo-data-replenishment-template"></a>準備示範資料補貨範本

本範例說明如何準備補貨範本。 如果計劃完成本主題結尾的案例，請使用此處提供的示範資料值。 否則，請使用您自己的值。

1. 選擇 **USMF** 法人實體使用這些示範資料。
1. 移至 **倉庫管理 \> 設定 \> 補貨 \> 補貨範本**。
1. 選取 **編輯** 讓頁面進入編輯模式。
1. 在動作窗格上，選取 **新增** 將一資料列新增到 **概觀** 格線。
1. 在新資料列中，設定以下值。 接受其他所有欄位中的預設值。

    - **補貨範本：**_區域最小/最大補貨_
    - **描述：**_區域最小/最大補貨_
    - **補貨類型：**_最小值或最大值_

1. 選擇 **儲存**。
1. **概觀** 格線中的新行仍處於選取狀態時，選擇 **補貨範本詳細資料** 格線上方的 **新增** 以新增與您剛才建立的 *區域最小/最大補貨* 補貨範本關聯的資料列。
1. 在新資料列中，設定以下值：

    - **序號：** 輸入 _1_。
    - **描述：** 輸入 _揀料區補貨_
    - **補貨單位：** 選取 _每個_。
    - **要求類型：** 將此欄位留空。
    - **指令代碼：** 此欄位將補貨範本與位置指令連結。 選擇您之前建立的示範資料指令代碼 (_區域補貨_)。
    - **工作範本：** 將此欄位保留空白。
    - **最小數量：** 此欄位設定將觸發補貨的數量。 輸入 _50_。
    - **最大數量：** 此欄位設定某個品項在區域中可存在的最大數量。 產生的補貨工作會將庫存增加到此數量。 輸入 _150_。
    - **單位：** 此欄位設定最小值和最大值的單位。 選取 _每個_。
    - **需求增量：** 選擇 _進位_。
    - **對空固定位置補貨：** 選取此核取方塊。
    - **僅對固定位置補貨：** 清除此核取方塊。
    - **產品查詢模式：** 選擇 _產品查詢_。
    - **補貨閾值範圍：** 此欄位定義範本是否應按區域或特定位置進行評估。 選取 _區域_。
    - **倉庫：** 選擇 _61_。

1. 選擇 **補貨範本詳細資料** 格線上方的 **選擇產品**。
1. 在 **產品查詢** 對話方塊中，在 **範圍** 索引標籤，請選取 **新增** 在格線中新增一列。
1. 在新資料列中，設定以下值：

    - **資料表：**_品項_
    - **衍生資料表：**_品項_
    - **欄位：**_品項編號_
    - **條件：**_A0001_

1. 選擇 **確定** 儲存查詢並關閉對話方塊。
1. 選取 **補貨範本詳細資料** 格線上方的 **選擇要補貨的區域**。
1. 在 **區域查詢** 對話方塊的 **範圍** 索引標籤中，在格線中新增一列。
1. 在新資料列中，設定以下值：

    - **資料表：**_倉庫區域_
    - **衍生資料表：**_倉庫區域_
    - **欄位：**_區域識別碼_
    - **條件：**_車間_

1. 選擇 **確定** 儲存查詢並關閉對話方塊。

### <a name="set-up-location-directives"></a>設定位置指令

與位置型最小/最大補貨不同，區域型最小/最大補貨要求您同時設定揀料位置指令和放置位置指令，因為系統會評估整個區域，而不僅僅是出庫工作的揀料位置。

#### <a name="view-and-edit-location-directives"></a>查看和編輯位置指令

若要查看或編輯您的位置指令，請前往 **倉庫管理 \> 設定 \> 位置指令**。

有關顯示如何使用設定來建立所需的揀料位置指令和放置位置指令的範例，請參閱下一節。

#### <a name="prepare-demo-data-location-directives"></a>準備示範資料位置指令

要準備示範資料以便在本主題結尾的案例中使用它，您必須建立兩個位置指令：一個用於揀料，一個用於放置。

##### <a name="create-a-replenishment-pick-directive"></a>建立補貨揀料指令

1. 選擇 **USMF** 法人實體使用這些示範資料。
1. 前往 **倉庫管理 \> 設定 \> 位置指令**。
1. 在左側窗格中，將 **工單類型** 欄位設定為 _補貨_。
1. 在動作窗格上，選擇 **新增** 建立新指令。
1. 設定以下值：

    - **序號：** 接受預設值。
    - **名稱：** 輸入 _區域揀料_。
    - **工作類型：** 選取 _揀料_。
    - **站點：** 選擇 _6_。
    - **倉庫：** 選擇 _61_。
    - **指令代碼：** 將此欄位保留空白。
    - **多個 SKU：** 將此選項設定為 _否_。

1. 選擇 **儲存** 以建立指令，其中包含您迄今為止設定的設定。
1. 在 **行項** FastTab 上選擇 **新增**，以在格線中新增一行。
1. 在新的明細上，設定以下值：

    - **序號：** 輸入 _1_。
    - **起始數量：** 輸入 _0_。
    - **截止數量：** 輸入 _10000000_。
    - **單位：** 將此欄位保留空白。
    - **位置數量：** 選擇 _無_。
    - **依單位的限制：** 清除此核取方塊。
    - **進位到單位：** 清除此核取方塊。
    - **位置裝箱數量：** 清除此核取方塊。
    - **允許拆分：** 選取此核取方塊。

1. 選擇 **儲存**，以儲存新行。
1. 雖然 **行** 格線中的新行仍處於選取狀態時，選擇 **位置指令動作** 快速索引標籤上的 **新增** 向格線新增一列。
1. 在新資料列中，設定以下值：

    - **序號：** 輸入 _1_。
    - **名稱：** 輸入 _散裝揀料_。
    - **固定位置使用：** 選取 _固定和非固定位置_。
    - **允許負庫存：** 清除此核取方塊。
    - **批次已啟用：** 清除此核取方塊。
    - **策略：** 選取 _無_。

1. 選擇 **儲存**，以儲存新動作。
1. 當您的新動作仍處於選取狀態時，選擇 **位置指令動作** 格線上方的 **編輯查詢**。
1. 將出現一個查詢對話方塊，您可以在其中選擇要補貨的位置。 在 **範圍** 索引標籤，選取 **新增** 將列新增到格線。
1. 在新資料列中，設定以下值：

    - **資料表：**_位置_
    - **衍生資料表：** _位置_
    - **欄位：**_區域識別碼_
    - **條件：**_散裝_

1. 選擇 **確定** 儲存查詢並關閉對話方塊。
1. 選取 **儲存** 以儲存您的位置指令。

##### <a name="create-a-replenishment-put-directive"></a>建立補貨放置指令

1. 在左窗格的 **位置指令** 頁面中，確定 **工單類型** 欄位仍設定為 _補貨_。
1. 在動作窗格上，選擇 **新增** 建立另一個新指令。
1. 設定以下值：

    - **序號：** 接受預設值。
    - **名稱：** 輸入 _區域放置_。
    - **工單類型：** 選擇 _放置_。
    - **站點：** 選擇 _6_。
    - **倉庫：** 選擇 _61_。
    - **指令代碼：** 選擇 _區域補貨_ 以使用您之前建立的代碼將此位置指令與您之前建立的補貨範本連結。
    - **多個 SKU：** 將此選項設定為 _否_。

1. 選擇 **儲存** 以建立指令，其中包含您迄今為止設定的設定。
1. 在 **行項** FastTab 上選擇 **新增**，以在格線中新增一行。
1. 在新的明細上，設定以下值：

    - **序號：** 輸入 _1_。
    - **起始數量：** 輸入 _0_。
    - **截止數量：** 輸入 _10000000_。
    - **單位：** 將此欄位保留空白。
    - **位置數量：** 選擇 _無_。
    - **依單位的限制：** 清除此核取方塊。
    - **進位到單位：** 清除此核取方塊。
    - **位置裝箱數量：** 清除此核取方塊。
    - **允許拆分：** 選取此核取方塊。

1. 選擇 **儲存**，以儲存新行。
1. 雖然 **行** 格線中的新行仍處於選取狀態時，選擇 **位置指令動作** 快速索引標籤上的 **新增** 向格線新增一列。
1. 在新資料列中，設定以下值：

    - **序號：** 輸入 _1_。
    - **名稱：** 輸入 _區域放置_。
    - **固定位置使用：** 選取 _固定和非固定位置_。
    - **允許負庫存：** 清除此核取方塊。
    - **批次已啟用：** 清除此核取方塊。
    - **策略：** 選擇 _合併_。

1. 選擇 **儲存**，以儲存新動作。
1. 當您的新動作仍處於選取狀態時，選擇 **位置指令動作** 格線上方的 **編輯查詢**。
1. 將出現一個查詢對話方塊，您可以在其中選擇要補貨的區域。 該區域應與補貨範本中指定的區域相同。 在 **範圍** 索引標籤，選取 **新增** 將列新增到格線。
1. 在新資料列中，設定以下值：

    - **資料表：**_位置_
    - **衍生資料表：**_位置_
    - **欄位：**_區域識別碼_
    - **條件：**_車間_

1. 選擇 **確定** 儲存查詢並關閉對話方塊。
1. 選取 **儲存** 以儲存您的位置指令。

## <a name="scenario"></a>案例

本節提供了一個範例案例，說明如何使用該功能。

### <a name="prepare-the-sample-data-that-is-required-for-the-sample-scenario"></a>準備範例案例所需的範例資料

在開始處理案例之前，必須按照本節中和本主題前文中的說明啟用範例資料和設定功能。

#### <a name="use-the-usmf-legal-entity"></a>使用 USMF 法律實體

要使用此處指定的範例記錄和值完成此案例，您必須使用已安裝標準[示範資料](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md)的系統。 此外在開始之前，您必須先選擇 **USMF** 法律實體。

#### <a name="prepare-additional-sample-data"></a>準備其他範本資料

選擇 **USMF** 法人實體後，請按照本主題前文的[設定區域型補貨](#setup)區段中的說明新增需要的更多範例資料。

#### <a name="check-your-on-hand-inventory"></a>檢查現有庫存

請按照以下步驟確保您的系統包含足夠的庫存來支援範例案例。

1. 確保補貨範本中指定的領料區 (*車間*) 的兩個不同位置內有品項 *A0001* 的現成庫存。 但是，總庫存應小於補貨範本中指定的最小必需數量 (*50*)。 這樣，就可以模擬如何為整個區域進行計算，而不是模擬僅為單個位置進行計算。 **根據需要使用任何倉庫流程來調整庫存。**
1. 確保區域領料貨位指令中指定的堆放位置 (此處補貨工作應該從區域識別碼 *散裝* 領取品項) 處有品項 *A0001* 的充足庫存。 庫存總量必須大於補貨範本中指定的最大必需數量 (*150*)。
1. 選用，但推薦：按照以下步驟建立庫存調整日記帳：

    1. 前往 **庫存管理 \> 日記帳項目 \> 品項 \> 庫存調整**。
    1. 選取 **新增**。
    1. 在 **建立庫存日記帳** 對話方塊的 **倉庫** 欄位，選擇 *61*。
    1. 選取 **確定**。
    1. 在 **日記帳行** 快速索引標籤，使用 **新增** 按鈕將三行新增到格線中，並設定以下值。 完成每一行的設定後，選擇 **儲存**。

        - **行 1：**

            - **品項編號：***A0001*
            - **站點：***6*
            - **倉庫：***61*
            - **位置：***02A01R1S1B*
            - **牌照：** 在清單中選擇現有牌照，或建立新牌照。
            - **數量：***1000*

        - **行 2：**

            - **品項編號：***A0001*
            - **站點：***6*
            - **倉庫：***61*
            - **位置：***07A01R2S1B*
            - **牌照：** 在清單中選擇現有牌照，或建立新牌照。
            - **數量：***15*

        - **行 3：**

            - **品項編號：***A0001*
            - **站點：***6*
            - **倉庫：***61*
            - **位置：***07A01R1S1B*
            - **牌照：** 在清單中選擇現有牌照，或建立新牌照。
            - **數量：***10*

    1. 在動作窗格上，選取 **驗證**。 在繼續下一步之前，解決發現的所有錯誤。
    1. 在動作窗格上，選取 **過帳** 將庫存過帳到倉庫。

### <a name="sample-scenario-run-zone-based-minmax-replenishment"></a>範例案例：執行區域型最小/最大補貨

準備好所有先決條件範例資料後，您可以按照以下步驟觸發補貨。

1. 前往 **倉庫管理 \> 補貨 \> 補貨**。
1. 在 **補貨** 對話方塊的 **要包括的記錄** 快速索引標籤，選擇 **篩選**。
1. 在 **查詢** 對話方塊的 **範圍** 索引標籤，按以下方式編輯預設資料表資料列：

    - **資料表：** 選擇 _補貨範本_。
    - **衍生資料表：** 選擇 _補貨範本_。
    - **欄位：** 選擇 _補貨範本_。
    - **條件：** 選擇 _區域最小/最大補貨_。 此補貨範本是您在為此案例準備示範資料時建立的補貨範本。

1. 選取 **確定** 儲存查詢運並回到 **補貨** 對話方塊。
1. 選擇 **確定** 執行補貨範本。

現在已建立補貨工作，以便從 *散裝* 區域領取庫存，然後將其補給 *車間* 區域。

## <a name="notes-and-tips"></a>附註和提示

以下是使用該功能的一些注意事項和提示：

- 若要設定針對所需區域的補貨工作，可以按照下面的一種方法連結補貨範本行和位置指令：

    - 編輯位置指令標題查詢，然後篩選所選補貨範本行。
    - 使用補貨範本行中的指令代碼，然後將其與放置位置指令比對。

- 如果使用動態位置，並且將貨位指令動作設定為使用 **合併** 策略，將為第一個可用位置或為已經包含庫存的位置建立補貨工作。
- 如果您使用固定位置而不是區域，則應使用[標準最小/最大補貨](tasks/set-up-min-max-replenishment-process.md)。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]