---
title: 波次建立和處理
description: 本主題介紹如何建立、處理和下達波次來建立負載、裝運、生產訂單或看板訂單的揀料工作。
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSWaveTemplateTable, WHSParameters, whswavetablecreatenew, WHSWaveTable, WHSWaveAttributes, WHSKanbanWaveTable, WHSWaveTableListPage, WHSKanbanWaveTableListPage, WHSProdWaveTable
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: 10.0.18
ms.openlocfilehash: b89a13e72816bbf140986bd5450d037cf2510753
ms.sourcegitcommit: fcb8a3419e3597fe855cae9eb21333698518c2c7
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/09/2022
ms.locfileid: "8450000"
---
# <a name="wave-creation-and-processing"></a>波次建立和處理

[!include [banner](../includes/banner.md)]

本主題介紹如何建立、處理和下達波次來建立負載、裝運、生產訂單或看板訂單的揀料工作。 您可以為以下類型的訂單建立波次：

- **銷售訂單** – 使用裝運波次來包括銷售訂單中的行。 當銷售訂單下達到倉庫時，銷售訂單行可以包含在波次中。
- **生產訂單** – 使用生產波次來包括產品物料清單 (BOM) 中的行。
- **看板訂單** – 看板波次包括來自看板訂單的揀料單行。

對於銷售訂單和看板訂單，必須在訂單下達倉庫之前預留庫存。 否則，無法在波次中處理物料或配置行。 但是，生產訂單稍微靈活一些。 對於生產訂單，您可以選擇以下任一選項：

- 需要預留所有物料，然後才能將訂單下達到倉庫。
- 即使無法預留所有物料，也允許將生產訂單下達到倉庫。 如果選擇此選項，則必須在其他物料可用時手動重複發放到倉庫的流程。 例如，如果您有開始生產所需的材料，且可以等到其他物料變為可用，這將非常有用。

您可以使用 **生產控制參數** 頁面上的 **物料預留要求** 欄位，指定要使用哪些生產訂單選項。 但是，您可以根據需要變更每個特定生產訂單的設定。 有關詳細資料，請參閱[波次處理的倉庫參數](wave-warehouse-parameters.md)。

## <a name="create-and-process-a-wave"></a>建立和處理波次

下圖顯示如何建立、處理和下達裝運波次的流程。 這些編號對應於本節後面的部分。

![建立波次的流程。](media/wave-processing-diagram.png "建立波次的流程")

### <a name="prerequisites"></a>先決條件

在開始之前，波次範本必須可用於要建立的波次類型 (裝運、生產或看板)。 波次範本確定如何產生和處理波次的各種設定，包括哪些步驟必須手動完成，哪些步驟可自動完成。 有關詳細資訊，請參閱[波次範本](wave-templates.md)。

### <a name="create-a-wave"></a>建立波次

#### <a name="automatically-create-waves-based-on-warehouse-and-order-type"></a>根據倉庫和訂單類型自動建立波次

若要自動建立波次，請設定適用於每個相關訂單類型和倉庫的[波次範本](wave-templates.md)。 確保每個範本都將 **自動建立波次** 選項設定為 *是*。

#### <a name="manually-create-waves"></a>手動建立波次

若要手動建立波次，請執行以下步驟：

1. 確保相關[波次範本](wave-templates.md)沒有設定為自動為倉庫和訂單類型建立波次，因為您希望手動建立。
1. 根據您要建立的波次類型，執行以下操作之一：

    - 前往 **倉庫管理** \> **通用** \> **波次** \> **裝運波次** \> **所有波次**。 在 [動作窗格] 上，選擇 **波次**。
    - 前往 **倉庫管理** \> **通用** \> **波次** \> **生產波次** \> **所有生產波次**。 在 [動作窗格] 上，選擇 **生產波次**。
    - 前往 **倉庫管理** \> **通用** \> **波次** \> **看板波次** \> **所有看板波次**。 在 [動作窗格] 上，選擇 **建立波次**。

1. 在 **描述** 欄位中，輸入波次的簡短描述。 這應該表明您在波次中處理的內容。

1. 在 **波次範本名稱** 欄位中，為要建立的波次類型選擇波次範本。 波次範本包含將執行動作的波次方法，例如為波次建立工作。 例如，裝運波次的波次範本可以包含用於建立負載、將行配置給波次、補貨以及為波次建立揀料工作的方法。

1. 如果您想使用波次屬性作為波次的附加查詢條件，請在 **波次屬性** 欄位中選則屬性。

### <a name="specify-what-to-include-in-a-wave"></a>指定要包含在波次中的內容

建立波次後，您就可以開始向其新增內容了。

> [!NOTE]
> 如果需要，只要尚未發放，即可在處理後向波次新增行。

#### <a name="automatically-specify-what-to-include-in-a-wave"></a>自動指定要包含在波次中的內容

若要自動建立波次，請設定適用於每個相關訂單類型和倉庫的[波次範本](wave-templates.md)。 確保每個範本都將 **自動建立波次** 選項設定為 *是*。 或者，如果 **指派給未結波次** 選項設定為 *是*，您的範本可以自動將行指派給任何符合條件的未結波次。

#### <a name="manually-specify-what-to-include-in-a-wave"></a>手動指定要包含在波次中的內容

已建立波次但尚未下達時，可以手動指定要包含在其中的內容。 若要手動將行新增到波次：

1. 根據要將行新增到的波次類型，執行以下操作之一：

    - 前往 **倉庫管理** \> **通用** \> **波次** \> **裝運波次** \> **所有波次**。 在 [動作窗格] 上，選擇 **波次**。
    - 前往 **倉庫管理** \> **通用** \> **波次** \> **生產波次** \> **所有生產波次**。 在 [動作窗格] 上，選擇 **生產波次**。
    - 前往 **倉庫管理** \> **通用** \> **波次** \> **看板波次** \> **所有看板波次**。 在 [動作窗格] 上，選擇 **建立波次**。

1. 選取波次。 在動作窗格上，選擇以下選項之一：

      - **維護裝運**
      - **維護生產**
      - **維護看板作業揀料單**

1. 在視窗的上半部分，選擇要新增到波次的行，然後選擇 **新增到波次**。 該行將移動到 **波次行** FastTab。

    針對要新增的每個行重複此步驟。 要新增所有行，請選擇 **全部新增**。

    > [!TIP]
    > 對於裝運波次，您可以透過在 **波次篩選代碼** 欄位中選擇自訂篩選來快速尋找特定訂單。 波次篩選代碼包含在 **波次篩選** 表單中建立的裝運查詢條件。 此欄位不適用於生產波次或看板波次。
    > **在波次上** 資料行中的綠色複選標記表示裝運已新增到波次中。

### <a name="process-the-wave-to-create-the-picking-work"></a>處理波次以建立揀料工作

在建立了波次並包含所有需要的行之後，就可以處理它以建立相應的揀料工作。

#### <a name="automatically-process-a-wave"></a>自動處理波次

若要自動處理波次，請使用所需的自動處理選項設定相關的[波次範本](wave-templates.md)。

#### <a name="manually-process-a-wave"></a>手動處理波次

只有當 **波次狀態** 為 *已建立* 時，才能處理波次。 處理完波次後，**波次狀態** 將變更為 *已保留*。

若要手動處理包含所有必要內容的波次，請執行以下步驟：

1. 根據要處理的波次類型，執行以下操作之一：

    - 選擇 **倉庫管理** \> **通用** \> **波次** \> **裝運波次** \> **所有波次**。 在 [動作窗格] 上，選擇 **波次**。
    - 選擇 **倉庫管理** \> **通用** \> **波次** \> **生產波次** \> **所有生產波次**。 在 [動作窗格] 上，選擇 **生產波次**。
    - 選擇 **倉庫管理** \> **通用** \> **波次** \> **看板波次** \> **所有看板波次**。 在 [動作窗格] 上，選擇 **建立波次**。

1. 選擇要處理的波次。 在動作窗格上，選擇 **處理**。

### <a name="release-the-wave-to-the-warehouse-to-start-picking-and-packing"></a>將波次下達到倉庫以開始揀料包裝

您必須先處理波次，然後才能發布它。 下達波次後，即可在倉庫中進行揀料工作。 下達波次後可以將其取消，並新增更多行，但無法變更行。

#### <a name="automatically-release-a-wave"></a>自動下達波次

若要自動處理波次，請使用所需的自動處理選項設定相關的[波次範本](wave-templates.md)。

#### <a name="manually-release-a-wave"></a>手動下達波次

若要手動下達波次，請執行以下步驟：

1. 根據要下達的波次類型，執行以下操作之一：

      - 選擇 **倉庫管理** \> **通用** \> **波次** \> **裝運波次** \> **所有波次**。 在 [動作窗格] 上，選擇 **波次**。
      - 選擇 **倉庫管理** \> **通用** \> **波次** \> **生產波次** \> **所有生產波次**。 在 [動作窗格] 上，選擇 **生產波次**。
      - 選擇 **倉庫管理** \> **通用** \> **波次** \> **看板波次** \> **所有看板波次**。 在 [動作窗格] 上，選擇 **建立波次**。

1. 選擇要下達的波次。 在 [動作窗格] 上，選擇 **下達波次**。

## <a name="containerize-a-wave"></a>集裝化波次

處理波次時，自動集裝化會建立集裝箱和裝運的揀料工作。 有關如何設定的詳細資料，請參閱[集裝化](wave-containerization.md)。

## <a name="work-with-the-scheduled-work-creation"></a>使用計劃的工作建立

啟用 *排程工作建立* 功能後，波次處理將建立計劃工作，其最終將由新的工作建立流程使用。 在建立工作期間，將使用 *組織範圍內的工作鎖定* 功能來阻止工作。 有關詳細資料，請參閱[在波次期間排程工作建立](configure-wave-schedule-work-creation.md)。

以下流程圖顯示了波次處理期間如何建立計劃工作。

![排程工作建立。](media/schedule-work-creation-process.png)

### <a name="planned-work"></a>計劃的工作

**計劃工作詳細資料** 頁面 (**倉庫管理 \> 工作 \> 計劃工作詳細資料**) 顯示有關計劃工作的資訊，該資訊最初是在波次處理期間建立的。 提供以下 **處理狀態** 值：

- **已佇列** - 計劃的工作正在等待用於建立工作。
- **已完成** - 計劃的工作已用於建立工作。
- **失敗** – 波次處理失敗。 請注意，無論是否有相關的實際工作，計劃的工作都可能處於 **失敗** 狀態。 當實際工作建立流程失敗時，實際工作保持 *已取消* 狀態。

### <a name="batch-job-for-the-work-creation-process"></a>工作建立流程的批次作業

若要查看處理波次的批次作業，請在 **所有波次** 頁面的動作窗格上選擇 **批次作業**。

從這裡，您可以查看每個批次作業識別碼的所有批次工作詳細資料。

## <a name="cancel-a-wave"></a>取消波次

如果需要，您可以取消已處理的波次。 若要取消波次和已建立的揀料工作，請執行以下步驟：

1. 根據要取消的波次類型，執行以下操作之一：

      - 前往 **倉庫管理** \> **通用** \> **波次** \> **裝運波次** \> **所有波次**。
      - 前往 **倉庫管理** \> **通用** \> **波次** \> **生產波次** \> **所有生產波次**。
      - 前往 **倉庫管理** \> **通用** \> **波次** \> **看板波次** \> **所有看板波次**。

1. 選擇要取消的波次。 在動作窗格上，於 **工作** 索引標籤選取 **取消**。

## <a name="review-wave-batch-job-details"></a>查看波次批次作業詳細資料

使用 **波次批次作業詳細資料** 頁面以檢查與任何波次關聯的批次作業和相關工作。 這對於解決失敗的波次特別有用。 如果沒有此功能，通常只有管理員才能存取批次作業詳細資料。 **波次批次作業詳細資料** 頁面可供非管理員使用者使用，並提供批次作業和相關工作的唯讀檢視表。

### <a name="turn-the-wave-batch-job-details-page-on-or-off"></a>打開或關閉波次批次作業詳細資料頁面

從 Supply Chain Management 10.0.25 版起，**波次批次作業詳細資料** 頁面預設為開啟。 管理員可以透過搜尋 [功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)工作區中的 *波次批次作業詳細資料* 功能來開啟或關閉此功能。

### <a name="use-the-wave-batch-job-details-page"></a>使用波次批次作業詳細資料頁面

**波次批次作業詳細資料** 頁面結合了批次作業和批次作業工作，讓您可以調查所有波次步驟，而無需在單個批次作業和批次工作清單之間來回瀏覽。 該頁面還可存取批次記錄，如果您具有必要權限，則提供 **批次作業** 頁面的連結。

若要打開此頁面，請在幾個不同的波次頁面中選擇波次，然後從動作窗格選擇 **波次批次作業詳細資料**。

## <a name="review-load-validation-and-error-messages"></a>檢閱負載驗證與錯誤訊息

在波次處理期間，系統會驗證並顯示波次中每個負載行的狀態。 如果沒有出現警告，則繼續下一波次步驟。 如果出現警告，則在驗證完整個波次後將改為顯示以下錯誤：

> 在波次中發現無效的負載行。 請刪除無效的負載行。

然後，您可以查看波次中每個負載行的最終狀態，並在重試之前更正所有警告。 這使您可以在重新處理波次之前，立即解決所有警告。 (在先前的版本中，系統在第一次警告後會停止處理波次，因此您一次只能修復一個警告。)

系統顯示您的波次處理狀態訊息的方式取決於您如何設定 **倉庫管理參數** 頁面上的 **建立波次處理歷史記錄** 選項。

- **建立波次處理歷史記錄** 設定為 *否* 時，負載行狀態訊息顯示在 **資訊記錄** 中。
- **建立波次處理歷史記錄** 設定為 *是* 時，負載行狀態訊息顯示在 **波次處理歷史記錄** 頁面中。 若要查看記錄，請前往 **倉庫管理 \> 出站波次 \> 波次處理歷史記錄**。

## <a name="additional-resources"></a>其他資源

- [設定波次處理範例](tasks/configure-wave-processing.md)
- [波次範本](wave-templates.md)
- [集裝化](wave-containerization.md)