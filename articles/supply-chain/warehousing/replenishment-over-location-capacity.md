---
title: 按位置容量補貨
description: 本主題提供有關按位置容量補貨功能的資訊。 此功能可以建立當天所需的所有補貨工作，並管理該補貨工作的可用性，以確保揀料地點既不會用完庫存，也不會超出容量。
author: mirzaab
ms.date: 07/16/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSReplenishmentTemplates, WHSLocationLimit
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-16
ms.dyn365.ops.version: 10.0.7
ms.openlocfilehash: 6ff9f133010ec4370a99c585259aece4e279f801
ms.sourcegitcommit: 8cb031501a2b2505443599aabffcfece50e01263
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/09/2021
ms.locfileid: "8449436"
---
# <a name="replenishment-over-location-capacity"></a>按位置容量補貨

[!include [banner](../includes/banner.md)]

有些大容量或空間受限的倉庫每天必須裝運比揀料地點容納量更多數量的品項。 *按位置容量補貨* 功能可以建立當天所需的所有補貨工作，並管理該補貨工作的可用性，以確保揀料地點既不會用完庫存，也不會超出容量。

此功能可以建立比某個位置所能容納數量更多的補貨工作，並且當該位置已滿時，它將阻止完成補貨工作 當揀料地點的庫存下降到可設定閾值以下時，可以進行更多的補貨工作。

## <a name="turn-on-the-replenishment-over-location-capacity-feature"></a>啟用「按位置容量補貨」功能

若您想要使用此功能，請在[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)啟用以下功能 (按此順序)：

1. 組織範圍工作封鎖 (從 Supply Chain Management 版本 10.0.21 開始，此功能為強制性的，因此預設開啟且無法再次關閉。)
1. 按位置容量補貨

## <a name="set-up-the-feature-for-the-example-scenario"></a>為示例場景設定功能

本節提供指南和範例，說明如何設定此功能，並為本主題後面提供的範例案例準備樣本資料。

### <a name="enable-sample-data"></a>啟用範例資料

要使用此處指定的範例記錄和值完成 [範例案例](#example-scenario) ，您必須使用一個已安裝標準[示範資料 ](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md)的系統。 此外在開始之前，您必須先選擇 **USMF** 法律實體。

### <a name="location-profile"></a>位置設定檔

在位置設定檔中啟用按容量補貨功能。

1. 移至 **Warehouse Management \> 設定 \> 倉庫 \> 位置設定檔**。
1. 在左窗格中，選擇 **PICK-06**。
1. 在動作窗格上，選擇 **編輯**。
1. 在 **補貨** FastTab 中，設定以下值：

    - **超出位置容量：** *是*

        啟用後，補貨工作將允許超過該位置的最大容量。 這也會啟用 **補貨** FastTab 的其他欄位。

    - **工作可用性閾值類型：** *數量*

        此欄位定義用於確定何時應發佈更多工作的方法。 您可以按數量或百分比發佈：

        - *百分比* – 選擇此選項可以使用基於庫存限制或容量的百分比容量。 選擇此選項將啟用 **溢出百分比** 欄位，並停用兩個數量相關欄位，**溢出數量** 和 **溢出單位**。

            如果揀料地點使用體積計量，可以使用此選項。

            如果選擇此選項，則將 **溢出百分比** 欄位設定為可以進行更多補貨工作的百分比。

        - *數量* – 選擇此選項以使用特定數量值。 選擇此選項將停用 **溢出百分比** 欄位，並啟用 **溢出數量** 和 **溢出單位** 欄位。

            當您沒有對要補貨的地點使用體積計量時，或者您希望在將更多庫存放入該地點時保持數量一致，則使用此選項。

           如果選擇此選項，則將 **溢出數量** 和 **溢出單位** 欄位設定為可進行更多補貨工作的數量和單位。

    - **溢出數量：** *0.65*

        此欄位定義位置溢出的數量。

        只要該位置的現有數量與工作數量的總和低於此值，就可以進行工作。 超過此值的任何補貨工作將被鎖定，並且必須手動解鎖。

        計算工作數量時會考慮位置庫存限制。

    - **溢出單位：** *PL*

        此欄位定義與溢出數量關聯的單位。

        在這種情況下，當位置下降到 0.65 個棧板 (PL) 時，可以進行更多補貨工作。

    - **溢出百分比**

        此欄位定義位置溢出的百分比。

        只要該位置的現有數量與工作數量的總和低於此百分比，就可以進行工作。 超過此值的任何補貨工作數量百分比將被鎖定，並且必須手動解鎖。

        計算工作數量百分比時會考慮位置庫存限制。 如果未定義庫位庫存限制，則在位置設定檔中定義體積限制後，將按體積計算工作數量百分比。

> [!IMPORTANT]
> 如果您使用的是 **USMF** 法律實體的示範資料，並且先前已開啟 *位置牌照定位* 功能，則必須關閉 **BULK-06** 位置設定檔的 **啟用牌照定位** 設定，才能完成範例方案中的移動步驟。

### <a name="wave-step-code"></a>波次步驟代碼

> [!NOTE]
> 要按照此處所述設定波次步驟代碼，您可能首先必須使用 [功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)開啟名為 *組織範圍內的波次步驟代碼* 的功能。

1. 移至 **Warehouse Management \> 設定 \> 波次 \> 波次步驟代碼**。
1. 選取 **新增**，然後設定以下值：

    - **波次步驟代碼：** *Replen*
    - **波次步驟代碼說明：** *補貨*
    - **波次步驟類型：** *補貨*

1. 選擇 **儲存**。

### <a name="replenishment-template"></a>補貨範本

補貨範本是一系列控制何時以及如何補貨的規則。

1. 移至 **倉庫管理 \> 設定 \> 補貨 \> 補貨範本**。
1. 在動作窗格上，選擇 **編輯**。
1. 在 **概觀** 區段，選擇明細所在的 **補貨範本** 欄位設定為 *需求補貨*。
1. 設定以下值：

    - **波次步驟代碼：** *Replen*
    - **允許波次需求使用未預留的數量：** *是*

1. 選擇 **儲存**。

### <a name="wave-template"></a>波次範本

1. 前往 **倉庫管理 \> 設定 \> 波次 \> 波次範本**。
1. 在左窗格中，將 **波次範本類型** 欄位設為 *運送*。
1. 在清單中選擇 **61 運送** 範本。
1. 在動作窗格上，選擇 **編輯**。
1. 在 **一般** FastTab 中，將 **自動化補貨工作發佈** 選項設定為 *是*。

    將此選項設定為 *是*，以建立基於需求的補貨工作並自動發佈。 您必須將補貨波次方法新增到波次範本，並建立 **波次需求** 類型的補貨範本。 在 **補貨範本** 頁面設定補貨範本。 若要設定補貨範本，必須將補貨方法加入波次範本。

1. 在 **方法** FastTab 的 **已選定方法** 欄，找到以下的行：

    - **方法名稱：** *補貨*
    - **名稱：** *補貨*

1. 將此明細的 **波次步驟代碼** 欄位設定為 *Replen*。
1. 選擇 **儲存**。

## <a name="example-scenario"></a>範例案例

在您使之前說明的所有範例資料可用並進行設定後，就能透過此案例試用 *按位置容量補貨* 功能。 此案例中顯示的值假設您正在使用標準示範資料，而且您已選擇 **USMF** 法律實體，並已準備本主題前面說明的範例記錄。 此案例也作為一個範例，展示如何在生產環境中使用該功能。

### <a name="create-replenishment-work"></a>建立補貨工作

#### <a name="create-sales-order-1"></a>建立銷售訂單 1

1. 前往 **銷售和行銷\>銷售訂單\>所有銷售訂單**。
1. 在動作窗格上，選擇 **新增** 以開啟建立新銷售訂單的對話方塊。
1. 在對話方塊中，設定以下值：

    - **客戶帳戶：** *US-007*
    - **倉庫：** *61*

1. 選擇 **確定** 以建立銷售訂單並關閉對話方塊。
1. 此新的銷售訂單已開啟。 將在 **銷售訂單明細** FastTab 中新增一個新的空明細。 在此行中設定以下值：

    - **品項編號：** *T0100*
    - **數量：** *40*

1. 在 **銷售訂單明細** FastTab上，選擇 **庫存 \> 保留**。
1. 在 **保留** 頁面，選擇 **保留批號**。
1. 關閉頁面。
1. 在動作窗格上，於 **倉庫** 索引標籤，選擇 **發佈到倉庫**。

    您將收到顯示已建立波次和裝運識別碼的通知訊息。 也已建立補貨。

    您還會收到一則警告訊息，指出「工作識別碼 XXXX 無法解除鎖定，因為它有未完成的補貨工作。」

#### <a name="create-sales-order-2"></a>建立銷售訂單 2

1. 在 **所有銷售訂單** 頁面中，在動作窗格選擇 **新增** 以開啟建立新銷售訂單的對話方塊。
1. 在對話方塊中，設定以下值：

    - **客戶帳戶：** *US-001*
    - **倉庫：** *61*

1. 選擇 **確定** 以建立銷售訂單並關閉對話方塊。
1. 此新的銷售訂單已開啟。 將在 **銷售訂單明細** FastTab 中新增一個新的空明細。 在此行中設定以下值：

    - **品項編號：** *T0100*
    - **數量：** *60*

1. 在 **銷售訂單明細** FastTab上，選擇 **庫存 \> 保留**。
1. 在 **保留** 頁面，選擇 **保留批號**。
1. 關閉頁面。
1. 在動作窗格上，於 **倉庫** 索引標籤，選擇 **發佈到倉庫**。

    您將收到顯示已建立波次和裝運識別碼的通知訊息。 也已建立補貨。

    您還會收到一則警告訊息，指出「工作識別碼 XXXX 無法解除鎖定，因為它有未完成的補貨工作。」

#### <a name="create-sales-order-3"></a>建立銷售訂單 3

1. 在 **所有銷售訂單** 頁面上，在動作窗格上，選擇 **新增** 開啟建立新銷售訂單的對話框。
1. 在對話方塊中，設定以下值：

    - **客戶帳戶：** *US-004*
    - **倉庫：** *61*

1. 選擇 **確定** 以建立銷售訂單並關閉對話方塊。
1. 此新的銷售訂單已開啟。 將在 **銷售訂單明細** FastTab 中新增一個新的空明細。 在此行中設定以下值：

    - **品項編號：** *T0100*
    - **數量：** *30*

1. 在 **銷售訂單明細** FastTab上，選擇 **庫存 \> 保留**。
1. 在 **保留** 頁面，選擇 **保留批號**。
1. 關閉頁面。
1. 在動作窗格上，於 **倉庫** 索引標籤，選擇 **發佈到倉庫**。

    您將收到顯示已建立波次和裝運識別碼的通知訊息。 也已建立補貨。

    您還會收到一則警告訊息，指出「工作識別碼 XXXX 無法解除鎖定，因為它有未完成的補貨工作。」

#### <a name="view-work-details"></a>檢視工作詳細資料

1. 移至 **Warehouse Management\>工作\>工作詳細資料**。
1. 在 **概觀** 區段，篩選倉庫 *61* 的 **倉庫** 行。
1. 您應該看到為三個需求銷售訂單建立了七個工作識別碼。

    - 七個工作識別碼中的三個 **工單類型** 值為 *補貨*，四個中有一個 **工單類型** 值為 *銷售訂單*。
    - **工單類型** 值為 *補貨* 的所有三個工作識別碼在 **明細** 區段有相同的 *揀選* 和 *放置* 位置：

        - **揀選：** *02A01R5S1B*
        - **放置：** *06A01R2S1B*

    - 為銷售訂單 1 建立兩個工作識別碼。

1. 記下銷售訂單的工作識別碼。

根據您的現有數量，建立的工作數量可能會略有不同。 但是，總體而言，建立的工作標題應與此方案範例相符。

#### <a name="on-hand-inventory-license-plate-id"></a>現有庫存牌照識別碼

稍後在此方案中，您將使用 Warehouse Management Mobile App (或模擬器)，屆時您必須確定牌照才能完成揀料和補貨方案。

若要查找您稍後需要的牌照識別碼，請按照以下步驟操作。

1. 移至 **庫存管理\>查詢和報告\>現有清單**。
1. 選擇 **顯示篩選條件** 按鈕以開啟篩選窗格。
1. 輸入以下篩選條件以獲取案例的牌照。 使用 *開始於* 篩選條件。

    - **品項編號：** *T0100*
    - **倉庫：** *61*

1. 選擇 **套用**。
1. 在動作窗格上，選擇 **維度**。
1. 在 **維度顯示** 對話方塊的 **儲存維度** 區段，選擇所有值。
1. 在 **交易** 區段，選擇 **品項編號** 和 **數量 \<\> 0**。
1. 完成後，選取 **確定** 關閉對話方塊。
1. **現有** 網格顯示每個位置品項 *T0100* 的牌照編號。 記下每個位置的牌照，稍後您將需要此資訊。
1. 關閉頁面。

### <a name="process-steps"></a>流程步驟

您將為前兩個工作識別碼執行倉庫位置補貨。 第三次補貨工作的工作將被鎖定，直到揀料地點的庫存水位低於閾值。

#### <a name="replenishment"></a>補貨

1. 以倉庫 *61* 使用者身份登入 Warehouse Management 行動裝置應用程式。 (輸入使用者識別碼 *61* 和密碼 *1*。)
1. 移至 **庫存 \> 補貨**。

    系統會提示您完成第一項補貨工作。 將顯示品項編號、數量和要揀料的位置。

1. 在 **LP** 欄位中，在顯示的位置輸入品項的牌照號碼。
1. 選擇 **確定** 按鈕 (勾選符號)。

    系統將為揀選品項的新牌照產生目標牌照號碼。

1. 選取 **確定** 以確認值。

    放置工作顯示，指示使用者將目標牌照放入補貨位置。 *放置* 位置應該是 **06A01R2S1B**。

1. 確認放置詳細資訊，然後選擇 **確定**。

    您會收到「工作已完成」訊息，並顯示下一個補貨揀選任務的詳細資訊：品項編號、數量和要揀料的位置。 揀料位置將與第一個補貨位置相同。 因此，牌照的識別碼將與第一項補貨工作任務時使用的牌照識別碼相同。

1. 重複上述步驟，完成第二項工作任務的補貨工作。 數量和目標牌照將不同於第一項工作任務的數量和目標牌照。

在第二項補貨工作完成後，您會收到「工作已完成」訊息。 行動裝置也會通知您沒有可進行的工作，即使仍有一些補貨工作。 發生此行為的原因是補貨工作的可用性狀態為 *暫停*，因此被標記為 **已鎖定**。

*暫停* 狀態被觸發，是因為已指派工作的揀料地點之位置範本的 **溢出數量** 值為 *0.65 PL*。 之前的兩項補貨工作任務幾乎已將位置填充到品項 *T0100* 的溢出限制。 (品項的單位轉換為 *1 PL = 100 個*) 因此，剩餘的補貨工作將導致該位置超出其溢出限制。

直到從該位置領取足夠庫存以使其低於行動裝置選單品項上的工作發佈閾值之前，此補貨工作仍將處於鎖定狀態。

#### <a name="sales-order-pick"></a>銷售訂單揀料

揀料地點的庫存必須消耗到可以解鎖其餘補貨工作的水位，才能夠完成剩餘補貨工作任務。 也就是說，該位置的現有庫存數量與補貨數量之和不能超過 **溢出數量** 值。 當此和低於溢出數量時，剩餘補貨工作將被解鎖。

1. 以倉庫 *61* 使用者身份登入 Warehouse Management 行動裝置應用程式。 (輸入使用者識別碼 *61* 和密碼 *1*。)
1. 移至 **出庫\>銷售揀貨**。
1. 輸入銷售訂單 1 的第一個工作識別碼。

    請參考您先前記下的 **工作詳細資料** 頁面中銷售訂單的工作識別碼。 您在此處輸入的工作識別碼將分別在兩個位置產生數量為 10 個的揀料工作。

1. 選取 **確定**。

    **銷售訂單：揀料** 任務頁面顯示第一個位置的品項編號、數量和要揀料的位置。

1. 在 **LP** 欄位中，在顯示的位置輸入品項的牌照號碼。
1. 選擇 **確定** 按鈕 (勾選符號)。

    **銷售訂單：揀料** 任務頁面顯示下一個位置的品項編號、數量和要揀料的位置。

1. 在 **LP** 欄位中，在顯示的位置輸入品項的牌照號碼。
1. 選擇 **確定** 按鈕 (勾選符號)。

    **銷售訂單：放置** 頁面將指示您將完成的兩項揀料工作放到出庫暫存位置。

1. 選取 **確定**。

    您會收到「工作已完成」訊息。

1. 輸入銷售訂單 1 的第二個工作識別碼。

    此工作識別碼只有一個揀料任務。

1. 選取 **確定**。

    **銷售訂單：揀料** 任務頁面顯示品項編號、數量和要揀料的位置。

1. 在 **LP** 欄位中，在顯示的位置輸入品項的牌照號碼。

    您指定的牌照將是補貨工作任務中系統產生的其中一個牌照。 為確保您獲取正確的牌照識別碼，請在 **現有清單** 頁面檢查庫存的品項、位置和數量。

1. 選擇 **確定** 按鈕 (勾選符號)。
1. 確認將任務放置到出站暫存位置的指示。
1. 選取 **確定**。

    您會收到「工作已完成」訊息。

由於與其連結的補貨任務未完成，銷售訂單 2 被鎖定，無法領料。 當前，揀料地點的數量仍然為 30 個，銷售訂單 2 的補貨數量為 60 個。 現有庫存量和補貨庫存量的總和 (90 個) 超出溢出數量 0.65 PL (或 65 個)。 銷售訂單 3 必須先領料，然後才能夠完成補貨工作。

1. 輸入銷售訂單 3 的工作識別碼。

    此工作識別碼只有一個揀料任務。

1. 選取 **確定**。

    **銷售訂單：揀料** 任務頁面顯示品項編號、數量和要揀料的位置。

1. 在 **LP** 欄位中，在顯示的位置輸入品項的牌照號碼。

    您指定的牌照將是補貨工作任務中系統產生的其中一個牌照。 為確保您獲取正確的牌照識別碼，請在 **現有清單** 頁面檢查庫存的品項、位置和數量。

1. 選擇 **確定** 按鈕 (勾選符號)。
1. 確認將任務放置到出站暫存位置的指示。
1. 選取 **確定**。

    您會收到「工作已完成」訊息。

只要揀料地點的現有數量和補貨數量之和低於閾值，您就可以處理剩餘的補貨工作。

返回 **工作詳細資料** 頁面，注意補貨最後一項工作 (銷售訂單 2) 的補貨工作可用性為 *開放*，因為現在該位置有足夠的空間來接受補貨

您現在可以透過行動裝置處理此補貨工作。

1. 移至 **庫存 \> 補貨**。

    系統會提示您完成剩餘補貨工作。 將顯示品項編號、數量和要揀料的位置。

1. 在 **LP** 欄位中，在顯示的位置輸入品項的牌照號碼。
1. 選擇 **確定** 按鈕 (勾選符號)。

    系統將為揀選品項的新牌照產生目標牌照號碼。

1. 選取 **確定** 以確認值。

    放置工作顯示，指示使用者將目標牌照放入補貨位置。 *放置* 位置應該是 **06A01R2S1B**。

1. 確認放置詳細資訊，然後選擇 **確定**。

    您會收到「工作已完成」和「沒有可用工作」訊息。

您現在可以選擇銷售訂單 2。 當與此銷售訂單連結的補貨工作完成時，它將變為解鎖狀態。

1. 輸入銷售訂單 2 的工作識別碼。

    此工作識別碼只有一個揀料任務。

1. 選取 **確定**。

    **銷售訂單：揀料** 任務頁面顯示品項編號、數量和要揀料的位置。

1. 在 **LP** 欄位中，在顯示的位置輸入品項的牌照號碼。

    您指定的牌照將是補貨工作任務中系統產生的牌照。 為確保您獲取正確的牌照識別碼，請在 **現有清單** 頁面檢查庫存的品項、位置和數量。

1. 選擇 **確定** 按鈕 (勾選符號)。
1. 確認將任務放置到出站暫存位置的指示。
1. 選取 **確定**。

    您會收到「工作已完成」訊息。

## <a name="notes-and-tips"></a>附註和提示

- 此功能適用於所有類型的補貨：波次需求、最小/最大、負載需求和貨位。
- 如果需要，您可以從 **工作詳細資料** 頁面手動覆寫每個工作標題的補貨工作可用性。
- 當系統設定補貨工作可用性時，將考慮在完成任何工作之前已經存在該位置的任何庫存
- 銷售訂單工作的每項工作都將連結到特定的補貨工作。 沒有相應的銷售工作可用性功能。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]