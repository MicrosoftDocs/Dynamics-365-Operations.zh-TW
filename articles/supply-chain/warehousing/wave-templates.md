---
title: 波次範本
description: 本主題介紹如何設定決定是手動還是自動處理波次的條件，以及在處理波次時為倉庫產生工作的條件。
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: 10.0.18
ms.openlocfilehash: a606f413bf3660a89270c0751b2656fab07cd80d
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8448866"
---
# <a name="wave-templates"></a>波次範本

[!include [banner](../includes/banner.md)]

本主題介紹如何設定決定是手動還是自動處理波次的條件，以及在處理波次時為倉庫產生工作的條件。 您可以透過設定波次範本和查詢來指定條件，以將波次與銷售訂單、生產訂單和看板中的已下達行相符。

## <a name="settings-for-wave-templates"></a>波次範本的設定

設定波次範本時，請指定以下內容：

- 範本將為其建立工作的 **站點** 和 **倉庫**。
- 範本將進行評估的順序。 在銷售訂單、生產訂單和看板中，範本與已下達行相符的順序。 下達行時，系統會套用該行符合條件的第一個波次範本。 條件越廣泛，行滿足條件的可能性就越大，因此您應該將具有最具體條件的範本放在清單頂端。 根據需求使用動作窗格上的 **上移** 和 **下移** 按鈕來排列清單中的範本。
- 每個範本執行的動作。 波次 **方法** 執行由範本建立的動作，例如為每種類型的波次範本建立或分發工作。
- 必須套用於要使用的波次範本的波次屬性 (篩選)。

> [!NOTE]
> 如果需要，開發人員可以建立其他方法。 您可以在 **波次處理方法** 頁面上查看完整的方法清單。

某些設定代表波次處理的戰略決策，如下所示：

- 範本是用於裝運銷售訂單和轉移單的品項，還是用於將品項移動到生產訂單或看板的生產。
- 手動還是自動處理波次，如下所示：

  - **手動處理** – 該行已新增到波次並預留庫存，但您必須選擇 **所有波次** 清單頁面上的 **處理** 以為訂單建立揀料工作。
  - **自動處理** – 您可以完全或部分自動化波次處理。 如果完全自動化波次處理，則會在建立銷售訂單、生產訂單或看板時建立一個波次，其中包括來自銷售訂單、生產訂單或看板的行。 從現有庫存中扣除品項並建立揀料工作。 如果部分自動化波次處理，您可以指定將觸發波次處理的值。 例如，當波次中行的總重量達到該值時，為將觸發波次處理的裝運指定最大重量。

- 如果將裝運分配給未結波次。 例如，如果您向客戶承諾在晚上 12:00 之前下達的訂單將在 24 小時內裝運，您可以將波次範本設定為晚上 12:00 之前以自動將訂單行指派給未結波次。 那時將自動處理波次。

處理波次時，將根據工作範本和為倉庫指定的位置指令建立揀料工作。 工作範本指定如何建立揀料工作，位置指令指定揀料和存放位置。

## <a name="create-a-wave-template"></a>建立波次範本

請按照以下步驟設定波次範本：

1. 前往 **倉庫管理** \> **設定** \> **波次** \> **波次範本**。
1. 選取 **新增** 以建立新波次範本。
1. 在 **波次範本類型** 欄位中，選擇以下選項之一：

    - *裝運* - 使用波次範本為銷售訂單和轉移單裝運品項。
    - *生產訂單* - 使用波次範本移動生產訂單的品項。
    - *看板* - 使用波次範本移動看板訂單的品項。

1. 在 **波次範本名稱** 和 **波次範本描述** 欄位中，輸入波次範本的名稱和描述。

    > [!NOTE]
    > 如果為倉庫建立了多個範本，則 **波次範本序列** 欄位的編號將指示範本在滿足範本條件時按照順序套用範本的範本位置。 您可以選擇 **上移** 或 **下移** 以重新排列範本的順序。

1. 在 **站點** 和 **倉庫** 欄位中，選擇波次範本將為其建立波次和揀料工作的站點和倉庫。
1. 如果要自動處理波次，請根據需要進行以下設定：

    - **自動建立波次** - 選取此選項設為 *是*，以在銷售訂單、生產訂單或看板下達至倉庫時自動建立波次。
    - **指派給未結波次** - 將此設定為 *是* 以在下達行時自動將行指派給未結波次。 根據波次範本的查詢篩選將行指派給波次。
    - **下達到倉庫時處理波次** - 將此設定為 *是* 以在下達行到倉庫時，自動處理波次並建立工作。
    - **達到閥值時自動處理波次** - 將此選項設為 *是*，以在波次值達到 **波次閾值** 欄位群組中指定的重量、運送和生產線閾值時自動處理波次。 只有在選取 **波次範本類型** 欄位中的 *運送* 時，此設定才有效。
    - **自動化下達波次** - 將此選項設定為 *是* 以自動下達波次。 建立揀料工作並使其在行動裝置上使用。
    - **自動化下達補貨工作** - 將此選項設定為 *是* 以建立基於需求的補貨工作並自動下達。 您必須將補貨波次方法新增到波次範本，並使用 *波次需求* 類型。 在 **補貨範本** 頁面設定補貨範本。 這要求您將補貨方法新增至波次範本。
    - **工作建立失敗時繼續波次處理** - 當此選項設定為 *是*，如果系統無法在位置指令建議的位置預留庫存 (例如，因為庫存不再可用)，系統將使用空白位置。 當此選項設定為 *否* 時，如果系統無法預留庫存，則波次將失敗。

1. 根據需要設定 **波次閾值** 欄位群組：
    - **波次重量閾值**- 輸入波次可以包含的最大重量。
    - **裝運閥值** - 輸入波次中可以包含的最大裝運數量。
    - **行閥值** - 輸入波次中可以包含的最大行數量。

1. 在 **預設值** 欄位群組，選擇要用作波次範本附加條件的波次屬性。 波次屬性對於將附加條件 (例如特定客戶名稱) 指派給波次範本很有用。 在 **波次屬性** 頁面上建立這些屬性。 

1. 將 **波次通知原則** 設定為要用於產生與使用此範本的波次相關的通知的原則。 有關波次通知原則的範例，請參閱[波次執行通知](wave-execution-notifications.md)。

1. 在 **方法** FastTab 上，**選定的方法** 窗格列出所選波次範本的方法。 波次方法執行由範本建立的動作，例如建立或分發工作。 這些動作也稱為波次步驟。 針對每種類型的波次範本預先定義波次方法。 您無法刪除預先定義的波次方法，但可以重新排列方法的順序並新增其他方法。 例如，如果您正在為運輸建立波次範本，則可以新增補貨和集裝箱化方法。 波次集裝化可以新增到一系列波次方法中，以定義在波次範本中處理的行的集裝化。 若要新增其他方法，請執行以下操作：

    - 在 **其餘方法** 窗格上選擇方法，然後選擇 **向左** 箭頭將其新增到 **選定方法** 窗格。
    - 若要變更順序，請選擇一種方法，然後選擇 **向上** 或 **向下** 箭頭。

    > [!NOTE]
    > 新增方法時，其會自動依步驟順序列在適當的位置。

1. 若要設定將已下達行配對到適當波次的查詢，請在動作窗格上選擇 **編輯查詢**。
1. 若要驗證波次範本設定是否有效，請選擇 **驗證範本**。
