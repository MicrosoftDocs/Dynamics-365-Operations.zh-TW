---
title: 波次範本分組
description: 波次範本分組可讓系統使用波次範本設定來根據您定義的標準決定它應該如何拆分已下達的行，並將其指派給新的或現有的波次。 在根據特定條件建立波次，但管理人員希望自動建立波次而不是手動建立波次的倉庫中，此功能會非常實用。
author: Mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSWaveTableListPage, WHSWaveTemplateTable
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.8
ms.openlocfilehash: b265c0d5cb43e151386fe90e3a3dea414ec0aca6
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8449250"
---
# <a name="wave-template-grouping"></a>波次範本分組

[!include [banner](../includes/banner.md)]

波次範本分組可讓系統使用[波次範本](tasks/configure-wave-processing.md)設定來根據您定義的標準決定它應該如何拆分已下達的行，並將其指派給新的或現有的波次。 在根據特定條件建立波次，但管理人員希望自動建立波次而不是手動建立波次的倉庫中，此功能會非常實用。 其可讓系統將新下達的每個裝運新增到找到具有相符分組欄位值的第一個波次中。 如果未找到相符項目，系統會為新裝運建立新波次。

> [!IMPORTANT]
> 工作類型 *生產原物料揀料* 或 *看板揀料* 不支援波次範本分組功能。 這是因為波次分組是以裝運為基礎，而這些工作類型不使用裝運。

## <a name="turn-on-the-wave-template-grouping-feature"></a>開啟波次範本分組功能

使用 *波次範本分組* 功能之前，您必須先在系統中開啟。 管理員可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)設定來檢查該功能的狀態，並視需要開啟該功能。 在 **功能管理** 工作區，該功能會依以下方式列出：

- **模組：***倉庫管理*
- **功能名稱：***波次範本分組*

## <a name="set-a-wave-template-to-use-wave-template-grouping"></a><a name="set-up-template"></a>設定波次範本以使用波次範本分組

若要讓波次範本分組可用，請按照以下步驟設定您的[波次範本](tasks/configure-wave-processing.md)。

1. 前往 **倉庫管理 \> 設定 \> 波次 \> 波次範本**。
1. 在左窗格中，選取要設定的波次模板。 如果您準備使用示範資料完成本主題後文的案例，請選擇 **62 裝運預設** 範本。
1. 選取 **編輯** 讓頁面進入編輯模式。
1. 在 **一般** FastTab 上，設定以下值：

    - **自動建立波次：***是*
    - **指派給未結波次：***是*
    - **將處理波次下達至倉庫**：*否*

1. 在動作窗格上，選取 **編輯查詢**，開啟查詢對話方塊。
1. 在查詢對話方塊中的 **排序** 索引標籤中，查看排序條件，並確保有規則包含要用於對波次進行分組的欄位。

    如果您準備使用示範資料完成該案例，請新增具有以下值的行：

    - **資料表：***裝運*
    - **衍生資料表：***裝運*
    - **欄位：***承運人服務*

        > [!NOTE]
        > 選擇此值後，您可能會收到以下訊息：「承運人服務欄位不是索引欄位。 您要對此新增分揀嗎？” 選擇 **是** 新增排序。

    - **搜尋方向：***遞增*

1. 選取 **確定** 儲存變更並關閉查詢對話方塊。
1. 在動作窗格上，選取 **波次範本分組**。
1. 根據需要在 **波次範本分組** 頁面上，選擇要用於將訂單行分組為波次的每行的 **分組方式** 核取方塊。 如果您準備使用示範資料完成該案例，請選擇 *承運人服務* 行中的 **分組方式** 核取方塊。
1. 選擇 **儲存**。
1. 關閉 **波次範本分組** 頁面。
1. 選取 **儲存** 以儲存您的範本。

## <a name="scenario"></a>案例

本節提供了一個指令碼，讓您了解此功能的作用以及用法。

### <a name="make-sample-data-available"></a>設定樣本資料為可用

要使用此處指定的範例記錄和值完成此情境，您必須使用一個已安裝標準[示範資料](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md)的系統。 此外在開始之前，您必須先選擇 **USMF** 法律實體。

在生產系統上工作時，您還可以將此案例當作使用該功能的指南。 但是，在此情況下，您必須替換為自己的值，並且您可能會缺少標準示範資料提供的某些類型的必需記錄。

### <a name="scenario-wave-template-grouping"></a>案例：波次範本分組

此案例說明如何使用波次範本分組來根據波次範本中定義的分組條件自動建立多個波次。 在此案例中，系統中將波次範本設定成為每個承運人服務建立一個波次。

在開始之前，請按照本主題前文的[設定波次範本以使用波次範本分組](#set-up-template)介紹準備波次範本。 如果要為此案例的使用示範資料，請務必使用該程序中建議的示範資料值。 此設定將根據為每個銷售訂單設定的承運人服務對波次進行分組。

#### <a name="create-sales-order-1"></a>建立銷售訂單 1

1. 前往 **銷售和行銷\>銷售訂單\>所有銷售訂單**。
1. 選擇 **新增** 建立銷售訂單。
1. 在 **建立銷售訂單** 對話方塊中，設定以下值：

    - 在 **客戶** FastTab 中，將 **客戶帳戶** 欄位設定為 *US-004*。
    - 在 **一般** FastTab 中，將 **倉庫** 欄位設為 *62*。

1. 選擇 **確定** 以建立銷售訂單，然後關閉 **建立銷售訂單** 對話方塊。
1. 新的銷售訂單會在 **行** 檢視表中開啟。 記下銷售訂單編號。
1. 切換到 **標頭** 檢視。
1. 在 **交貨** FastTab 上的 **運輸** 區段，設定以下值：

    - **承運業者：** *空運貨物*
    - **貨運服務：***空運*

1. 切換到 **行項** 檢視。
1. 在 **銷售訂單行** 區段，選擇 **新增行** 以將行新增到格線中。
1. 在新的明細上，設定以下值：

    - **品項編號：***A0002*
    - **數量：***2*

1. 選擇新訂單行，然後在格線上方的 **庫存** 功能表中選擇 **預留**。
1. 在動作窗格的 **預留** 頁面上，選擇 **預留批號**，在倉庫中預留所選行的全部數量。
1. 關閉 **保留** 頁面，返回銷售訂單。
1. 在動作窗格的 **倉庫** 索引標籤上，在 **動作** 群組中選擇 **發放到倉庫**。
1. 您會收到一則通知訊息，該訊息會顯示此訂單的裝運和波次。 記下波次識別碼和裝運識別碼數字。

#### <a name="view-the-wave-that-was-created-from-sales-order-1"></a>查看從銷售訂單 1 建立的波次

1. 前往 **倉庫管理 \> 出庫波次 \> 裝運波次 \> 所有波次**。
1. 選擇從銷售訂單建立的波次識別碼。
1. 選取波次識別碼連結，以開啟波次詳細資料頁面。
1. 請注意，裝運已新增到 **波次行** FastTab。

#### <a name="create-sales-order-2"></a>建立銷售訂單 2

1. 前往 **銷售和行銷\>銷售訂單\>所有銷售訂單**。
1. 選擇 **新增** 建立銷售訂單。
1. 在 **建立銷售訂單** 對話方塊中，設定以下值：

    - 在 **客戶** FastTab 中，將 **客戶帳戶** 欄位設定為 *US-005*。
    - 在 **一般** FastTab 中，將 **倉庫** 欄位設為 *62*。

1. 選擇 **確定** 以建立銷售訂單，然後關閉 **建立銷售訂單** 對話方塊。
1. 新的銷售訂單會在 **行** 檢視表中開啟。 記下銷售訂單編號。
1. 切換到 **標頭** 檢視。
1. 在 **交貨** FastTab 上的 **運輸** 區段，設定以下值：

    - **裝運承運人：***運花*
    - **承運人服務：***標準*

1. 切換到 **行項** 檢視。
1. 在 **銷售訂單行** 區段，選擇 **新增行** 以將行新增到格線中。
1. 在新的明細上，設定以下值：

    - **品項編號：***A0001*
    - **數量：***1*

1. 選擇新訂單行，然後在格線上方的 **庫存** 功能表中選擇 **預留**。
1. 在動作窗格的 **預留** 頁面上，選擇 **預留批號**，在倉庫中預留所選行的全部數量。
1. 關閉 **保留** 頁面，返回銷售訂單。
1. 在動作窗格的 **倉庫** 索引標籤上，在 **動作** 群組中選擇 **發放到倉庫**。
1. 您會收到一則通知訊息，該訊息會顯示此訂單的裝運和波次。 記下波次識別碼和裝運識別碼數字。 請注意，該波次識別碼與第一個銷售訂單的波次識別碼不同。

#### <a name="view-the-wave-that-was-created-from-sales-order-2"></a>查看從銷售訂單 2 建立的波次

1. 前往 **倉庫管理 \> 出庫波次 \> 裝運波次 \> 所有波次**。
1. 選擇從第二個銷售訂單創建的波次識別碼。
1. 選取波次識別碼連結，以開啟波次詳細資料頁面。
1. 請注意，裝運已新增到 **波次行** FastTab。

為此裝運建立了一個新波次，因為其使用的承運人服務與第一個銷售訂單不同。

#### <a name="create-sales-order-3"></a>建立銷售訂單 3

1. 前往 **銷售和行銷\>銷售訂單\>所有銷售訂單**。
1. 選擇 **新增** 建立銷售訂單。
1. 在 **建立銷售訂單** 對話方塊中，設定以下值：

    - 在 **客戶** FastTab，將 **客戶帳戶** 欄位設定為 *US-006*。
    - 在 **一般** FastTab 中，將 **倉庫** 欄位設為 *62*。

1. 選擇 **確定** 以建立銷售訂單，然後關閉 **建立銷售訂單** 對話方塊。
1. 新的銷售訂單會在 **行** 檢視表中開啟。 記下銷售訂單編號。
1. 切換到 **標頭** 檢視。
1. 在 **交貨** FastTab 上的 **運輸** 區段，設定以下值：

    - **裝運承運人：***空運貨物*
    - **承運人服務：***空運*

1. 切換到 **行項** 檢視。
1. 在 **銷售訂單行** 區段，選擇 **新增行** 以將行新增到格線中。
1. 在新的明細上，設定以下值：

    - **品項編號：***A0001*
    - **數量：***1*

1. 選擇新訂單行，然後在格線上方的 **庫存** 功能表中選擇 **預留**。
1. 在動作窗格的 **預留** 頁面上，選擇 **預留批號**，在倉庫中預留所選行的全部數量。
1. 關閉 **保留** 頁面，返回銷售訂單。
1. 在動作窗格的 **倉庫** 索引標籤上，在 **動作** 群組中選擇 **發放到倉庫**。
1. 您會收到一則通知訊息，該訊息會顯示此訂單的裝運和波次。 記下波次識別碼和裝運識別碼數字。 已將裝運指派給第一個銷售訂單的現有波次。

#### <a name="view-the-wave-for-sales-orders-1-and-3"></a>查看銷售訂單 1 和 3 的波次

1. 前往 **倉庫管理 \> 出庫波次 \> 裝運波次 \> 所有波次**。
1. 選擇從第三個銷售訂單建立的波次識別碼。
1. 選取波次識別碼連結，以開啟波次詳細資料頁面。
1. 請注意，已將裝運新增到 **波次行** FastTab，和第一個銷售訂單的裝運。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]