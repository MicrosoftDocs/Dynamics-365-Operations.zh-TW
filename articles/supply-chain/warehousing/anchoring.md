---
title: 錨定
description: 本主題說明如何啟用並使用錨定。
author: GalynaFedorova
ms.date: 07/29/2021
ms.topic: article
ms.search.form: WHSRFMenuItem
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: v-gfedorova
ms.search.validFrom: 2021-07-29
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: a17574cccbdf6f26f0453bda67eabaa16d559cd3
ms.sourcegitcommit: 99bde425ade701ef244c6bca6d411aef94a59b3c
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/20/2021
ms.locfileid: "8447714"
---
# <a name="anchoring"></a>錨定

[!include [banner](../includes/banner.md)]

本主題提供與錨定程序相關的詳細資料。 此篇說明了在倉庫工作人員更改暫存位置或負載位置時，需要設置和運行的邏輯。

錨定功能讓您覆寫暫存或負載位置。 然後，所有未結放置將被導向到指定的新暫存或負載位置。

此功能可以提高工作人員在運送貨物時的效率。 這裡有些範例：

- 因為先前的負載尚未清除該位置，工作人員在必須將訂單 1 的品項放置在裝卸站 1 旁的暫存位置時，將無法完成。 工作人員決定到裝卸站 2 的暫存位置，而不是等待裝卸站 1 的暫存位置可用。 因此，工作人員會覆寫建議的暫存位置。 然後將工作的所有剩餘品項的放置位置更新為裝卸站 2 的暫存位置。
- 必須為一個交貨進行多次揀貨的工人可以確保所有放置的品項都聚集在同一個地方。 因此，將品項裝入卡車的時間變得更少。

在行動裝置功能表上，您可以使用 **錨定** 選項來設定錨定。 如果您將此選項設置為 *是的*，你可以使用 **以…錨點** 欄位，指定您是要使用貨件還是負載來錨定。 如果你設定 **錨點** 欄位為 *貨件*，之後未結的放置將會為了該貨件變更位置。 如果你設定錨點欄位為 *負載*，之後未結的放置將會為了該負載變更位置。

> [!IMPORTANT]
> 後續未結的放置位置將從工作明細上變更，但這僅適用於從範本工作明細上生成的工作明細。 也就是說，系統將錨定源自同一範本工作明細的放置明細。

本主題提供了一個展示錨定如何生效的案例。 在該案例中，您將建立一組銷售訂單並將它們發佈到倉庫。 然後，您將覆寫建議的暫存位置，並驗證其他剩餘的入庫作業是否已導向到新位置。

## <a name="scenario-prerequisite-make-demo-data-available"></a>案例先決條件：提供示範資料

本主題中的案例引用了為 Microsoft Dynamics 365 Supply Chain Management提供的標準示範資料中所包含的值和記錄 。 如果您想在練習時使用此處提供的值，請務必在安裝了示範資料的環境中工作，並在您開始之前將法律實體設定為 *USMF*。

## <a name="scenario-setup"></a>案例設定

在瀏覽整個案例之前，您必須為相關的行動裝置功能表項目啟用錨定。

### <a name="set-up-a-mobile-device-menu-item-to-enable-anchoring"></a>設定行動裝置功能表項目以啟用錨定

按照以下步驟在行動裝置功能表項目啟用錨定。

1. 移至 **Warehouse Management\>設定\>行動裝置\>行動裝置功能表項目**。
1. 在列表窗格中，選擇名為 *銷售揀貨* 的記錄。 如果無現有記錄具有此名稱，請建立。 為該記錄確認或設定以下值：

    - **功能表項目名稱：** *銷售揀貨*
    - **標題：** *銷售揀貨*
    - **模式：** *工作*
    - **使用現有工作：** *是*
    - **導向：** *使用者導向*
    - **錨定：** *是的*

        此設定令系統在銷售揀貨期間將多個工作訂單明細錨定在一起。

    - **以…錨定：** *負載*

        此設置定系統以負載錨定。

    - **覆寫目標牌照：** *是*
    - **在放置期間覆寫牌照：** *是*
    - **讓使用者鎖定工作：** *是*
    - **允許超選：** *是*

### <a name="set-up-a-work-template-to-enable-staging"></a>設置工作範本以啟用暫存

按照以下步驟設定工作範本以啟用暫存。 此案例中，此設定支援工作人員將訂單品項放置在暫存位置。

1. 前往 **倉庫管理 \> 設定 \> 工作 \> 工作範本**。
1. 在 **工單類型** 欄位中，選取 *銷售訂單*。
1. 在網格中，選擇 **61 SO 階段** 工作範本。
1. 在 **工作範本詳情** 區段，請確保以下工作明細存在並且如下所示般設定：

    - 明細 1：

        - **工作類型：** *揀貨*
        - **強制性：** 已選擇 (= *是*)
        - **工作類別編號：** *SO 揀貨*

    - 明細 2：

        - **工作類型：** *放置*
        - **強制性：** 已選擇 (= *是*)
        - **指令代碼：** *暫存*
        - **工作類別編號：** *SO 揀貨*

    - 明細 3：

        - **工作類型：** *揀貨*
        - **強制性：** 已選擇 (= *是*)
        - **停止工作：** *是的*
        - **工作類別編號：** *SO 負載*

    - 明細 4：

        - **工作類型：** *放置*
        - **強制性：** 已選擇 (= *是*)
        - **指令代碼：** *裝卸站門*
        - **工作類別編號：** *SO 負載*

1. 在動作窗格上，選擇 **編輯查詢** 打開查詢編輯器。
1. 在 **範圍** 索引標籤，確保存在以下明細：

    - **表格：** *臨時工作交易*
    - **衍生資料表：** *臨時工作交易*
    - **欄位：** *倉庫*
    - **標準：** *61*

1. 在 **排序** 索引標籤，確保存在以下明細：

    - **表格：** *臨時工作交易*
    - **衍生資料表：** *臨時工作交易*
    - **欄位：** *貨件識別碼*
    - **搜尋方向：** *上升*

1. 選擇 **確定** 套用您的設定並關閉查詢編輯器。 如果出現提示，請接受更改。
1. 在動作窗格上，選取 **工作標題中斷**。
1. 在 **欄位名稱** 欄位設定為 *貨件識別碼* 的明細上，確認 **按此欄位分組** 核取方塊已選取。

### <a name="set-up-license-plates-locations-and-inventory"></a>設定牌照、位置和庫存

在建立銷售訂單和貨件之前，您必須確認需要的位置、牌照和庫存存在。

1. 移至 **Warehouse Management\>設定\>倉庫\>牌照**，並建立兩個牌照：

    - MyLP1
    - MyLP2

1. 移至 **Warehouse Management\>設定\>倉庫\>地點**，並建立以下位置 (如果它們尚不存在)。

    | 倉庫 | 位置   | 位置設定檔識別碼 | 區域識別碼   |
    |-----------|------------|---------------------|-----------|
    | 61        | 06A01R2S1B | PICK-06             | 樓層     |
    | 61        | 06A01R3S1B | PICK-06             | 樓層     |
    | 61        | STAGE01    | STAGE               | *(Blank)* |
    | 61        | STAGE02    | STAGE               | *(Blank)* |
    | 61        | STAGE03    | STAGE               | *(Blank)* |
    | 61        | STAGE04    | STAGE               | *(Blank)* |

1. 確保以下庫存可用。 如果您必須調整庫存、建立手動移動、使用補貨，或使用任何其他流程。

    | 品項編號 | 數量 | 倉庫 | 位置   | 牌照 |
    |-------------|----------|-----------|------------|---------------|
    | A0001       | 100      | 61        | 06A01R2S1B | MyLP1         |
    | A0002       | 100      | 61        | 06A01R3S1B | MyLP2         |

### <a name="create-demand"></a>建立要求

在嘗試錨定功能之前，您必須建立一些要求。 在此案例中，您將為一位客戶建立三個銷售訂單。

1. 前往 **銷售和行銷\>銷售訂單\>所有銷售訂單**。
1. 選擇 **新增** 建立第一個銷售訂單。
1. 在 **建立銷售訂單** 對話方塊中，設定以下值：

    - **客戶帳戶：** *US-001*
    - **倉庫：** *61*

1. 選取 **確定**。
1. 此新的銷售訂單已開啟。 它包括在 **銷售訂單明細** 快速索引標籤上的一個空明細。 為此明細設定以下值：

    - **品項編號：** *A0001*
    - **數量：** *1*

1. 在工具欄上，選擇 **新增明細** 已新增第二個銷售訂單明細，並在其中設定以下值：

    - **品項編號：** *A0002*
    - **數量：** *1*

1. 對訂單上的每個銷售明細執行以下步驟，以為其預留庫存：

    1. 在 **銷售訂單明細** 快速索引標籤上，請選取銷售訂單明細。
    1. 在工具欄上，選擇 **庫存\>預訂**。
    1. 在 **保留** 頁面上，選擇 **保留批號**，然後關閉頁面。
    1. 在動作窗格上，選擇 **儲存**。

1. 重複步驟 2 到 6 以建立第二個銷售訂單。 為它設定以下值：

    - 在 **建立銷售訂單** 對話方塊裡面：

        - **客戶帳戶：** *US-001*
        - **倉庫：** *61*

    - 在銷售訂單明細 1：

        - **品項編號：** *A0001*
        - **數量：** *2*

    - 在銷售訂單明細 2：

        - **品項編號：** *A0002*
        - **數量：** *2*

1. 重複步驟 7 以預定銷售訂單 2 上的每一明細。
1. 重複步驟 2 到 6 以建立第三個銷售訂單。 為它設定以下值：

    - 在 **建立銷售訂單** 對話方塊裡面：

        - **客戶帳戶：** *US-001*
        - **倉庫：** *61*

    - 在銷售訂單明細 1：

        - **品項編號：** *A0001*
        - **數量：** *3*

    - 在銷售訂單明細 2：

        - **品項編號：** *A0002*
        - **數量：** *3*

1. 重複步驟 7 以預定銷售訂單 3 上的每一明細。

### <a name="use-the-load-planning-workbench-to-create-a-load-and-release-it-to-the-warehouse"></a>使用負載規劃工作台建立負載並將其發佈到倉庫

按照以下步驟為此案例的訂單建立負載，然後將其發佈到倉庫。

1. 前往 **倉庫管理 \> 負載\> 負載規劃工作台**。
1. 在 **銷售明細** 索引標籤，搜尋銷售訂單 1 和銷售訂單 2 的所有銷售訂單明細並選取。
1. 在動作窗格上，在 **供應和需求** 索引標籤的 **新增** 群組中，選擇 **至新負載**。
1. 在 **加載範本指派** 對話方塊裡面，在 **負載範本識別碼** 欄位，請選取負載範本，例如 *標準負載範本*。
1. 選擇 **確定** 關閉對話方塊。
1. 在 **負載** 區段裡面，找到您建立的負載並選取。
1. 在工具欄上，請選取 **發佈\>發佈到倉庫**。
1. 在 **將負載發佈倉庫** 對話方塊裡面，請選取 **確定** 將選定的負載發佈到倉庫。
1. 移至 **Warehouse Management\>工作\>所有工作** 查看已建立的作品。 您應該會找到兩個新的工作識別碼，每個貨件各一個。 每個工作識別碼都有揀貨明細，將庫存從揀貨地點帶到暫存地點，從暫存地點到裝卸站門。 記下第一個貨件的 **工作編號** 值，因為您將在下一個過程中需要它。

### <a name="sales-order-picking-to-the-staging-location-for-the-first-shipment"></a>第一個貨件的銷售訂單揀貨到暫存地點

1. 以倉庫 *61* 工作人員身份登入 Warehouse Management 行動裝置應用程式。 (在標準示範資料中，您可以使用 _61_ 作為用戶識別碼和 _1_ 作為密碼進行登入。)
1. 在主功能表中，選擇 **出庫**。
1. 在 **出庫** 功能表上，選擇 **銷售揀貨**。
1. 請選取 **識別碼** 欄位，然後輸入第一個貨件的工作識別碼。
1. 確認您的輸入。
1. 在 **LP** 欄位，輸入第一個品項的牌照號碼 (*MyLP1*)。
1. 確認您的輸入。
1. 在 **目標 LP** 欄位，輸入任何數字 (目標牌照已不必存在)。

    從已處理波次到相同的目標牌照，您將擷取其所有已建立明細。

1. 確認您的輸入。
1. 在 **LP** 欄位，輸入第二個品項的牌照號碼 (*MyLP2*)。
1. 確認您的輸入。

    想像一下，工作人員現在已經領取了訂單，但是當他們到達工作中指定的暫存位置時，他們發現空間已經被佔用了。 但是，工作人員可以看到附近的另一個位置 (*STAGE03*) 可用。 因此，他們將要求更改暫存位置。 由於啟用了錨定功能，系統將自動更新此工作和所有相關工作的暫存位置。

1. 選擇 **覆寫 Loc** 覆寫建議的暫存位置。
1. 在 **工作例外** 欄位，指定 *暫存路線已更改*。
1. 在 **地點** 欄位，輸入新的暫存位置 (*STAGE03*)。
1. 確認您的輸入。 您會收到「工作已完成」訊息。
1. 移至 **Warehouse Management\>工作\>所有工作**。
1. 打開第一個貨件的工作識別碼。 驗證暫存位置是否已更新到使用行動裝置定義的新位置 (*STAGE03*)。
1. 打開第二個貨件的工作識別碼。 驗證暫存位置是否因為錨定設定而更新為新的暫存位置 (*STAGE03*)。

> [!NOTE]
> 具有相同暫存位置且從同一工作範本生成的所有剩餘未定的放置工作明細的位置，將更新到新位置。

### <a name="use-the-load-planning-workbench-to-add-the-new-sales-order-to-the-existing-load"></a>使用負載規劃工作台將新銷售訂單新增到現有負載

按照以下步驟將訂單新增到負載中，然後將其發布到倉庫。

1. 前往 **倉庫管理 \> 負載\> 負載規劃工作台**。
1. 在 **銷售明細** 索引標籤，搜尋銷售訂單 3 的所有銷售訂單明細並選擇。
1. 在動作窗格上，在 **供需** 索引標籤，在 **新增** 群組，請選取 **到現有負載** 將選定的訂單行新增到現有負載。
1. 選擇 **確定** 關閉對話方塊。
1. 在 **負載** 區段裡面，找到之前步驟中的負載並選取。
1. 選擇 **發佈 \> 發佈到倉庫**。
1. 在 **將負載發佈倉庫** 對話方塊裡面，請選取 **確定** 將選定的負載發佈到倉庫。
1. 移至 **Warehouse Management\>工作\>所有工作** 查看已建立的作品。 記下 **工作識別碼** 值，因為您將在下一個過程中需要它。

### <a name="sales-order-picking-to-the-staging-location-for-the-third-shipment"></a>第三個貨件的銷售訂單揀貨到暫存地點

1. 以倉庫 *61* 工作人員身份登入行動裝置應用程式。
1. 在主功能表中，選擇 **出庫**。
1. 在 **出庫** 功能表上，選擇 **銷售揀貨**。
1. 選擇 **識別碼** 欄位，然後輸入第三個貨件的工作識別碼。
1. 確認您的輸入。
1. 在 **LP** 欄位，輸入第一個品項的牌照號碼 (*MyLP1*)。
1. 確認您的輸入。
1. 在 **目標 LP** 欄位，輸入任何數字 (目標牌照已不必存在)。
1. 確認您的輸入。
1. 在 **LP** 欄位，輸入第二個品項的牌照號碼 (*MyLP2*)。
1. 確認您的輸入。

    當在第一個負載，假設工作人員發現指定的暫存位置不可用。 因此，他們想使用不同的暫存位置 (*STAGE04*)。

1. 選擇 **覆寫 Loc** 覆寫建議的暫存位置。
1. 在 **工作例外** 欄位，指定 *暫存路線已更改*。
1. 在 **地點** 欄位，輸入新的暫存位置 (*STAGE04*)。
1. 確認您的輸入。 您會收到「工作已完成」訊息。
1. 移至 **Warehouse Management\>工作\>所有工作**。
1. 打開第一個貨件的工作識別碼。 驗證暫存位置未更新到新的暫存位置 (*STAGE04*)，因為剩餘未定的放置明細與已完成的放置明細的工作範本明細並不對應。
1. 打開第二個貨件的工作識別碼。 驗證暫存位置未更新到新的暫存位置 (*STAGE04*)，因為剩餘的暫存位置與已完成的放置明細的暫存位置並不對應。 換言之，已完成的放置工作明細和剩餘未定的工作明細具有不同的暫存位置，在這種情況下，僅更新具有相同暫存位置的明細。
1. 打開第三個貨件的工作識別碼。 驗證暫存位置是否更新為新的暫存位置 (*STAGE04*)。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
