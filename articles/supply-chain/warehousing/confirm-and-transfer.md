---
title: 確認並轉移
description: 本主題說明如何使用確認並轉移功能，此功能允許使用者在完成與這些貨物相關的所有工作之前將貨物運出倉庫。
author: mirzaab
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSLoadTemplate,WHSWorkTemplateTable,WHSLoadPlanningWorkbench
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.8
ms.openlocfilehash: 7b487684980f60112d9af6bea02672f7e919c834
ms.sourcegitcommit: fcb8a3419e3597fe855cae9eb21333698518c2c7
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/09/2022
ms.locfileid: "8450003"
---
# <a name="confirm-and-transfer"></a>確認並轉移

[!include [banner](../includes/banner.md)]

*確認並轉移* 功能可讓使用者在完成與這些貨物相關的所有工作之前將貨物運出倉庫。 當收到包含未完全揀貨的貨物行的運送時，將提示確認使用者將剩餘數量拆分到新貨物或取消不完整數量。

設定為允許貨物拆分的系統支援由於新的或不斷變化的環境而必須調整計劃貨物和部分裝載貨物的案例。

用戶端包含使部分裝載貨物能關閉並確認為已發貨的邏輯。 如果轉移為必要且設定允許，則所有剩餘的運送和貨物行 (包括全部或部分行數) 接著將轉入新建立的貨物和運送。 新的運送和貨物會根據運送和貨物建立的初始條件自動建立，其主要屬性保持不變。 如果尚未建立工單且使用者認為有必要取消，也可以選擇自動取消剩餘數量。

此功能支援完整貨物無法裝入單輛卡車的案例，或部分貨物應該在其餘貨物準備好出貨之前離開倉庫的案例。 在這些案例下，剩餘的產品可以轉移到新的貨物，從而轉移到新的卡車上。 由於此功能可用於原本需要滿載運送的貨物，因此其提供了額外的彈性，方便運輸經理解決非標準或不可預見的案例。

當貨物拆分時，*確認並轉移* 功能將執行以下動作：

- 根據需要建立新的貨物和運送。 每個貨物或運送將具有與原始貨物或運送大部分相同的屬性。 貨物狀態為例外，將根據工作狀態重新計算。
- 通知使用者已建立新貨物。 也會通知使用者有關新貨物的識別碼。
- 已拆分的貨物線、工作標題及拆分的工作線將更新新的貨物和運送資訊。
- 如果要拆分整個運送，則將保留運送，且僅更新貨物參考。 如果必須拆分運送，則會建立新運送。

取消剩餘數量後，任何尚未揀貨且沒有與之關聯的未取消工作的貨物線數量將從貨物中移除。 如果有任何工作正在進行中，使用者只能拆分貨物。 無法取消剩餘數量。

您只能拆分符合以下所有條件的貨物：

- 一或多條貨物線已揀取數量。
- 貨物狀態小於裝載量。
- 沒有貨物線資料。 (此資料透過暫存位置的車牌整合建立，確認並轉移功能不支援車牌整合。)
- 目前沒有庫存在包裝位置等待包裝。 (*確認並轉移* 功能不支援已揀選到包裝站但尚未包裝的庫存，除非已包裝的容器放置在站存位置並建立裝載工作。)

> [!NOTE]
> 此功能與運輸工具裝載功能不同，後者應用於在揀貨前永遠無法計劃及建立貨物，只能在揀貨完成後裝載可用運輸空間的倉庫。
>
> *確認並轉移* 功能使用在通常提前計劃及建立貨物，但有時會出現貨物不適合可用運輸工具 (例如卡車) 的例外案例。

## <a name="turn-the-confirm-and-transfer-feature-on-or-off"></a>開啟或關閉確認並轉移功能

若要使用本主題中說明的功能，必須為您的系統開啟 *確認並轉移* 功能。 從 Supply Chain Management 10.0.25 開始，此功能為強制性開啟，且不能關閉。 如果您執行的版本為 10.0.25 之前的版本，管理員可以前往 [功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) 工作區並搜尋 *確認並轉移* 功能，然後開啟或關閉此功能。

## <a name="set-up-confirm-and-transfer"></a>設定確認並轉移

若要使用 *確認並轉移* 功能，您必須在每個相關的貨物範本中開啟此功能。 此外，根據要求而定，您可能需要準備工作範本以支援此功能。 如果您想要完成本主題後面提供的範例案例，請按照本節說明設定您的系統。 (此案例以 **USMF** 示範資料為基礎。)

### <a name="prepare-your-load-templates"></a>準備貨物範本

1. 移至 **倉庫管理 \> 設定 \> 貨物 \> 貨物範本**。
1. 在動作窗格上，選取 **編輯** 讓頁面進入編輯模式。
1. 為要開啟功能的每個現有範本選擇 **在運送確認期間允許貨物拆分** 核取方塊。 或者，選擇 **新增** 建立一個新範本，並根據需要進行配置。 您使用該範本建立的每個貨物都將繼承此功能。 (如果您正在使用 **USMF** 示範資料，請開啟 **20 呎貨櫃** 貨物範本功能。)

### <a name="prepare-your-work-templates"></a>準備工作範本

並非在所有情況下都需要此設定。 此處顯示的範例確保工作可以依運送拆分，以支援本主題後面提供的示範案例。 還有其他方法可以達到這個結果。

1. 前往 **倉庫管理 \> 設定 \> 工作 \> 工作範本**。
1. 在頁面上部的網格中，選擇您要設定 *確認並轉移* 功能的現有工作範本。 (如果您正在使用 **USMF** 示範資料，請選擇 **51 揀貨暫存** 工作範本。) 或者，建立一個新的工作範本。
1. 在動作窗格上，選擇 **編輯查詢**，開啟 **銷售** 對話方塊。
1. 在 **銷售** 對話方塊中，在 **分揀** 索引標籤，選擇 **新增** 在網格中新增一列。
1. 在新資料列中，設定以下值：

    - **表格：** *臨時工作交易*
    - **衍生資料表：** *臨時工作交易*
    - **欄位：** *貨件識別碼*
    - **搜尋方向：** *遞增*

1. 選擇 **確定** 以儲存設定並關閉 **銷售** 對話方塊。
1. 如果您收到訊息，顯示將重設群組，請選擇 **是** 以繼續。
1. 在 **工作範本** 頁面上方的網格中，選擇您剛剛編輯的範本，然後在動作窗格中，選擇 **工作標題中斷**。
1. 在動作窗格上，選取 **編輯** 讓頁面進入編輯模式。
1. 在網格中，設定以下值：

    - **資料表名稱：** *臨時工作交易*
    - **欄位名稱：** *貨件識別碼*
    - **依此欄位分組：** 選擇此核取方塊。

1. 在動作窗格上，選擇 **儲存**。
1. 關閉頁面。

## <a name="scenario"></a>案例

此案例顯示的範例中，揀選流程尚未完成，但至目前為止已揀選的項目仍必須裝載到卡車上並運送。 因此，使用者可以將未揀取的貨物線拆分到新貨物上。 然後將自動更新所有資料關係。

> [!NOTE]
> 此案例中描述的特定值以 **USMF** 示範資料為基礎。 建議您在示範或學習如何使用該功能時使用此示範資料。 如果您不使用 **USMF** 示範資料，請根據需要替換您自己的值。

### <a name="step-1-create-a-load-that-has-multiple-load-lines"></a>第 1 步：建立具有多條貨物線的貨物

在您可以使用此功能之前，您必須有一個包含多個貨物線的貨物。 您也必須確保揀貨位置有足夠的庫存可供應要建立的銷售訂單上的所有項目。 查看位置指令的設定 (**倉庫管理 \> 設定 \> 位置指令**)，並記下用於銷售訂單揀貨的揀貨位置。 如果您必須根據需要調整庫存、建立手動移動、使用補貨，或使用任何其他流程。

若要建立合格貨物，首先按照以下步驟建立三個銷售訂單。

1. 前往 **銷售和行銷\>銷售訂單\>所有銷售訂單**。
1. 在動作窗格上，選擇 **新增** 打開 **建立銷售訂單** 對話方塊。
1. 在 **建立銷售訂單** 對話方塊中，設定以下值 (至少)：

    - 在 **客戶** FastTab，設定 **客戶帳戶** 欄位為 *US-004* (*Cave Wholesales*)。
    - 在 **一般** FastTab 中，將 **倉庫** 欄位設為 *51*。

1. 選擇 **確定** 以建立銷售訂單，然後關閉 **建立銷售訂單** 對話方塊。
1. 您的新銷售訂單隨之開啟。 在 **銷售訂單明細** 網格中，新增具有以下值的線：

    - **品項編號：** *M9200*
    - **數量：** *40*
    - **單位：** *ea*

1. 在網格上方的 **庫存** 功能表上，選擇 **保留**。
1. 在動作窗格上，選擇 **保留批號**，開啟 **保留** 頁面。
1. 在銷售線上保留庫存，然後關閉 **保留** 頁面。
1. 重複步驟 1 到 4，為同一客戶和倉庫新增第二個銷售訂單。
1. 新增兩個具有以下值的銷售線。 新增每一線後，按照步驟 6 到 8 中的說明為其保留庫存。

    - **線 1：** 將 **品項編號** 欄位設為 *M9200*，將 **數量** 欄位設為 *30*，並將 **單位** 欄位設為 *ea*。
    - **線 2：** 將 **品項編號** 欄位設為 *M9201*，將 **數量** 欄位設為 *20*，並將 **單位** 欄位設為 *ea*。

1. 重複步驟 1 到 4，為同一客戶和倉庫新增第三個銷售訂單。
1. 新增兩個具有以下值的銷售線。 新增每一線後，按照步驟 6 到 8 中的說明為其保留庫存。

    - **線 1：** 將 **品項編號** 欄位設為 *M9201*，將 **數量** 欄位設為 *20*，並將 **單位** 欄位設為 *ea*。
    - **線 2：** 將 **品項編號** 欄位設為 *M9202*，將 **數量** 欄位設為 *60*，並將 **單位** 欄位設為 *ea*。

#### <a name="load-planning-workbench"></a>負載規劃工作台

負載規劃工作台將使用貨物範本識別碼建立運送並將銷售訂單明細發佈至倉庫。

1. 前往 **倉庫管理 \> 負載\> 負載規劃工作台**。
1. 請在 **倉庫** 欄位，選擇 *51*。

    您現在將為剛剛建立的銷售訂單建構貨物。

1. 在 **銷售明細** 索引標籤上，在網格中，選擇新銷售訂單的銷售線。
1. 在動作窗格上，在 **供應和需求** 索引標籤的 **新增** 群組中，選擇 **至新負載**。
1. 在 **貨物範本分配** 對話方塊上的 **貨物範本識別碼** 欄位中，選擇 *20 呎貨櫃*。
1. 選擇 **確定**。
1. 在 **負載規劃工作台** 頁面的 **貨物** 區段中，從網格中找出為倉庫 *51* 新建立的貨物識別碼。 向右捲動，直到看到 **在運送確認期間允許貨物拆分** 欄。 應選擇您貨物的核取方塊。
1. 選擇貨物。
1. 在網格上方的 **發佈** 選單中，選擇 **發佈到倉庫** 以建立工作。
1. 在 **將貨物發佈到倉庫** 對話方塊中，確認 **要包括的記錄** FastTab 顯示您的貨物識別碼。
1. 選擇 **確定**。

    在系統建立運送和工作時，您可能會收到「作業處理中」的訊息。

1. 在 **負載規劃工作台** 頁面的 **貨物** 區段中，您的貨物現在應該顯示貨物狀態為 *波次*。 選擇貨物，然後在網格上方的 **相關資訊** 選單中，選擇 **波次詳細資料** 以查看建立的運送識別碼。 完成後，關閉 **波次** 頁面。
1. 在 **負載規劃工作台** 頁面的 **貨物** 區段中，選擇貨物，然後網格上方的 **相關資訊** 選單中選擇 **工作詳細資料**，以檢視為銷售訂單建立的工作。
1. 記下建立的工作識別碼。 您可能需要向右捲動才能查看與工作識別碼關聯的銷售訂單編號和運送識別碼。

### <a name="step-2-set-up-the-execution-flow-for-mobile-devices"></a>第 2 步：設定行動裝置的執行流程

行動裝置任務需要使用者輸入資訊，例如工作識別碼或車牌識別碼。 在欄位中，此資訊通常透過文件、包裝或貨架上的條碼提供給倉庫使用者。 若要完成案例的行動裝置步驟，請確保您已識別交易的工作識別碼，以及交易中的項目和位置的車牌識別碼。

1. 使用倉庫 *51* 的使用者識別碼和密碼登入行動裝置。
1. 選擇 **出庫**。
1. 選擇 **銷售揀貨**。
1. 您可以選擇輸入工作識別碼或車牌識別碼。 輸入第一個銷售訂單的工作識別碼，然後選擇 **輸入**。
1. 在 **Loc** 欄位中，輸入顯示的位置以確認揀取位置。 然後選擇 **輸入**。
1. 在 **LP** 欄位中，輸入車牌識別碼。 車牌識別碼必須與從選定位置揀取的項目、倉庫和位置相匹配。 完成後，選擇 **輸入**。
1. 在 **品項** 欄位中，輸入品項編號以確認正在揀取的品項，然後選擇 **輸入**。
1. 在 **數量** 欄位中，輸入正在揀取的品項數量，然後選擇 **輸入**。
1. 在 **目標 LP** 欄位內，輸入目標車牌識別碼。 目標車牌由使用者定義。 請務必輸入您可記住的車牌識別碼。 建議您使用當前日期加上兩位數的序列 (YYMMDD\#\#) 作為格式，例如 *19112301*。 完成後，選擇 **輸入**。
1. 查看顯示的資訊。 此資訊為 *揀取* 資訊，現在將成為放置交易的 *放置* 資料。 完成後，選擇 **輸入**。

    - 您會收到 **工作已完成** 的訊息。

1. 對第二個銷售訂單的工作識別碼重複步驟 4 到 10。

下一步是將挑選的兩個車牌裝載到卡車上。

1. 使用倉庫 *51* 的使用者識別碼和密碼登入行動裝置。
1. 選擇 **出庫**。
1. 選擇 **銷售裝載**。
1. 輸入您在先前程序中為第一個工作識別碼建立的使用者定義的目標車牌識別碼。 然後選擇 **輸入**，將目標車牌放入 **暫存** 位置。
1. 再次輸入目標車牌識別碼，然後選擇 **輸入**，將車牌放入 **BAYDOOR** 位置。
1. 對您為第二個工作識別碼建立的目標車牌識別碼重複步驟 4 到 5。

現在將關閉 (裝載) 這兩個工作識別碼。

### <a name="step-3-confirm-the-outbound-shipment"></a>第 3 步：確認出庫運送

在此步驟中，您將確認兩個銷售訂單和已完成裝載的工作，以運送貨物的已揀貨項目並為未揀取項目建立新貨物。 出庫運送確認必須在 **貨物詳細資料** 頁面上完成。

1. 前往 **倉庫管理 \> 負載\> 負載規劃工作台**。
1. 在 **貨物** 區段中，在網格中選擇您建立的貨物識別碼列。
1. 選擇貨物識別碼連結，以開啟 **貨物詳細資料** 頁面。
1. 依序進入 **貨物詳細資料** 頁面、動作窗格、**出貨與收貨** 索引標籤、**確認** 群組，選擇 **出庫運送** 啟動確認。
1. 在 **運送確認** 對話方塊的 **運送確認期間的貨物拆分方法** 欄位中，選擇 *將數量拆分到新貨物*。
1. 選擇 **確定**。

    您可能會收到「作業處理中」的訊息。

    您會收到通知訊息，顯示您貨物的運送已得到確認，而且已根據拆分數量建立新貨物。

重新整理 **負載規劃工作台** 頁面，以查看新建立的貨物。

您也可以透過以下方式確認交易關係已更新：

- 剩餘的 (未處理的) 運送和運送線將更新為新的貨物識別碼。
- 銷售訂單連結到新的貨物識別碼。
- 原始貨物不包括剩餘的貨物線。
- 剩餘的工作已更新新的貨物識別碼。
- 波次保持不變。
- 新貨物的狀態已正確更新。 (如果工作狀態是 _進行中_，貨物狀態也應該是 _進行中_。)

## <a name="notes-and-tips"></a>附註和提示

- 您也可以在關閉 **貨物範本** 參數的情況下建立貨物後且開始裝載流程之前開啟 **在運送確認期間允許貨物拆分** 參數。 移至所需的貨物，然後在標題檢視中開啟參數。
- 部分剩餘工作標題的狀態為 *進行中* 時，**將數量拆分到新貨物** 選項也會生效。 因此，即使工作人員已在執行揀取訂單，您仍然可以使用該功能。
- 如果您在有剩餘工作的狀態為 *開放中* 或 *進行中* 時選擇 **取消未履行的數量**，您會收到以下錯誤訊息：「無法取消貨物的剩餘數量。 貨物仍有工作存在。」
- 如果您在沒有剩餘工作但貨物有未發佈的貨物線時選擇 **取消未履行的數量**，您會收到以下錯誤訊息：「無法確認貨物的運送，因為項目的數量超過了為未交貨定義的百分比。」 為避免該錯誤，您可以設定未發佈貨物線的 **低於交貨** 百分比為 100%。 未發佈的線不會移到新的貨物，但目前貨物將被確認為低於交貨。 在此案例下，您將無法重新發佈原始訂單。 因此，您必須以其他方式處理此問題。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]