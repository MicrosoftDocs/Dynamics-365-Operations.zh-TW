---
title: 倉庫貨位
description: 本主題提供有關倉庫貨位的資訊。 倉庫貨位可讓您從狀態為已訂購、已預留或已下達的訂單中按品項和測量單位合併需求。 其可以幫助倉庫經理在將訂單下達到倉庫並建立揀料工作之前，智慧地計劃揀料位置。
author: mirzaab
ms.date: 11/13/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSInventFixedLocation, WHSSlotDemandLocated, WHSSlotDemand, WHSSlotUOMTier, WHSSlotTemplate, WHSLocDirHint, WHSLocDirTable
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.9
ms.openlocfilehash: 36903bc7ce4164e42d191156b7d9e04bec84d4f6
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8448794"
---
# <a name="warehouse-slotting"></a>倉庫貨位

[!include [banner](../includes/banner.md)]

有多個倉庫貨位功能可幫助倉庫經理在將訂單下達到倉庫並建立揀料工作之前，智慧地計劃揀料位置。

*倉庫貨位功能* 可讓您從狀態為 *已訂購*、*已預留* 或 *已下達* 的訂單中按品項和測量單位合併需求。 然後可以根據數量、單位、物理維度、固定位置等將產生的需求應用於將用於揀料的位置。 在確定了貨位計劃後，可以建立補貨工作以將相應數量的庫存運到各個位置。

*轉移單的倉庫貨位* 功能可讓倉庫經理根據尚未下達到倉庫的轉移單的需求來補充揀料位置。 它確保揀料位置在轉移單下達到倉庫後會包括轉移單所需的所有品項。 此功能需要您打開 *倉庫貨位功能*。

*倉庫貨位分配增強* 功能為 *倉庫貨位功能* 使用的範本行新增了一個選項。 該選項可讓系統考慮目標位置現有的現有庫存量。 因此，可以為貨位產生更少的補貨。 *倉庫貨位分配增強* 功能還需要您打開 *倉庫貨位* 功能。 它可以選擇與 *轉移單的倉庫貨位* 特徵。

## <a name="turn-on-the-warehouse-slotting-features"></a>開啟倉庫貨位功能

必須先在系統中開啟這些功能後才能使用。 管理員可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)設定，來檢查該功能的狀態並在需要時將其打開。 根據需要開啟以下功能：

- 倉庫貨位功能
- 轉移訂單的倉庫貨位

    > [!IMPORTANT]
    > *倉庫貨位功能* 必須在此功能之前打開。

- 倉庫貨位分配增強

    > [!IMPORTANT]
    > *倉庫貨位功能* 必須在此功能之前打開。

## <a name="set-up-warehouse-slotting"></a>設定倉庫貨位

若要使用倉庫貨位，必須在系統中設定以下元素：

- 貨位測量單位層
- 指令代碼
- 貨位範本
- 位置指令

### <a name="create-unit-of-measure-tiers-for-slotting"></a><a name="unit-tiers"></a>為貨位建立測量單位層

測量單位層可將多個測量單位組合在一起以達到貨位目的。 例如，如果多個尺寸的箱子都從同一個箱子揀料區域揀料，則可以為所有尺寸建立一個層。 **必須為應該屬於該層的每個測量單位建立行。**

1. 前往 **倉庫管理 \> 設定 \> 補貨 \> 貨位測量單位層**。
1. 選取 **新增**。
1. 在標題中，設定以下值：

    - **測量單位層：***EaBoxPl*
    - **描述：***每個箱托盤*

1. 選取 **儲存**。
1. 在 **測量單位** FastTab 上選擇 **新增**，以在格線中新增一行。
1. 在新的明細上，設定以下值：

    - **單位：***箱*
    - **描述：** 將此欄位保留空白。 儲存變更時，將自動填入。
    - **單位類別：***數量*

1. 選擇 **新增** 將第二行新增到格線。
1. 在新的明細上，設定以下值：

    - **單位：***ea*
    - **描述：** 將此欄位保留空白。 儲存變更時，將自動填入。
    - **單位類別：***數量*

1. 選擇 **新增** 將第三行新增到格線。
1. 在新的明細上，設定以下值：

    - **單位：***PL*
    - **描述：** 將此欄位保留空白。 儲存變更時，將自動填入。
    - **單位類別：***數量*

1. 選擇 **儲存**，以儲存階層。

### <a name="create-a-directive-code-for-slotting"></a>為貨位建立指令代碼

必須選擇應與範本關聯的指令代碼。

1. 前往 **倉庫管理 \> 設定 \> 指令代碼**。
1. 在動作窗格上，選擇 **新增**。
1. 在 **指令代碼** 欄位中，輸入 *貨位*。
1. 在 **指令描述** 欄位中，輸入 *貨位*。

### <a name="set-up-slotting-templates"></a>設定貨位範本

每個貨位範本控制如何將庫存分配到特定倉庫的位置。 每個範本必須為每個貨位規範包含一行。 使用本節中的程序設定貨位範本。

1. 移至 **倉庫管理 \> 設定 \> 補貨 \> 貨位範本**。
1. 選取 **新增** 以建立範本。

接下來，您必須設定範本標題、貨位規範和位置指令，如以下小節所述。 轉移單的貨位設定類似於銷售訂單的貨位設定，但 **需求類型** 欄位已設定為 *轉移單* 而不是 *銷售訂單*。

#### <a name="set-up-the-header-for-a-sales-order-slotting-template"></a>設定銷售訂單貨位範本的標題

1. 在範本的標題中，設定以下值：

    - **貨位範本：**_61_
    - **描述：**_61_
    - **需求類型：***銷售訂單*

        > [!NOTE]
        > 現在，*銷售訂單* 和 *轉移單* 是唯一受支援的需求類型。 只有當 *轉移單的倉庫貨位* 功能開啟時，才可以選擇 *轉移單*。

    - **需求策略：**_已訂購_

        此欄位中提供以下值：

        - **已訂購** – 應將銷售訂單上的全部訂購數量視為需求。
        - **已預留** – 僅應將預留的銷售訂單行數量 (訂購的實物) 視為需求。
        - **已下達** – 已下達數量應視為需求。

    - **倉庫：**_61_
    - **允許波次需求使用未預留的數量：**_是_

您還可以指定查詢來縮小評估的需求範圍。

#### <a name="set-up-slotting-specifications-for-each-template"></a>為每個範本設定貨位規範

對於您建立的每個銷售訂單範本，請按照以下步驟為每個貨位規範新增行。

1. 在 **貨位範本詳細資料** FastTab 上，選取 **新增** 以建立範本行。
1. 在新的明細上，設定以下值：

    - **序列：**_1_
    - **描述：**_固定位置_
    - **最小數量：**_1_

        此欄位定義行所需的最小需求數量。

    - **最大數量：**_1000000_

        此欄位定義行的最大有效需求數量。

    - **單位：** 將此欄位保留空白。

        此欄位定義最小數量和最大數量參考的測量單位。

    - **計量單位層：**_EaBoxPl_

        此欄位定義行的有效需求測量單位。 (有關詳細資訊，請參閱本主題前面的[為貨位設定測量單位層](#unit-tiers)一節。)

    - **指派貨位條件：**_考慮數量_

        此欄位中提供以下值：

        - **假設為空** – 該系統應假設揀料區域中的所有位置都是空的，並且不應檢查這些位置是否有庫存。
        - **考慮數量** – 系統應檢查揀料區域中的位置是否有庫存，並且應跳過所有非空貨位。
        - **考慮現有量** – 系統應檢查任何目標位置是否在需求行上包含品項的未預留數量。 如果數量大到足以至少滿足需求行的一個單位，則產生的貨位計劃記錄會減少可用數量。 例如，如果需求為 10 箱，一箱為現有量，則找到的需求將為 9 箱。 如果需求為 10 箱，現有量為各一箱，則找到的需求將為 10 箱。 這個值只有在 *倉庫貨位分配增強* 功能開啟時才可使用。

    - **指令代碼：**_貨位_

        此欄位定義用於尋找補貨工作的揀料位置的位置指令。

    - **溢出位置：** 將此欄位留空。

        此欄位定義如果在處理行時找不到數量的位置，則應將庫存放入的位置。

    - **允許放棄：**_是_

        當此選項設定為 *是*，且任何需求不能排入貨位，將建立移動工作以將庫存從有庫存但沒有排入貨位的位置取出。 然後再次執行該範本。 這次將忽略位置中的庫存。 如果 **分配貨位條件** 欄位設定為 _考慮數量_，此功能效果最好。

    - **固定位置用法：**_僅限產品的固定位置_

        此欄位中提供以下值：

        - **固定位置和非固定位置** – 系統不應僅限於使用固定位置。
        - **僅限產品的固定位置** – 系統應該將位置的貨位劃分給僅限產品的固定位置。
        - **僅限產品變型的固定位置** – 系統應該將位置的貨位劃分給僅限產品變型的固定位置。

> [!NOTE]
> 如果貨位範本包含至少一行，其中 **分配貨位條件** 欄位設定為 *考慮現有量*，範本中的任何行都不再允許減少。

1. 選取 **儲存**。
1. 選取 **新增** 以建立第二個範本行。
1. 在新的明細上，設定以下值：

    - **序列：**_2_
    - **描述：**_其他_
    - **最小數量：**_1_
    - **最大數量：**_1000000_
    - **單位：** 將此欄位保留空白。
    - **測量單位層：**_EaBoxPl_
    - **指派貨位條件：**_考慮數量_
    - **指令代碼：**_貨位_
    - **溢出位置：** 將此欄位留空。
    - **允許放棄：**_是_
    - **使用固定位置：**_固定位置和非固定位置_

    在查詢第二個行時，現在指定用於確定可以將該行的需求貨位劃分給哪些位置。

1. 選取 **序列** 欄位設定為 *2* 的行。
1. 選取 **編輯查詢**。
1. 在 **範圍** 索引標籤，選擇 **新增** 將明細新增到網格。
1. 在新的明細上，設定以下值：

    - **資料表：***位置*
    - **衍生資料表：***位置*
    - **欄位：***位置設定檔識別碼*
    - **標準：** *Pick-06* (選擇欄位中的雙加號 \[**++**\] 展開清單，然後選擇 *Pick-06* - *揀料站點 6*。)

1. 選取 **確定**。

#### <a name="set-up-location-directives"></a>設定位置指令

必須設定至少一個位置指令以支援貨位揀料。 使用本節中的程序為貨位揀料設定新的 *補貨位置指令*。

1. 前往 **倉庫管理 \> 設定 \> 位置指令**。
1. 在左側窗格的 **工單類型** 欄位中，選擇 *補貨*。
1. 在動作窗格上，選擇 **新增**。
1. 在新位置指令的標題中 **名稱** 欄位中，輸入 *61 貨位揀料*。
1. 在 **序號** 欄位，接受預設值。

##### <a name="configure-the-location-directives-fasttab"></a>設定位置指令 FastTab

1. 在 **位置指令** FastTab 上，設定以下值。 接受其他所有欄位中的預設值。

    - **工作類型：**_揀料_
    - **站點：**_6_
    - **倉庫：**_61_
    - **指令代碼：**_貨位_

1. 選擇 **儲存**，使 **行項** FastTab 可用。

##### <a name="configure-the-lines-fasttab"></a>設定行 FastTab

1. 在 **行** FastTab 上，選擇 **新增** 來建立行。
1. 在新的明細上，設定以下值。

    - **起始數量：**_0_
    - **目標數量：**_1000000_

1. 接受其他剩餘欄位的預設值。
1. 選擇 **儲存**，使 **位置指令動作** FastTab 可用。

##### <a name="configure-the-location-directive-actions-fasttab"></a>設定位置指令動作 FastTab

1. 在 **位置指令動作** FastTab 上選擇 **新增**，以建立行。
1. 在新的明細上，設定以下值。 接受其他所有欄位中的預設值。

    - **序號：** 接受預設值。
    - **名稱：**_大量_
    - **策略：**_無_

1. 接受其他剩餘欄位的預設值。
1. 選擇 **儲存**，讓 **編輯查詢** 按鈕可以使用。

##### <a name="edit-the-query"></a>編輯查詢

1. 在 **位置指令動作** FastTab 上，選擇 **編輯查詢**。
1. 在 **範圍** 索引標籤，選擇 **新增** 將明細新增到網格。
1. 在新的明細上，設定以下值：

    - **資料表：***位置*
    - **衍生資料表：***位置*
    - **欄位：***區域識別碼*
    - **條件：***大量* (選擇欄位中的雙加號 \[**++**\] 展開清單，然後選擇 *大量*。)

1. 選取 **確定**。

## <a name="scenario"></a>案例

### <a name="set-up-the-scenario"></a>設定案例

對於此案例，請使用內建範例資料，並建立本節中說明的記錄。

#### <a name="use-the-usmf-sample-data"></a>使用 USMF 範本資料

要使用此處指定的範例記錄和值完成此情境，您必須使用一個已安裝標準[示範資料](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md)的系統。 此外在開始之前，您必須先選擇 **USMF** 法律實體。

#### <a name="create-demand"></a>建立需求

按照以下步驟建立您將套用貨位的需求。

1. 移至 **銷售和行銷 \>銷售訂單 \> 所有銷售訂單**。
1. 選擇 **新增** 建立銷售訂單。
1. 在 **建立銷售訂單** 對話方塊，在 **客戶帳戶** 欄位選取 _US-007_。
1. 在 **倉庫** 欄位，選取 _61_。
1. 選取 **確定**。
1. 此新的銷售訂單已開啟。 它包括在 **銷售訂單行** FastTab 上的一個空白行。 在此行中設定以下值：

    - **品項：**_L0101_
    - **數量：**_20_

1. 選取 **新增明細** 以新增新明細，並設定以下值：

    - **品項：**_T0100_
    - **數量：**_8_

1. 選取 **儲存**。
1. 選擇 **新增** 建立第二個銷售訂單。
1. 在 **建立銷售訂單** 對話方塊，在 **客戶帳戶** 欄位選取 _US-008_。
1. 在 **倉庫** 欄位，選取 _61_。
1. 此新的銷售訂單已開啟。 它包括在 **銷售訂單行** FastTab 上的一個空白行。 在此行中設定以下值：

    - **品項：**_T0100_
    - **數量：**_1_

1. 選取 **儲存**。

### <a name="walk-through-a-typical-slotting-scenario"></a>完成典型貨位案例

按照上一節中的說明準備好所有先決條件元素後，就可以透過完成本節中的各個練習來試用此功能。

#### <a name="generate-demand"></a>產生需求

1. 前往 **倉庫管理 \> 設定 \> 補貨 \> 貨位範本**，然後選擇您之前建立的貨位範本。
1. 在動作窗格上，選取 **產生需求**。 此命令評估系統中的所有需求，並比對貨位範本查詢。 然後將所有訂單的總需求合併到每個數量/測量單位的一行中。 完成該流程後將顯示資訊訊息。

#### <a name="slotting-demand"></a>貨位需求

*貨位需求* 會根據貨位範本的設定顯示產生需求的結果。

- 在動作窗格上，選擇 **貨位需求** 以查看 **產生需求** 命令的結果。 可以編輯貨位需求中的行。 您可以刪除行、新增新行，或編輯行詳細資料。

> [!NOTE]
> 您可以手動編輯需求，也可以使用資料管理從外部系統匯入需求。 無論貨位中是什麼，也無論其來自何處，都將在下一步使用需求。

#### <a name="locate-demand"></a>尋找需求

產生需求後，必須使用 **尋找需求** 命令產生 *貨位計劃*。

- 在動作窗格上，選取 **尋找需求**。 貨位程序執行。 完成該流程後將顯示資訊訊息。

#### <a name="slotting-plan"></a>貨位計劃

貨位計劃顯示將每個品項/數量分配給哪個貨位、是否使用溢出、是否建立了放棄工作，以及是否使用範本行。 *任何無法劃分貨位的需求都以紅色醒目顯示。*

- 在動作窗格上，選擇 **貨位計劃** 以查看結果。

> [!NOTE]
> - **產生需求**、**尋找需求**，和 **執行補貨** 流程現在在沙箱中執行。 (這些流程可從 **貨位範本** 頁面的動作窗格中找到。)
> - **產生需求**、**尋找需求**，和 **執行補貨** 流程具有鎖定功能，以確保不會被同時觸發。 否則，使用的資料可能會被刪除。
> - 如果執行未產生記錄或記錄缺少資訊，**產生需求** 和 **尋找需求** 流程會顯示警告。
> - 選擇 **貨位計劃** 時，頁面在動作窗格上沒有 **新增**、**編輯** 或 **刪除** 按鈕，因為資料來源不能進行編輯。
> - 當您選擇 **執行補貨**，系統將驗證所選的貨位範本和流程。

#### <a name="create-replenishment"></a>建立補貨

建立貨位計劃後，必需根據計劃建立 *補貨工作*。

- 在動作窗格上，選取 **執行補貨**。 完成該流程後將顯示資訊訊息。 此訊息指示為工作組建識別碼建立的標題數。

將根據在每個範本行中指定的指令代碼確定將使用的位置指令。

## <a name="tips"></a>提示

### <a name="set-up-automatic-slotting"></a>設定自動貨位

準備好所有必要元素後，可以按照以下步驟將貨位設定為自動執行。

1. 移至 **倉庫管理 \> 補貨 \> 執行貨位**。
1. 指定要執行的貨位步驟。 選擇以下一個或多個貨位步驟：

    - 產生需求
    - 尋找需求
    - 建立補貨工作

    > [!NOTE]
    > 貨位步驟是漸進的。 如果要選擇 *尋找需求*，必須先選擇 *產生需求*。

1. 指定要使用的貨位範本。
1. 如果需要，設定要自動執行的發生次數。

對於案例中的練習，請 **不要** 設定自動貨位。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]