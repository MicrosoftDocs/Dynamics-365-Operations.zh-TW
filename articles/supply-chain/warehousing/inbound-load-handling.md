---
title: 倉庫對訂購單入庫裝載的處理
description: 本主題說明倉庫對訂購單入庫裝載的處理流程。
author: Mirzaab
ms.date: 03/21/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSLoadTable, WHSLoadPlanningListPage, WHSLoadPlanningWorkbench, WHSRFMenu, WHSRFMenuItem
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-03-21
ms.dyn365.ops.version: 10.0.10
ms.openlocfilehash: 464d49f4e096fdd4fe47f73efc253c97200f4de3
ms.sourcegitcommit: 8cb031501a2b2505443599aabffcfece50e01263
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/09/2021
ms.locfileid: "8449427"
---
# <a name="warehouse-handling-of-inbound-loads-for-purchase-orders"></a>倉庫對訂購單入庫裝載的處理

[!include [banner](../includes/banner.md)]

本主題說明倉庫對訂購單入庫裝載的處理流程。

對於每個入庫裝載，您的系統應該已經包含一個相關的銷售訂單，此外其中也可能包含一個相關的裝載規格和/或運輸計劃。 有關如何建立和管理入庫裝載的更多資訊，請參閱[業務流程：規劃入庫裝載的運輸事宜](/dynamicsax-2012/appuser-itpro/business-process-planning-transportation-for-inbound-loads)。

## <a name="overview-how-inbound-loads-are-created-registered-and-received"></a>概述：如何建立、登記和接收入庫裝載

下圖顯示具有訂購單數量的入庫裝載到達倉庫時的一般流程。

![入庫裝載處理流程。](media/inbound-process.png "入庫裝載處理流程")

1. **供應商確認訂購單。**

    訂購單輸入系統然後交付給供應商確認訂單時，該流程就開始了。 訂購單必須存在，您才能建立入庫裝載記錄。 但是，即使訂單尚未確認，您也可以建立入庫裝載。 有關詳細資訊，請參閱[核准及確認訂購單](../procurement/purchase-order-approval-confirmation.md)。

1. **建立入庫裝載記錄以規劃到達事宜及其內容。**

    入庫裝載記錄代表一或多個訂購單的供應商裝運。 裝載預計以一個實體運輸單位 (例如一卡車) 到達倉庫。 入庫裝載記錄用於規劃，並讓物流協調員追蹤供應商的裝載進度。 它還用於登記訂單行數量，並透過倉庫作業管理進度，例如到貨和入庫工作。 裝載可以自動或手動建立，並可依據訂購單或供應商的進階裝運通知 (ASN)。 有關詳細資訊，請參閱[建立或修改入庫裝載](/dynamicsax-2012/appuser-itpro/create-or-modify-an-inbound-load)。

1. **供應商確認裝載調度。**

    供應商發送裝載時，收貨倉庫的物流協調員會確認裝載裝運。 如果收貨公司使用 **運輸管理** 模組，入庫裝運確認將觸發與入庫裝載相關的其他裝載管理流程。 有關詳細資訊，請參閱[確認貨運裝載](/dynamicsax-2012/appuser-itpro/confirm-a-load-for-shipping)。

1. **裝載到達倉庫，工人登記數量。**

    整車裝載到達倉庫收貨碼頭時，倉庫工作人員登記裝載數量。 使用 **倉庫管理** 模組時，工作人員使用行動裝置進行登記。 有關詳細資訊，請參閱[依據訂購單的產品收據 - 登記](../procurement/product-receipt-against-purchase-orders.md#registration)和[登記入庫裝載抵達的品項數量](#register-item-quantities-arriving)章節。

1. **登記的裝載數量會依據訂購單過帳。**

    在裝載數量登記為到貨後，這些數量必須進行產品收據過帳進入公司的庫存分類帳，以記錄實際庫存增加。 有關詳細資訊，請參閱[依據訂購單的產品收據 - 產品收據](../procurement/product-receipt-against-purchase-orders.md#product-receipt)和[根據訂購單過帳登記的產品數量](#post-registered-quantities)。

## <a name="register-item-quantities-that-arrive-on-an-inbound-load"></a><a name="register-item-quantities-arriving"></a>登記入庫裝載抵達的品項數量

Microsoft Dynamics 365 Supply Chain Management 支援多種作業方法來記錄訂購產品的到貨情況。 因此，您可以設定系統以配合您的特定業務需求。 本節介紹在系統中開啟進階倉庫管理時如何使用行動裝置登記進貨數量。 不過還有一個替代流程，是以品項到貨日記帳為依據而不是行動裝置。 有關該流程的更多資訊，請參閱[使用品項到貨日記帳針對啟用進階倉儲的項目登記品項](tasks/register-items-advanced-warehousing.md)。

入庫裝載首次到達倉庫時，倉庫工作人員必須登記裝運中包含的品項數量。 通常，他們使用手持式掃描儀。 只有在系統中存在以下項目時，此工作流程才可用：

- **入庫裝載記錄，說明裝運中預期的品項數量**

    通常供應商會在裝運到達倉庫之前確認入庫裝載記錄。 因此裝載的狀態為 _已發貨_。 但是倉庫工作人員也可以將狀態登記為 _未完成_ 或 _已收到_。

- **設定支援裝載接收的行動裝置功能表**

    適用於行動裝置的 [Warehouse Management 行動應用程式](../warehousing/install-configure-warehouse-management-app.md)支援以下工作建立流程：

    - 裝載品項接收
    - 負載品項接收及存放
    - 混合牌照接收，其中行動裝置功能表項目的 **來源文件行識別方法** 欄位設定為 _裝載品項接收_。 如需詳細資訊，請參閱[混合牌照接收](mixed-license-plate-receiving.md)。
    - 混合牌照接收及入庫，其中行動裝置功能表項目的 **來源文件行識別方法** 欄位設定為 _裝載品項接收_。 如需詳細資訊，請參閱[混合牌照接收](mixed-license-plate-receiving.md)。

    > [!NOTE]
    > 無論流程如何，系統都會產生工作以獲取在接收位置登記的數量，並將其存放在一般儲存位置。 使用 _裝載品項接收和入庫_ 或 _混合牌照接收和入庫_ 流程時，登記裝載數量的工作人員也將按照裝置指示做入庫工作，作為登記工作的一部分。 相比之下，使用 _裝載品項接收_ 和 _混合牌照接收_ 流程時，會假設入庫工作與登記工作分開完成。

- **定義進貨裝載揀貨和放置工作的工作範本**

    本項目與前項目有關。 您必須至少有一個工作範本用於 _訂購單_ 工單類型，其中必須包含一組揀貨/放置工作類型。

行動裝置會引導倉庫收貨員完成裝載數量登記流程。 對於每個裝載識別碼，此流程至少包括以下步驟：

1. 輸入裝載識別碼。
2. 輸入已收品項的品項編號。
3. 輸入已收到品項編號的數量。
4. 如果系統未設定為自動產生此編號，請輸入品項初始位置的牌照號碼。
5. 輕按 **確定**。

工作人員完成這些步驟後，系統會在適當的實體上進行以下更新，前提是單一裝載抵達的訂購單行數量及所有裝載數量都已登記：

| 實體 | 更新 | 附註 |
|---|---|---|
| 裝載 | 裝載行的 **工作建立數量** 欄位將更新以顯示登記數量。 | 如果沒有對裝載執行裝運確認，**裝載狀態** 值仍為 _已發貨_ 或 _未完成_。 如果至少有一行入庫工作已經開始，則會變更為 _進行中_。 |
| 已登記相關裝載數量的訂購單庫存交易記錄 |<p>將更新以下欄位：</p><ul><li><b>收據</b>欄位設定為<i>已登記。</i></li><li><b>位置</b>欄位以接收碼頭位置代碼更新。 (此代碼在每個倉庫的<b>預設收貨地點</b>欄位指定。)</li><li><b>牌照</b>欄位以登記期間輸入或產生的牌照號碼進行更新。</li><li><b>裝載識別碼</b>欄位以登記數量時依據的裝載編號更新。 (請參閱附註。)</li></ul> | 10.0.9 版本中導入在訂購單庫存交易和依據裝載登記數量之間的連結功能；前述功能為選用功能，名為 _將訂購單庫存交易與裝載相關聯_。 此功能特別適用於將單一採購貨物訂單作為多個裝載運送的作業流程，或是裝載包含多個訂購單的數量時。 |
| 倉庫入庫 | 工作是基於工作範本建立，以指示工作人員將登記的數量從收貨位置移動到一般存放位置。 | 存放位置的選擇由放置位置指令控制。 如果沒有定義位置指令，則工作上的入庫位置為空。 |

請注意，倉庫工作人員登記含有一或多個相關裝載的訂購單收貨時，無需使用 _裝載品項接收_ 流程。 有下列方法可用：

- **在行動裝置上：** 使用 _訂購單行收貨_ 和 _訂購單行收貨及入庫_ 流程。 (如果訂購單行數量存在多個裝載，工作人員不能使用 _訂購單行收貨_ 流程。 工作人員將獲指示使用與 _裝載品項收貨_ 流程有關的裝置動作。)
- **在用戶端：** 使用品項到貨日記帳。
- **在用戶端：** 使用可從訂購單行存取的 **登記** 動作。

> [!NOTE]
> 如果訂購單收貨使用上述任何一種方式進行登記，訂購單庫存交易和裝載之間不會建立連結，即使 _將訂購單庫存交易與裝載相關聯_ 功能已開啟也一樣。 此規則的一個例外是您使用 **訂購行收貨** 選項，並且訂單行只有一個裝載的狀態不是 _已收到_。

### <a name="handle-discrepancies-during-registration-of-inbound-load-quantities"></a>在入庫裝載數量登記期間處理差異

倉庫工作人員可以進行部分裝載數量收貨登記。 然後，每個部分裝載數量收貨都會建立一個單獨的庫存交易記錄，其登記數量的收貨狀態為 _已登記_，批次識別碼則是指原始訂購單行。

#### <a name="load-under-receiving"></a>裝載收貨不足

裝載到達時，如果品項數量少於裝載記錄上的數量，倉庫收貨人員可以直接在用戶端作業，減少裝載行數量來確認其中差異，使其與實際到貨數量相符並完成登記。

#### <a name="load-over-receiving"></a><a name="load-over-receiving"></a>裝載超收

裝載到達且品項數量超過預期的裝載行數量時，就會發生超收。 您可以控制在裝載登記期間是否允許超收及其程度。

使用相關行動裝置功能表項目的 **裝載超收** 欄位，控制倉庫工作人員嘗試登記超額交貨時發生的情況。 此欄位可用於使用以下類型工作建立流程的行動裝置功能表項目：

- 裝載品項接收
- 負載品項接收及存放
- 混合牌照接收 (其中 **來源文件行識別方法** 欄位設定為 _裝載品項接收_)
- 混合牌照接收及入庫 (其中 **來源文件行識別方法** 欄位設定為 _裝載品項接收_)

下表說明了可用於 **裝載超收** 欄位的選項。

| 值 | 描述 |
|---|---|
| 允許 | 工作人員可以登記超過選定裝載剩餘未登記數量的收貨數量，但前提是登記的總數量不超過與裝載關聯的訂購單行數量 (調整超額交貨百分比後)。 |
| 封鎖 | <p>工作人員無法登記超過選定裝載剩餘未登記數量的收貨數量 (調整超額交貨百分比後)。 嘗試登記收貨的工作人員將收到錯誤訊息，並且在登記數量等於或小於剩餘未登記裝載數量之前無法繼續。</p><p>依據預設，裝載行上的超額交貨百分比值是從關聯的訂購單行複製。 <b>裝載超收</b>欄位設定為<i>封鎖</i>時，系統使用超額交貨百分比值來計算可為裝載行登記的總數量。 但是可根據需要為個別裝載覆寫該值。 如果收貨流程期間，代表訂單行超額交貨百分比的部份或所有多餘數量，以不成比例的方式分佈在多個裝載中，此項行為就會變得相關。 範例情境如下：</p><ul><li>一個訂購單行有多個裝載。</li><li>訂購單行的超額交貨百分比大於 0 (零)。</li><li>在未考慮超額交貨百分比的情況下，已經針對一個或多個裝載登記數量。</li><li>超額交貨數量在最後一次裝載時到達。</li></ul><p>在這種情況下，只有倉庫主管將相關裝載行的超額交貨百分比，從預設值增加到足夠大的值，以便讓完整的超額交貨可以與最終裝載一起登記，才能使用行動裝置登記最終裝載的多餘數量。</p> |
| 僅封鎖已結案裝載 | 工作人員可以超收未完成裝載的裝載行數量，但無法超收狀態為 _已收到_ 的裝載。 |

> [!NOTE]
> **裝載超收** 欄位的預設值是 _允許_。 使用此值時，行為 10.0.11 版本導入 _超收裝載數量_ 功能之前的可用標準行為相符。

### <a name="put-away-the-registered-quantities"></a>入庫登記數量

在行動裝置完成登記後，_數量收貨登記_ 動作就會更新庫存和倉庫記錄，以指示數量現在位於收貨碼頭位置並可供預訂。 但是，公司倉庫作業通常需要將數量從收貨碼頭轉移到一般倉庫存放位置，以便進行後續的揀貨流程。 入庫指示是在入庫裝載登記為已收到時由自動產生的入庫工作中擷取。

倉庫工作人員完成入庫工作後，系統會更新多個實體來記錄和追蹤結果，如下表所示。

| 實體 | 更新 | 附註 |
|---|---|---|
| 裝載 | <p>將更新以下欄位：</p><ul><li><b>裝載狀態</b>值更改為<i>進行中</i>，</li><li><b>工作狀態</b>值更改為<i>已完成 100.00% 的工作</i>。</li></ul> | 工作人員開始為至少一行的入庫工作進行入庫工作時，**裝載狀態** 值更改為 _進行中_。 |
| 相關數量已入庫的工作庫存交易記錄 | **收貨** 和 **位置** 欄位和其他相關欄位，已更新反映從收貨位置到存放位置的移動。 | 訂購單庫存交易的 **收貨狀態** 值維持 _已登記_。 |
| 倉庫入庫 | **工作狀態** 值更改為 _已完成_。 | |

## <a name="post-registered-product-quantities-against-purchase-orders"></a><a name="post-registered-quantities"></a>依據訂購單過帳的已登記產品數量

入庫產品數量在系統中登記後，可用於與銷售和其他出庫和內部作業相關的預訂。 但是，系統尚未更新庫存 (臨時) 帳戶。 僅於營運團隊過帳已登記的產品收據時，才能進行此更新。

如欲開啟可以過帳產品收據的頁面，營運團隊成員可以遵循以下任何 _一個_ 步驟：

- 開啟相關的裝載記錄，然後選擇 **產品收據** 動作。
- 前往 **倉庫管理 \> 定期任務 \> 更新產品收據**，然後，在 **裝載識別碼** 欄位指定要過帳的裝載。
- 開啟相關的訂購單，然後選擇 **產品收據** 動作。
- 前往 **採購\>訂購單\>接收產品\>過帳產品收據工作**。

可於 **裝載** 頁面使用 (以及在更新作業的同等頁面 **更新產品收據** 頁面使用) 的 **產品收據** 動作，只能在狀態為 _已登記_ 的訂購單數量更新產品收據數量。 然而可在 **訂購單** 頁面使用的 **產品收據** 動作，可以包含兩種處理狀態的數量 (_已訂購_ 和 _已登記_)。 該動作也可以透過額外參數控制產品收貨過帳的範圍，例如 _現在收到數量_ 和 _已登記數量和服務_。

只有狀態為 _已確認_ 的訂單可以進行產品收據過帳。 對於未確認的訂購單，**產品收據** 動作將顯示為不可用。

### <a name="post-registered-quantities-from-the-load-page"></a>從裝載頁面過帳已登記數量

從 **裝載** 頁面到產品收據過帳已登記數量，必須具備以下先決條件：

- 裝載必須至少有一個數量單位，且其狀態為 _已登記_。
- 裝載狀態必須是 _已發貨_。
- 與裝載關聯的訂購單的狀態必須為 _已確認_。

> [!NOTE]
> 如果尚未將裝載狀態設定為 _已發貨_，系統會在執行產品收據更新前自動確認裝載。 (使用者登記裝載入庫裝運時，裝載狀態設定為 _已發貨_。)

若要對選定裝載相關的到貨登記進行產品收據過帳，工作人員要在 **裝載** 頁面選擇 **產品收據**。 開啟的頁面具有以下關鍵詳細訊息：

- **設定** 索引標籤 **參數** 區段的 **數量** 欄位顯示 _已登記數量_。 此處沒有其他選項可用。
- **概述** FastTab 的格線列出包含在選定裝載中的所有訂購單。
- **行** FastTab 的格線列出所有已登記數量的訂單行。

> [!NOTE]
> 出現在 **行** 索引標籤的訂單行數量的計算方式不同，取決於 _允許每裝載多個產品收據_ 功能在您的 Supply Chain Management 版本中是否可用並已開啟。
>
> | 版本 | 計算 |
> |---|---|
> | 版本 10.0.10 之前的版本以及更新的版本，其中 _允許每裝載多個產品收據_ 功能未開啟 | 行數量是 _對於該訂購單行_ 所有登記數量的總和，無論登記是否在多個裝載完成的都一樣，與裝載來自行動裝置還是用戶端無關。 |
> | 版本 10.0.10 及之後的版本，其中 _允許每裝載多個產品收據_ 功能已開啟 | 行數量是 _對於裝載記錄_ (起始 **產品收據過帳** 動作的裝載記錄) 所有登記數量的總和。 |

使用者選擇 **確定** 確認產品收據過帳時，系統對適當實體進行以下關鍵更新。

| 實體 | 更新 |
|---|---|
| 行數量已納入過帳範圍的訂購單庫存交易 | <p>以下欄位已更新 (但請注意，還有多個其他更新)：</p><ul><li><b>收據</b>欄位設定為<i>已接收。</i></li><li><b>實際日期</b>欄位更新為過帳日期。</li></ul> |
| 使用者從中過帳產品收據的裝載 | 對裝載的更新將取決於使用的版本和 **允許每裝載多個產品收據** 欄位的設定。 這些規則在本節之後出現的表格中進行說明。 |

**允許每裝載多個產品收據** 欄位可讓公司選擇入庫裝載接收原則。 視其營運流程而定，公司可能會選擇允許或不允許同一裝載的多個產品收據過帳。 我們建議物流經理將 **允許每裝載多個產品收據** 欄位設定為以下值之一：

- **否** - 如果倉庫收貨員始終會在指定時間範圍內登記每項裝載到貨的所有訂單數量，則選擇此值。 如果任何裝載數量未登記，系統將假定未到貨或不在裝載上，因此不應視為裝載的一部分。 從裝載執行的產品收貨過帳使用相同的假設。 除了產品收據更新所有登記數量 (其主要功能) 外，還會聲明裝載完成並關閉以進行額外處理。 在這種情況下，所有裝載行數量將自動更新為登記數量，沒有登記數量的裝載行將會刪除，裝載狀態變為 _已收到_。
- **是** - 如果倉庫收貨員需要更多時間來登記裝載到貨的所有數量，則選擇此值，但與此同時，您必須針對已登記數量進行產品收據過帳。 在這種情況下，即使在執行產品收貨過帳作業後，物流經理仍希望保持裝載未完成狀態，以便可以登記剩餘裝載數量，並持續讓產品收據更新到分類帳。
- **提示** - 如果您的裝載接收實務是混合的，則選擇此值，每次執行產品收據過帳時都需要做出決定。

下表總結了 **允許每裝載多個產品收據** 設定的效應。

| 允許每裝載多個產品收據 | 裝載數量 | 裝載狀態 | 附註 |
|---|---|---|---|
| 此欄位不可用時 (10.0.10 之前的版本) | <p>設定裝載數量使其等於登記數量。</p><p>如果裝載數量更新為 0 (零)，表示未進行登記，則刪除裝載行。</p><p>如果裝載上沒有裝載行，則刪除裝載。</p> | _已收到_ | 如果訂單行的登記數量存在多個裝載，則僅將過帳收據的裝載狀態更新為 _已收到_。 |
| 否 | <p>裝載數量設定為等於與裝載識別碼關聯的登記數量。</p><p>如果沒有為庫存交易記錄裝載識別碼，則行為與 10.0.10 之前版本中的行為相符。</p> | _已收到_ | |
| 是 | 沒有更新 | _已收到_，如果總登記裝載數量等於或大於裝載數量 | |
| 是 | 沒有更新 | _已發貨_ 或 _進行中_，如果總登記裝載數量小於裝載數量 | |

**裝載狀態** 欄位設定為 _已收到_ 之後，不能再為該裝載進行產品收據過帳。 但是，在以下條件下，工作人員可以根據收到的裝載登記剩餘訂單數量。 (有關詳細資訊，請參閱本主題之前介紹的[裝載超收](#load-over-receiving)章節。)

- Supply Chain Management 的版本早於版本 10.0.11。
- _超收裝載數量_ 功能已開啟，且行動裝置裝載品項接收動作功能表項目的 **裝載行數量超收** 欄位設定為 _允許_。

如欲對狀態為 _已收到_ 的裝載進行額外已登記裝載數量的產品收據過帳，使用者必須從關聯的訂購單執行過帳動作。

### <a name="post-registered-quantities-from-the-purchase-order-page"></a>從訂購單頁面過帳已登記數量

如欲從 **訂購單** 頁面對已登記數量進行產品收據過帳，使用者要先完成以下作業才能選擇 **產品收據** 動作：

- 將 **設定** 索引標籤 **參數** 區段的 **數量** 欄位設定為 _已登記數量_。
- 在 **產品收據** 欄位，輸入過帳中包含的訂購單編號。

> [!NOTE]
> 將包括在過帳範圍的行數量，是訂單行所有登記數量的總和，無論數量登記是否在多個裝載完成的都一樣，與裝載、行動裝置還是用戶端無關。 產品收據過帳從裝載執行時適用同樣規則，前提是該項作業進行時，**允許每裝載多個產品收據** 欄位不可用或未啟用。

使用者選擇 **確定** 確認產品收據過帳時，系統對適當實體進行以下關鍵更新。

| 實體 | 更新 |
|---|---|
| 行數量已納入過帳範圍的訂購單庫存交易 | <p>以下欄位已更新 (但請注意，還有多個其他更新)：</p><ul><li><b>收據</b>欄位設定為<i>已接收。</i></li><li><b>實際日期</b>欄位更新為產品收據過帳動作日期。</li></ul> |
| 裝載 | 裝載的更新取決於 **允許每裝載多個產品收據** 欄位是否可用及啟用。 下表說明規則。 |

下表總結了 **允許每裝載多個產品收據** 設定的效應。

| 允許每裝載多個產品收據 | 裝載數量 | 裝載狀態 | 附註 |
|---|---|---|---|
| 此欄位遭停用或不可用時 (在 10.0.10 之前的版本中) | 沒有更新 | 沒有進行更新。 (狀態保持 _未完成_、_已發貨_ 或 _進行中_。) | 因為產品收據過帳是從訂購單啟動的，所以更新邏輯沒有資訊瞭解其範圍內已登記數量與作為登記依據的裝載之間的關聯。 因此，它不能選擇狀態更新的裝載。 |
| 已啟用 | 沒有更新 | <p>進行下列其中一個動作：</p><ul><li>如果、訂購單庫存交易的已收到及已購買總數量，大於或等於與其關聯裝載的數量，狀態就會變為<i>已收到</i>。</li><li>如果裝載所有行未能滿足之前條件，狀態就會維持<i>未完成</i>、<i>已發貨</i>或<i>進行中</i>。</li></ul> | |

### <a name="select-the-appropriate-product-receipt-posting-option-for-your-logistics-operations"></a>為您的物流作業選擇適當的產品收據過帳選項

如前所述，系統提供兩種產品收據過帳選項。 可以在以下位置存取這些選項：

- 在 **裝載** 頁面，或從 **倉庫管理 \> 定期任務** 功能表作為更新作業
- 在 **訂購單** 頁面，或從 **採購 \> 訂購單 \> 接收產品** 功能表作為更新作業

對於使用裝載來計劃和管理入庫訂單運輸和倉庫處理的公司，建議使用以下功能處理裝載：

- 在倉庫行動裝置使用 **裝載品項接收** 動作，以根據裝載登記到貨產品數量
- 從裝載啟動 **產品收據過帳** 動作，以更新庫存分類帳

> [!NOTE]
> 其他數量登記和產品收貨過帳功能，可用於支援相應的入庫作業流程。 但是，如果您將前述功能與專用的裝載功能互換使用或加以取代，您可能會損害裝載記錄的資料準確性，從而影響裝載管理流程的緊密性。

## <a name="example-scenarios"></a>範例情境

### <a name="prepare-your-system-to-run-the-sample-scenarios"></a>準備您的系統以執行範例情境

要完成本節說明的範例騎徑，您首先必須確保系統開啟所有必要功能。 所需的示範資料也必須在系統中可用。

#### <a name="turn-on-the-required-features"></a>開啟所需的功能

這些情境需要 _每裝載多個產品收據過帳_ 功能及其先決條件功能。 管理員可以按照以下步驟開啟這些功能。

1. 打開 **功能管理** 工作區。 (有關如何尋找和使用此工作區的完整詳細資訊，請參閱[功能管理概述](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)。)

1. 確保 _將訂購單庫存交易與裝載相關聯_ 功能已開啟。  (從 Supply Chain Management 版本 10.0.21 開始，此功能為強制性的，因此預設開啟且無法再次關閉。) 然而，功能仍會在[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) 使用以下方式列出：

    - **模組：** _Warehouse Management_
    - **功能名稱：** _將訂購單庫存交易與裝載鄉關聯_

1. 開啟 _每裝載多個產品收據過帳_ 功能，按以下方式列出：

    - **模組：** _Warehouse Management_
    - **功能名稱：**_每裝載多個產品收據過帳_

#### <a name="enable-sample-data"></a>啟用範例資料

若要使用指定的範例記錄和值完成這些情境，您必須使用已安裝標準示範資料的系統。 在開始之前，您還必須先選擇 **USMF** 法律實體。

#### <a name="add-a-menu-item-for-receiving-load-items-when-a-mobile-device-is-used"></a>使用行動裝置時，新增一個功能表項目用於接收裝載品項

在倉庫收貨員可以使用行動裝置登記與裝載連結的入庫庫存之前，您必須為此建立一個行動裝置功能表項目。

在本節中，您將建立一個行動裝置功能表項目，並將其新增到現有功能表中。 然後，倉庫工作人員可以在 Warehouse Management 行動應用程式中選擇功能表項目。

1. 前往 **倉庫管理\>設定\>行動裝置\>行動裝置功能表項目**，並確保您的行動裝置功能表包含具有以下設定的功能表項目：

    - **模式：** _工作_
    - **工作建立流程：** _裝載品項收貨_
    - **產生牌照：** _是_

    您可以將所有其他設定保留為預設值。

    ![行動裝置功能表項目設定。](media/inbound-mobile-menu-items.png "行動裝置功能表項目設定")

    有關如何設定行動裝置功能表項目的更多資訊，請參閱[為倉庫工作設定行動裝置](configure-mobile-devices-warehouse.md)。

2. 完成設定功能表項目後，前往 **倉庫管理\>設定\>行動裝置\>行動裝置功能表項目**，並將功能表項目新增至行動裝置的功能表結構。

### <a name="example-scenario-1-register-a-load-where-some-items-are-missing"></a>範例情境 1：登記缺少某些品項的裝載

此情境說明如何在未出現所有預期數量的情況下為入庫裝載登記數量。 然後顯示如何過帳訂購單的產品收據。

#### <a name="create-a-load-to-plan-receipt-of-a-purchase-order"></a>建立裝載以計劃接收訂購單

在此程序中，您將手動建立訂購單和關聯的裝載。 然後您將更新裝載，以模擬裝載已從供應商處發貨 (這會更新裝載狀態)。 倉庫規劃人員接著可透過 **裝載狀態** 篩選裝載，以找到預期的傳入裝載。

1. 前往 **採購和資源開發 \> 訂購單 \> 所有訂購單**。
1. 選擇 **新增**。
1. 在 **建立訂購單** 對話方塊，將 **供應商帳戶** 欄位設定為 _1001_。
1. 選擇 **確定** 以關閉建立對話方塊，並建立訂購單。
1. 新的訂購單已經包含 **訂購單行** 之下的一行。 為此明細設定以下值：

    - **品項編號：**_A0001_
    - **倉庫：**_24_
    - **數量：**_10_

1. 在動作窗格的 **採購** 索引標籤上選擇 **動作 \> 確認**。 訂單狀態現在為 _已確認_。
1. 在動作窗格的 **倉庫** 索引標籤，選擇 **動作 \> 裝載規劃工作台**。
1. 在 **裝載規劃工作台** 頁面的動作窗格上，在 **供需** 索引標籤選擇 **新增\>到新裝載**。
1. 在 **裝載範本指派** 對話方塊，將 **裝載範本識別碼** 欄位設定為 _20 呎貨櫃_。
1. 選擇 **確定** 以關閉對話方塊並返回工作台。
1. 在 **裝載** 區段選擇 **裝載識別碼** 以開啟新建立的裝載。
1. 檢閱裝載標題和明細詳細資料，並注意以下幾點：

    - 在 **裝載** FastTab 將 **裝載狀態** 欄位設定為 _未完成_。
    - 在 **裝載行** 區段，有一行的 **數量** 欄位設定為 _10_，**工作建立數量** 欄位則設定為 _0_ (零)。

    ![裝載詳細資料。](media/inbound-load-details.png "裝載詳細資料")

1. 在動作窗格的 **出貨與收貨** 索引標籤中，選擇 **確認 \> 入庫裝運**。 請注意 **裝載狀態** 已更改為 _已發貨_。
1. 記下 **裝載識別碼** 值，以便在下一個程序中使用。

#### <a name="register-receipt-of-the-quantities-that-arrived-on-the-load"></a>登記收到的裝載到貨數量

裝載到達倉庫收貨碼頭時，收貨員在行動裝置上登記裝載數量。

1. 使用您的行動裝置登入倉庫 24。 (在標準示範資料中，使用 _24_ 作為用戶識別碼和 _1_ 作為密碼進行登入。)
1. 選擇您為此情境建立的 _裝載品項接收_ 功能表項目。
1. 按照螢幕上的資料輸入說明輸入以下值。 (順序可能會有所不同，取決於您使用的行動裝置或模擬器。)

    - **裝載** - 輸入您在上一個程序中建立的裝載識別碼。
    - **品項** - 輸入 _A0001_，這是此裝載的預期品項。
    - **數量** - 輸入 _9_ 作為裝載上的實際數量。 請注意，此數量小於預期數量。

1. 繼續完成工作流程，將所有其他欄位留空或設定為其預設值，直到您的裝置通知您工作已完成。

裝載接收作業現已完成，收貨員可以繼續他們的下一個工作。 但是，倉庫收貨人員最終會查看裝載記錄，並且能夠看到收貨數量少於預期數量。 然後他們將使用 Web 用戶端完成以下程序。

1. 移至 **Warehouse Management \> 裝運 \> 所有裝運**。
1. 在清單中找到您剛收到的裝載。 (您可能必須選擇 **顯示已結案** 核取方塊，以包括裝載狀態為 _已發貨_ 的入庫裝載。) 然後選擇 **裝載識別碼** 欄之中的連結以開啟裝載。
1. 在裝載記錄中，請注意 **裝載狀態** 值仍為 _已發貨_，但是裝載行的 **工作建立數量** 值已更改為 _9_。
1. 前往 **採購和資源開發 \> 訂購單 \> 所有訂購單**。
1. 在清單中找到您剛收到的採購，然後選擇 **訂購單** 欄以開啟訂單。
\
1. 在 **訂購單** FastTab 選擇 **庫存\>檢視\>交易**。
1. 查看兩個訂購單交易的詳細資訊。 (您可能需要個人化 **庫存交易** 頁面，以查看 **裝載識別碼** 欄位到格線。) 您應該看到兩個交易：

    - 收據為 _已登記_ 狀態的交易，表示使用行動裝置針對特定裝載執行的登記數量為 _9_。 **裝載識別碼** 與相關交易相關聯。
    - 收據為 _已訂購_ 狀態的交易，表示剩餘的未登記訂單行數量為 _1_。

#### <a name="product-receiptpost-the-registered-load-quantities-against-purchase-orders"></a>依據訂購單對已登記裝載數量進行產品收據過帳

在此程序中，您將對自己為裝載登記的庫存進行產品收據過帳。 因此，收到的庫存及其相關成本將新增到公司的總帳中。

1. 移至 **Warehouse Management \> 裝運 \> 所有裝運**。
1. 在清單中找到您收到的裝載。 (您可能必須選擇 **顯示已結案** 核取方塊，以包括裝載狀態為 _已發貨_ 的入庫裝載。) 然後選擇 **裝載識別碼** 欄之中的連結以開啟裝載。
1. 在動作窗格的 **出貨與收貨** 索引標籤中，選擇 **收貨 \> 產品收據**。 如果系統提示您確認動作，請選擇 **是**。
1. 在 **過帳產品收據** 對話方塊的 **行** FastTab 檢查格線。 您應該會看到已針對所選裝載登記數量的訂購單行。

    > [!NOTE]
    > 在無法使用或並未啟用 _每裝載多個產品收據過帳_ 功能的版本中，預設數量顯示在 **裝載行** 格線，將是與訂購單行關聯的所有裝載中已登記的總數量。

1. 在 **概要** FastTab 檢查格線中的 **產品收據** 欄位。 請注意，該欄位設定為包含所選裝載識別碼的數字。
1. 選擇 **確定** 以過帳產品收據，並關閉 **過帳產品收據** 對話方塊。
1. 您將返回到裝載詳細資訊。 請注意以下幾點：

    - **裝載狀態** 欄位現在設定為 _已收到_。
    - 裝載行上的裝載 **數量** 值已從 _10_ 變更為 _9_ 個，以符合登記數量，但 **工作建立數量** 值仍為 _9_。

如果採購團隊不期望供應商交付剩餘訂單數量 1，則可以將行的剩餘交貨量更新為 _0_ 以讓訂單結案。 但是，如果很快發現遺失貨物是在原始裝載上到貨的，倉庫人員可以執行以下動作之一：

- 針對相同裝載登記數量。 在這種情況下，**裝載狀態** 欄位將被重設為 _已發貨_，而 **工作建立數量** 值將更新為 _10_。 此選項僅在以下情況可用：

    - _超收裝載數量_ 功能不可用或未啟用。
    - _超收裝載數量_ 功能可用且啟用，並且 **裝載行數量超收** 欄位設定為 _允許_。

- 將數量新增到新或現有的裝載中，並以平常的方式進行處理。
- 以不涉及裝載處理的方式登記和/或接收數量。

### <a name="example-scenario-2-register-quantities-that-arrive-on-multiple-inbound-loads-where-some-items-are-missing"></a>範例情境 2：針對多個遺失部分品項的入庫裝載登記到貨數量

在這種情況下，與單一訂購單行相關的入庫裝運將拆分為兩個裝載。 例如，由於重量和/或體積的物理裝載限制，訂購單行可能拆分為多個裝載。

此情境還顯示如何處理同一裝載的多個產品收據過帳。 您將登記多個入庫裝載到貨的數量，但數量與預期數量不符。 透過產品收據過帳發生的成本更新，將對同一裝載進行多次。

#### <a name="set-up-load-receiving-policies"></a>設定裝載接收原則

在此程序中，您將啟用來自同一裝載的多個產品收據過帳。

1. 前往 **倉庫管理 \> 設定 \> 倉庫管理參數**。
1. 在 **裝載** 索引標籤將 **允許每裝載多個產品收據** 欄位設定為 _是_。

#### <a name="create-two-loads-to-plan-receipt-of-a-purchase-order"></a>建立兩個裝載以計劃接收訂購單

在此程序中，您將手動建立訂購單和兩個裝載。 然後您將手動更新各個裝載，以模擬裝載已從供應商處發貨 (這會更新裝載狀態)。 倉庫規劃人員接著可透過 **裝載狀態** 篩選裝載，以找到預期的傳入裝載。

您還將學習如何設定訂購單行，以便您可以收到比為該行指定數量多 20% 的數量。

1. 前往 **採購和資源開發 \> 訂購單 \> 所有訂購單**。
1. 選擇 **新增**。
1. 在 **供應商** FastTab 將 **供應商帳戶** 欄位設定為 _1001_，然後選擇 **確定**。
1. 您的新訂購單已開啟，並在 **訂購單行** 格線包含一個空白行。 為此訂單行設定以下值：

    - **品項編號：**_A0001_
    - **倉庫：**_24_
    - **數量：**_10_

1. 在 **明細詳細資料** FastTab 上的 **交貨** 索引標籤，將 **超額交付** 欄位設為 _20_。
1. 在動作窗格的 **採購** 索引標籤上選擇 **動作 \> 確認**。 訂單狀態現在為 _已確認_。
1. 在動作窗格的 **倉庫** 索引標籤，選擇 **動作 \> 裝載規劃工作台**。
1. 在 **裝載規劃工作台** 頁面的動作窗格上，在 **供需** 索引標籤選擇 **新增\>到新裝載**。
1. 在 **裝載範本指派** 對話方塊，將 **裝載範本識別碼** 欄位設定為 _20 呎貨櫃_。 在 **詳細資料** 索引標籤，將 **數量** 值由 _10_ 變更為 _5_，以部分新增訂購單行數量。
1. 選擇 **確定** 以套用設定並關閉對話方塊。
1. 重複步驟 8 到 10 以建立第二個裝載。 這一次 **數量** 欄位應該已經設定為 _5_。
1. 在 **裝載規劃工作台** 頁面的 **裝載** 格線，為您建立的第一個裝載選擇 **裝載識別碼** 值。 **裝載詳細資訊** 頁面出現並顯示選定的裝載。 請依下列步驟操作：

    1. 在動作窗格的 **出貨與收貨** 索引標籤中，選擇 **確認 \> 入庫裝運**。
    1. 請注意 **裝載狀態** 值已更改為 _已發貨_。
    1. 選擇關閉按鈕返回到 **裝載規劃工作台** 頁面。

1. 對您建立的第二個裝載重複上個步驟。
1. 記下這兩個出現在 **裝載** 格線的 **裝載識別碼** 值。

#### <a name="register-partial-receipt-of-the-quantities-that-arrived-on-the-first-load-and-post-the-registered-load-quantities"></a>登記第一個裝載收到的部分到貨數量，並過帳登記的裝載數量

裝載到達倉庫收貨碼頭時，收貨員在行動裝置上登記裝載數量。 然後依據裝載過帳訂購單產品收據，在公司總帳中更新與裝載關聯的已登記庫存成本。

此程序顯示收貨員如何在行動裝置上登記裝載數量。

1. 使用您的行動裝置登入倉庫 24。 (在標準示範資料中，使用 _24_ 作為用戶識別碼和 _1_ 作為密碼進行登入。)
1. 選擇您為此情境建立的 _裝載品項接收_ 功能表項目。
1. 按照螢幕上的資料輸入說明輸入以下值。 (順序可能會有所不同，取決於您使用的行動裝置或模擬器。)

    - **裝載** - 輸入您在上一個程序中建立的第一個裝載識別碼。
    - **品項** - 輸入 _A0001_，這是此裝載的預期品項。
    - **數量** - 輸入 _3_。 請注意，此數量小於預期數量。 對於這種情況，假設您作為收貨員，沒有時間登記此裝載的所有數量。 在此程序的稍後部分，您將重複此步驟並設定 **數量** 欄位為 _2_，以登記剩餘數量。

1. 繼續完成工作流程，將所有其他欄位留空或設定為其預設值，直到您的裝置通知您工作已完成。
1. 在 Web 用戶端中前往 **倉庫管理\>裝載\>所有裝載**。
1. 在清單中找到您剛收到的裝載，然後選擇 **裝載識別碼** 值開啟裝載。 請注意 **裝載狀態** 值仍為 _已發貨_，但是裝載行的 **工作建立數量** 值已更改為 _3_。
1. 在動作窗格的 **出貨與收貨** 索引標籤中，選擇 **收貨 \> 產品收據**。 如果系統提示您確認動作，請選擇 **是**。
1. 在 **過帳產品收據** 對話方塊，查看但不更改顯示的值，然後選擇 **確定**。
1. 你回到了選定裝載的 **裝載詳細資訊** 頁面。 請注意以下幾點：

    - **裝載狀態** 欄位維持設定為 _已發貨_。
    - 在裝載行上，裝載 **數量** 值仍為 _5_ 個 (這是原始裝載數量)，而 **工作建立數量** 值仍為 _3_。

1. 重複此程序以完成登記此裝載的剩餘數量。 但是，在步驟 3 中，將 **數量** 欄位設定為 _2_。

第一個裝載的接收工作現已完成。 已建立兩個產品收據日記帳，分別用於您執行的兩個產品收據更新。

#### <a name="register-receipt-of-the-quantities-that-arrived-on-the-second-load-and-account-for-the-overdelivered-quantity"></a>登記第二個裝載到貨時接收的數量並說明超額交貨數量

對於這種情況，收貨員入庫登記的數量，將超過裝載上存在的數量。 將允許超收，因為系統設定為允許超額交貨。

1. 使用您的行動裝置登入倉庫 24。 (在標準示範資料中，使用 _24_ 作為用戶識別碼和 _1_ 作為密碼進行登入。)
1. 選擇您為此情境建立的 _裝載品項接收_ 功能表項目。
1. 按照螢幕上的資料輸入說明輸入以下值。 (順序可能會有所不同，取決於您使用的行動裝置或模擬器。)

    - **裝載** - 輸入您之前建立的第二個裝載識別碼。
    - **品項** - 輸入 _A0001_，這是此裝載的預期品項。
    - **數量** - 輸入 _7_，這是供應商授權交貨的剩餘數量，作為總訂購單數量 12 的一部分 (其中 10 是原始訂單數量，2 是允許的 20% 的超額交貨數量)。 請記住，第一個裝載已經登記了 5 件。

第二個裝載現在已更新為 7 的數量，並且可以根據此數量進行產品收據更新。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]