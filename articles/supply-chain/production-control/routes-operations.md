---
title: 途程和作業
description: 本主題提供有關途程和作業的資訊。
author: johanhoffmann
ms.date: 03/18/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: BOMDesigner, BOMDesignerRouteVersion, Route, RouteInventProd, RouteOpr, RouteOprTable, ProdRouteJob, ProdRouteTrans, ProdRouteOverview, ProdRouteJobOverview, ProdRouteJobListPagePreviewPane, RouteTable, RouteVersionFeasibility, ProdRouteJobCurrent, RouteGroup, RouteProductionOrder, EngChgCaseRouteTablePart, EcoResProductProdTypeFormulaNoActiveRouteFormPart,
ms.author: johanho
audience: Application User
ms.reviewer: kamaybac
ms.custom: 268124
ms.assetid: f78d5836-3e71-42b7-a5d1-41f19228d9d2
ms.search.region: Global
ms.search.industry: Manufacturing
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: ab825227e7cd8848dbad58c58f5c6d7afc338f9c
ms.sourcegitcommit: 7cbd53617af179a0de74aae30c149edc95e86684
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/06/2021
ms.locfileid: "8449508"
---
# <a name="routes-and-operations"></a>途程和作業

[!include [banner](../includes/banner.md)]

本主題提供有關途程和作業的資訊。 途程定義生產產品或產品變型的程序。 它描述生產程序中的各個步驟 (作業)，和這些步驟必須執行的順序。 對於各個步驟，途程還定義了所需的作業資源、所需的設定時間和執行時間，以及應如何計算成本。

## <a name="overview"></a>概觀

途程描述了生產產品或產品變型所需的作業順序。 對於每個作業，途程還定義了所需的作業資源、設定和執行作業所需的時間以及應如何計算成本。 您可以使用相同的途程來生產多個產品，也可以為每個產品或產品變型定義唯一的途程。 您甚至可以為同一產品提供多個途程。 在這種情況下，使用的途程根據必須生產的數量等因素決定。 Supply Chain Management 中的途程的定義由四個單獨的元素組成，這些元素共同描述了生產程序：

- **途程** – 途程定義生產程序的結構。 換句話說，它定義途程的順序。
- **作業** – 作業定義途程中的具名步驟，例如 **裝配**. 相同的作業可以發生在多個途程中，並且可以有不同的作業編號。
- **作業關係** – 作業關係定義作業的作業屬性，例如設定時間和執行時間、成本類別、耗用參數和資源需求。 作業關係可讓作業的作業屬性根據使用該作業的途程或正在生產的產品而變化。
- **途程版本** – 途程版本定義用於生產產品或產品變型的途程。 途程版本可讓途程在多個產品中重複使用，或隨時間變更。 它們還能讓不同途程可用於生產相同的產品。 在這種情況下，使用的途程根據位置或必須生產的數量等因素決定。

## <a name="routes"></a>途程
途程描述了生產產品或產品變型所用的作業順序。 將為每個作業指派有作業編號和後續作業。 作業的順序會形成路程網路，其可透過具有方向且有一個或多個起點，但只有一個終點的圖表表示。 在 Supply Chain Management 中，途程是根據結構類型來區分的。 途程有兩種，即簡單途程和途程網路。 在「生產控制參數」中，可以指定是否只能使用簡單途程，或者是否可以使用更複雜的途程網路。

### <a name="simple-routes"></a>簡單途程

簡單途程具有連續性，且只有一個起點。  

[![簡單途程。](./media/routes-and-operations-1-simple-route.png)](./media/routes-and-operations-1-simple-route.png)  

如果在生產控制參數中僅啟用簡單途程，在定義途程時，Supply Chain Management 會自動產生作業編號 (10、20、30，依此類推)。

### <a name="route-networks"></a>途程網路

如果在生產控制參數中啟用更複雜的途程網路，則可以定義具有多個起點和作業，且這些作業可以平行執行。  

[![途程網路。](./media/routes-and-operations-2-route-network.png)](./media/routes-and-operations-2-route-network.png)  

> [!NOTE]
> - 每個作業只能有一個後續作業，而整個途程必須以一個作業結束。
> - 這並不能確保具有相同後續作業的多個作業 (例如上圖中的作業 30 和 40) 真的會平行執行。 資源的可用性和產能可能會對排程方式加上條件約束。
> - 您不能使用 0 (零) 做為作業編號。 該數字是保留的，用於指定途程中的最後一個作業沒有後續作業。

### <a name="parallel-operations"></a>平行作業

有時需要組合多個具有不同特徵的作業資源，才能執行某項作業。 例如，裝配作業可能要求為每兩台機器配一台機器、一個工具和一位工作人員，以便監督該作業。 這個例子可以透過使用平行作業來建模，將其中一個作業指定為主要作業，其他作業則指定為次要作業。  

[![具有主要和次要作業的途程。](./media/routes-and-operations-3-parallel-operations.png)](./media/routes-and-operations-3-parallel-operations.png)  

通常主要作業代表瓶頸資源，並指示次要作業的執行時間。 但是，在涉及有限產能的排程期間，為主要作業和次要作業安排的資源必須同時可用並且具有可用產能。  

主要作業和次要作業的作業編號必須相同 (上圖中為 30)。  

在前面的範例中，主要作業 (30) 的資源需求是機器，而次要作業 (30' 和 30'') 的資源要求是工具和工作人員。 50% 的負載有助於保證排程的工作人員可以同時監督兩台機器。

### <a name="approval-of-routes"></a>途程核准

途程必須先獲得核准，然後才能用於規劃或製造程序。 核准表示途程設計已經完成。 發佈的相同產品或發佈的產品變型可以具有多個核准的途程。 通常，當第一個相關的途程版本獲得核准時，就會核准途程。 但是，在某些業務案例中，途程的核准和途程版本是獨立的活動，可能涉及不同的流程負責人。  

每個途程都可以單獨核准或未經核准。 但請注意，如果途程未經核准，則所有相關的途程版本也將未經核准。 在生產控制參數中，可以指定途程是否可以未經核准，以及是否可以變更已核准的途程。  

如果您必須保留記錄以記錄誰核准了每個途程，可以要求使用電子簽章來核准途程。 然後，使用者必須使用[電子簽章](../../fin-ops-core/fin-ops/organization-administration/electronic-signature-overview.md)來確認其身分。

## <a name="operations"></a>Operations
作業是生產程序中的步驟。 每個作業都有一個識別碼和簡單的說明。 下表顯示機械車間的典型作業範例。

| 作業  | 描述        |
|------------|--------------------|
| PipeCut    | 截管       |
| TIGweld    | 惰氣熔接        |
| JigAssy    | 模架裝配       |
| 檢查 | 品質檢查 |

作業的作業屬性 (如設定時間和執行時間、資源需求、成本資訊和耗用計算) 在作業關係中指定。 (有關作業關係的詳細資訊，請參閱下一節。)

## <a name="operation-relations"></a>作業關係
作業的以下作業屬性在作業關係中維護：

- 成本類別
- 耗用參數
- 處理時間
- 處理數量
- 資源需求
- 附註和說明

您可以為同一作業定義多個作業關係。 但是，每個作業關係特定於一個作業，且儲存特定於途程、已發佈產品或與物料群組相關的一組產品的屬性。 因此，可以在具有不同作業屬性的多個途程中使用相同的作業。 此外，如果您使用具有相同作業屬性的標準作業，則無論使用哪種作業和生產哪種產品，您都可以輕鬆維護您的主資料。 作業關係的範圍是透過 **品項代碼**、**品項關係**、**途程代碼** 和 **途程關係** 屬性定義，如下表所示。

| 品項代碼 | 品項關係         | 途程代碼 | 途程關係   | 作業關係的範圍                                                                                                                                                                                                                                                                              |
|-----------|-----------------------|------------|------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 表格     | &lt;項目識別碼&gt;       | 途程      | &lt;途程識別碼&gt; | 當作業在 **途程編號**=&lt;途程識別碼&gt;以生產 **品項編號**=&lt;品項識別碼&gt;的所發佈產品的途程中使用時，作業的作業屬性。                                                                                                                        |
| 表格     | &lt;項目識別碼&gt;       | 全部        |                  | 當作業用於生產 **品項編號**=&lt;品項識別碼&gt;的所發佈產品時，作業的預設作業屬性。 換句話說，當發佈的產品沒有特定途程的作業關係時，應套用這些作業。                                     |
| 群組     | &lt;品項群組識別碼:&gt; | 途程      | &lt;途程識別碼&gt; | 除非發佈的產品有特定途程的作業關係，否則當作業在 **途程編號**=&lt;途程識別碼&gt;中使用以生產與品項群組&lt;品項群組&gt;關聯的所發佈產品的途程中使用時，作業的作業屬性。                         |
| 群組     | &lt;品項群組識別碼:&gt; | 全部        |                  | 除非存在特定的作業關係，否則當作業用於生產與品項群組&lt;品項群組識別碼&gt;關聯的所發佈產品時，作業的預設作業屬性。                                                                                                  |
| 全部       |                       | 途程      | &lt;途程識別碼&gt; | 作業在 **途程編號**=&lt;途程識別碼&gt;的途程中使用時，作業的預設作業屬性。 換句話說，特定於發佈的產品或其關聯品項群組的此途程無作業關係時，套用這些作業屬性。 |
| 全部       |                       | 全部        |                  | 作業的預設作業屬性。 當不存在更特定的作業關係時，套用這些作業屬性。                                                                                                                                                                |

您還可以指定特定於站點的作業關係。 透過這種方式，作業的作業屬性可能會有所不同，具體取決於執行作業的位置 (即站點)。 對於已配置的產品，您還可以為每個產品設定指定不同的作業屬性。  

作業關係可讓您在定義途程時擁有極高的靈活性。 此外，定義預設屬性的能力有助於減少必須維護的主資料量。 但是，這種靈活性也代表您必須了解修改作業關係的環境。  

> [!NOTE]
> 由於作業屬性存儲在每個作業的作業關係中，因此同一作業 (例如裝配) 的所有發生次數都具有相同的設定時間、執行時間和資源需求。 因此，如果一個作業的兩個發生次數必須在同一個途程中發生，但執行時間不同，則必須建立兩個獨立的作業，例如「裝配 1」和「裝配 2」。

### <a name="modifying-product-specific-routes"></a>修改特定產品的途程

當你從 **已發佈產品詳細資料** 頁面打開 **途程** 頁面時，將顯示與所選已發佈產品關聯的途程版本。 在此環境中，Supply Chain Management 會為各作業顯示作業關係中與途程版本最相符的作業屬性。 您會注意到作業清單中包含 **品項代碼** 和 **途程代碼** 作業關係的屬性。 因此，您可以確定顯示的是哪個作業關係。  

在 **途程** 頁面，您可以修改作業的作業屬性，例如執行時間或成本類別。 您的變更儲存在特定於目前途程版本中參考的途程和已發佈產品的作業關係中。 如果顯示的作業關係不是特定於途程和已發佈的產品，則在儲存您的變更之前，系統會建立作業關係的副本。 此副本 *是* 特定於途程和已發佈的產品。 因此，您的變更不會影響其他途程或已發佈的產品。 若要驗證正 **途程** 頁面正在修改哪個作業關係，請查看 **品項代碼** 和 **途程代碼** 欄位。  

您還可以使用 **複製和編輯關係** 功能，手動建立特定於某個途程和已發佈產品的作業。  

> [!NOTE]
> 如果您將新作業新增到 **途程** 頁面，將只為目前已發佈的產品建立作業關係。 因此，如果該途程也用於生產其他已發佈產品，則這些已發佈產品將不存在適用的作業關係，且不再將該途程用於這些已發佈產品。

### <a name="maintaining-operation-relations-per-route"></a>維護每個途程的作業關係

打開 **途程** 清單頁面的 **途程詳細資料** 頁面後，將顯示適用於所選途程的所有作業關係清單。 因此，您可以輕鬆驗證哪些作業屬性用於哪些產品。 您可以修改預設屬性值和特定產品的屬性值。  

如果在 **途程詳細資料** 頁面中新增作業關係，將把 **途程代碼** 欄位自動設為 **途程**，將 **途程關係** 欄位設為目前途程的途程編號。

### <a name="maintaining-operation-relations-per-operation"></a>維護每個作業的作業關係

在 **作業** 頁面可以打開 **作業關係** 頁面。 在此頁面上，您可以修改特定作業的所有作業關係。 您甚至可以修改包含預設值的作業關係。  

如果您的企業使用標準作業，並且所有產品和流程的作業參數相同，則 **作業關係** 頁面會提供一種方便的方法來維護這些作業的預設作業屬性。

### <a name="applying-operation-relations"></a>套用作業關係

在某些情況下，Supply Chain Management 必須找到作業的作業屬性。 例如，建立訂購單時，必須將每個作業的作業屬性從作業關係複製到生產途程。 在這些情況下，Supply Chain Management 會從最特定的組合到最不特定的組合搜尋相關的作業關係。  

當 Supply Chain Management 為已發佈產品搜尋最相關的作業關係時，與已發佈產品的品項識別碼相符的作業關係優先於與品項群組識別碼相符的作業關係。 反過來說，與品項群組識別碼相符的作業關係優先於預設作業關係。 搜尋依以下順序進行：

1.  **品項代碼**=**表格** 和 **品項關係**=&lt;品項識別碼&gt;
2.  **品項代碼**=**群組** 和 **品項關係**=&lt;品項群組識別碼&gt;
3.  **品項代碼**=**全部**
4.  **途程代碼**=**途程** 和 **途程關係**=&lt;途程識別碼&gt;
5.  **途程代碼**=**全部**
6.  **配置**=&lt;配置識別碼&gt;
7.  **組態**=
8.  **站點**=&lt;站點識別碼&gt;
9.  **站點**=

因此，作業只能用於各個途程一次。 如果該作業在同一途程中出現多次，則該作業每次出現時都會具有相同的作業關係，且您無法為作業每次出現設定不同屬性 (例如，執行時間)。

## <a name="route-versions"></a>途程版本

途程版本用於容納生產產品時的各種變化，或讓您能更好地控制生產程序。 它們定義在生產特定的已發佈產品或已發佈產品變型時應使用哪個途程。 您可以使用以下條件約束將哪個途程用於已發佈的產品：

- 產品維度 (尺寸、顏色、款式或配置)
- 生產數量
- 生產站點
- 生產日期

當您在特定站點、特定數量或特定期間生產產品時，可以將特定途程版本指定為預設途程版本。 但請注意，對於指定的已發佈產品和指定的條件約束組，只能有一個使用中途程。  

在生產控制參數中，您可以要求一律指定途程版本的有效期間。

### <a name="approval-of-route-versions"></a>途程版本核准

途程版本必須先獲得核准，然後才能用於規劃或製造程序。 當您核准途程版本時，也會核准相關途程。 但請注意，只有相關的途程版本也經過核准，途程版本才能經過核准。

### <a name="activating-the-default-route-version"></a>啟用預設途程版本

啟用途程版本時，可以將其指定為主規劃將使用或將用於建立生產訂單的預設途程版本。 對於指定的條件約束組 (例如，期間、站點或數量)，只能有一個使用中的途程版本。 如果您嘗試啟用的版本與已啟用的版本衝突，將會收到一則錯誤訊息。 為了防止不明確的啟用，您必須停用衝突的版本或修改途程版本的條件約束 (通常是期間)。

### <a name="electronic-signatures"></a>電子簽章

如果您必須保留記錄以記錄誰核准和啟用了各個途程版本，可以要求針對這些工作使用電子簽章。 核准和啟用途程版本的使用者必須使用[電子簽章](../../fin-ops-core/fin-ops/organization-administration/electronic-signature-overview.md)。

### <a name="product-change-that-uses-case-management"></a>使用案例管理的產品變更

用於核准和啟用新的或已變更的途程和途程版本的產品變更案例，為您提供了一種查看途程版本條件約束的簡單方法。 您還可以核准和啟用與一項作業中的特定變更相關的所有途程，並將結果記錄到產品變更案例中。

## <a name="maintaining-routes"></a>維護途程

根據您的業務需求，您可以減少維護程序定義所需的工作量。

### <a name="making-routes-independent-of-resources"></a>讓途程獨立於資源

在許多系統中，必須在途程中指定應執行作業的作業資源或資源群組。 但在 Supply Chain Management 中，您可以定義一組要求，作業資源必須滿足這些要求才能適用於作業。 因此，在實際排程作業之前，不必確定應使用的特定作業資源或資源群組。 當您有大量工作人員或機器可以執行相同作業時，此功能特別實用。  

例如，您指定某個作業需要有 **沖壓** 能力為 20 噸的 **機器** 類型的作業資源。 然後，排程引擎將在排程作業時，將這些需求解析為特定作業資源或資源群組。 因為您可以只指定這些需求，而不是將作業綁定到特定機器，所以靈活性更高。 此外，在移動資源或新增資源時，更容易維護。  

有關各種類型的資源要求以及如何使用它們的詳細資訊，請參閱作業資源需求和[資源功能](resource-capabilities.md)。

### <a name="sharing-routes-across-sites"></a>跨站點共用途程

如果您在多個生產站點生產相同的產品，且如果在所有站點生產產品的步驟都相同，通常可以設計跨所有生產站點使用的作業途程。 若要建立共用途程，請勿在途程本身中指定站點。 但是，您仍必須建立一個途程版本，在各站點將共用途程與該產品相關聯。  

您還必須確保途程中每個作業的資源需求不要求特定作業資源或資源群組，而是以所需資源的特徵來表示。 然後，排程引擎將能夠從排程生產的站點指派適當的作業資源。 例如，如果執行時間存在微小差異，或者某個作業的設定時間是特定於站點的，您可以透過為該站點新增額外的作業關係來指定此資訊。  

若要充分利用共用途程，還應使用相應物料清單 (BOM) 中的資源耗用量。 當您在 BOM 細項上設定資源耗用標誌時，應從其耗用原材料的倉庫和位置將從排程作業的作業資源推斷出來。 因此，在實際排程生產之前，不必確定倉庫和位置。 透過這種方式，您可以讓 BOM 和途程都獨立於生產產品的實際位置。

### <a name="standard-operation-relations"></a>標準作業關係

如果您的企業在整個生產過程中均使用標準化作業，且設定時間、執行時間、耗用計算、成本計算等項目的變化很小或沒有變化，則為所有作業建立預設作業關係可讓您輕鬆不少。 在這種情況下，請避免建立特定於任何途程或已發佈產品的作業關係。  

如果您還根據技能和能力表達資源需求，並讓您的途程獨立於站點，則可以協助讓業務流程的持續維護降至最低。  

使用這種方法時，**作業關係** 頁面會成為您維護執行時間和其他屬性的主要目的地。

### <a name="resource-specific-process-times"></a>資源特定的處理時間

如果未將作業資源或資源群組指定為作業的資源需求的一部分，則適用的資源可能會以不同的速度執行。 因此，處理作業所需的時間可能會有所不同。 若要解決此問題，您可以使用作業關係上的 **公式** 欄位，以指定處理時間的計算方法。 可以使用以下選項：

- **標準** – (預設選項) 計算僅使用作業關係中的欄位，並將指定的執行時間乘以訂單數量。
- **產能** – 計算包括作業資源中的 **產能** 欄位。 因此，時間與資源相關。 在作業資源中指定的值是每小時的產能。 **處理時間** 計算為 **訂單數量** 除以 **產能**。 產能值並不特定於特定的計量單位，因此不會根據 **產能單位** 欄位進行轉換，此欄位只是一個不用於計算的描述性欄位。
- **批次** – 使用作業關係中的資訊計算批次產能。 因此可以根據訂單數量計算批次數量和處理時間。
- **資源批次** – 此選項與 **批次** 選項大致相同。 但是，計算中包括作業資源中的 **批次產能** 欄位。 因此，時間與資源相關。

### <a name="set-up-route-groups"></a>設定途程群組

您可以在 **生產控制 > 設置 > 途程 > 途程群組** 下為其途程或作業類型定義途程群組和設定。 對於每個途程/作業類型的途程群組，您可以選擇或清除以下選項：

- **啟用** - 選擇此選項可為所選作業類型啟用計算和排程，並在執行作業排程時接收作業意見反應。 您需要選擇此選項以啟用作業類型，然後選擇該作業類型的其他選項。 如果未選擇啟用，則無論選擇其他選項如何，都不會啟用該作業類型。 
- **作業管理** - 選擇此選項可在執行作業排程時將作業類型包括在作業管理中。 
- **工作時間** - 選擇此選項可根據為作業資源定義的工作時間行事曆排程作業類型，否則將使用西曆。 可以根據西曆或定義的工作行事曆排程工作時間。 如果選擇此選項，則計劃將以定義的工作時間行事曆為基礎。 此外，作業類型的作業從定義為作業開始日期的午夜開始排程。
- **產能** - 選擇此選項可在執行作業排程時為作業類型保留產能。 如果選擇此選項，則會在執行排程時為所選作業類型保留產能。 這可讓您可以大致了解每個途程群組中的哪些作業類型使用作業資源。 例如，在乾燥資源是瓶頸資源的情況下，必須將這些資源指定為瓶頸。 指派給佇列時間作業類型的乾燥作業將保留乾燥資源。 

對於每種作業類型，首先需要將其啟用或停用。 停用後，將不會考慮其他任何設定 (作業管理、工作時間和產能)，因為該作業類型將不會處於使用中狀態。 

作業類型中包含「重疊」。 重疊允許同時執行不同的作業。 作業重疊時可以使用資源，但不能為特定作業保留資源。
因此，當為為「重疊」選擇啟用時，其餘設定 (作業管理、工作時間和產能) 在途程群組中不會產生任何影響。 

> [!NOTE]
> 升級版本時，可能會發生以下錯誤：**「叫用排程引擎時發生 CRL 錯誤」**。 如果發生此錯誤，請移至 **途程群組** 頁面，然後清除已啟用 **重疊** 的所有途程的 **作業管理**、**工作時間** 和 **產能** 選項。 

## <a name="additional-resources"></a>其他資源

- [物料清單和公式](bill-of-material-bom.md)

- [生產途程中使用的成本類別](../cost-management/cost-categories-used-production-routings.md)

- [資源功能](resource-capabilities.md)

- [電子簽章概觀](../../fin-ops-core/fin-ops/organization-administration/electronic-signature-overview.md)





[!INCLUDE[footer-include](../../includes/footer-banner.md)]