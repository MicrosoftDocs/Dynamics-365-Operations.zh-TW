---
title: 公式設計工具
description: 本主題說明如何使用公式設計工具在樹狀檢視中分析和維護公式。
author: johanhoffmann
ms.date: 06/01/2017
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: PlanActivity, ReqSupplyDemandSchedule
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: ''
ms.author: johanho
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: bf45fdf44e6d060ee16edf1a6628c5ffd9920dcb
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8447951"
---
# <a name="formula-designer"></a>公式設計工具

[!include [banner](../includes/banner.md)]

本主題說明如何使用公式設計工具在樹狀檢視中分析和維護公式。

當您從 **已發佈產品** 頁面打開 **公式設計工具** 頁面，左側窗格中的樹狀圖會顯示聯產品清單和已發佈產品的成分階層。 該結構衍生自對所選項目及其成分、項目預設訂單站點，以及實際日期處於使用中或已核准的公式階層。

按一下 **設定** 以選取不同的設定並指定在樹狀結構明細上要顯示的資訊。

按一下 **篩選** 以變更檢視中的初始選擇。 若您設定顯示原則設定為 **選定/啟用中** 或 **選定**，您可以選取要在檢視表中使用的單個公式或途程版本。 您可以在公式設計工具中選取顯示未核准和未啟用的公式版本以進行維護。  

> [!NOTE]
> 如果您從 **物料清單** 清單頁面打開 **公式設計工具** 頁面，它不會展示途程資訊。 目前，公式或途程版本的選擇適用於公式設計工具的所有執行個體。  

以下區段說明了 BOM 設計工具中可用的功能。

## <a name="analyze-a-formula-structure-by-using-the-formula-designer"></a>使用公式設計工具分析公式結構
公式設計工具有兩個部分：

-   公式結構的樹狀檢視表。
-   顯示所選資料詳細資訊的詳細資訊部分。 當您在樹狀檢視中選擇一個節點時，詳細資訊部分中的 FastTab 會依據該節點進行更新：
    -   **公式明細詳細資料** - 在樹狀檢視表中檢視選定的公式明細的詳細資訊。
    -   **項目資料** - 檢視主要品項或選定節點中使用的品項的詳細資料。 你可以按一下 **編輯發佈的產品** 以維護所選項目。
    -   **公式** - 檢視與選定節點相關的公式標頭。
    -   **途程** - 檢視與選定節點相關的途程標頭。
    -   **途程作業** - 檢視途程作業的預覽。 當選定指派給特定作業的物料清單 (BOM) 明細時，該作業將標記為 **作業中需要的元件**。

## <a name="select-a-formula-and-route"></a>選擇公式和途程
套用在公式和途程的篩選，顯示在公式設計工具的標頭中。 您可以使用 **篩選條件** 對話方塊以變更篩選條件。 下表說明此對話方塊中的欄位。

<table>
<thead>
<tr class="header">
<th>欄位</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>產品維度</td>
<td>如果所選成品是基準產品，則您可以為主要選擇定義使用中產品維度。 請注意，如果您為非基準產品的產品開啟公式設計工具，則無法在<strong>篩選條件</strong>對話方塊中選擇任何產品維度。</p></td>
</tr>
<tr class="even">
<td>網站</td>
<td>變更成分樹狀結構中顯示的站點。 預設站點是成品的預設庫存站點。</td>
</tr>
<tr class="odd">
<td>顯示原則</td>
<td><p>選擇適用於目前公式結構和目前途程版本顯示原則：</p>
<ul>
<li>當原則設定為<strong>啟用中</strong>或<strong>選定/啟用中</strong>，會找到該日期有效公式或途程版本。</li>
<li>當原則設定為<strong>選定/啟用中</strong>或<strong>選定</strong>，按一下<strong>公式</strong>&gt;<strong>公式版本</strong>或<strong>途程</strong>&gt;<strong>途程版本</strong>，以選取公式版本或途程版本。</li>
</ul></td>
</tr>
<tr class="even">
<td>版本日期</td>
<td>輸入公式和途程的版本日期。 版本找出在特定日期使用的公式版本，根據公式版本設定中的版本日期而定。</td>
</tr>
<tr class="odd">
<td>起始數量</td>
<td>選取特定&quot;起始&quot;數量來篩選版本。 如果您設定一個值，則可能會選取到不同的公式和途程版本。</td>
</tr>
<tr class="even">
<td>僅顯示有效的</td>
<td>當您選取此核取方塊時，樹狀結構僅顯示具有有效日期的公式明細。 按一下右鍵或按兩下公式明細打開<strong>編輯公式明細</strong>頁面，您可以在其中查看公式明細的有效日期。</td>
</tr>
</tbody>
</table>

由一個或多個虛擬項層級組成的公式，在使用公式設計師查看或編輯時，與上層品項關聯的途程通常跨越整個公式階層結構。 為了簡化概觀，您可以透過按一下 **檢視**&gt;**鎖定途程** 來鎖定顯示中的最高等級途程。 如要解鎖途程，請按一下 **檢視**&gt;**解鎖途程**。

## <a name="add-and-edit-formulas-and-formula-lines"></a>新增並編輯公式和公式明細
使用 **BOM 明細** 或 **公式** 的功能，修改公式明細或公式。 當您在樹狀結構選取一個節點時，該節點的類型決定了可用的功能。

| 功能                            | 描述                                                                                               | 節點類型與條件 |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|--------------------------|
| 公式明細&gt;編輯                 | 打開一個對話方塊，您可以在其中編輯公式明細屬性。                                         | 此功能在選定公式明細節點時可用。 |
| BOM 明細&gt;刪除               | 從選定的公式中移除公式明細。                                                          | 在公式未鎖定編輯時，此功能在選定公式明細節點可用。 |
| BOM 明細&gt;在明細前新增      | 打開一個對話方塊，您可以在其中選取一個要包含在選定公式明細之前的產品變型。     | 此功能在選定公式明細節點時可用。 |
| BOM 明細&gt;新增至元件 BOM | 打開一個對話方塊，您可以在其中選取一個要包含在選定公式明細最後的產品變型。   | 此功能在選定的節點擁有選定的公式明細時可用。 如果此功能不可用，則可能缺少選定品項變型的公式版本。 在這種情況下，您可以按一下 **公式**&gt;**建立版本** 為選定節點建立缺少的版本。 |
| BOM 明細&gt;在明細後新增       | 打開一個對話方塊，您可以在其中選取一個要包含在選定公式明細之後的產品變型。      | 此功能在選定公式明細節點時可用。 |
| 公式&gt;建立版本         | 為選定節點的產品變型建立新的公式版本或公式。                     | 選定公式明細節點連結到具有 **BOM** 或 **公式** 生產類型的項目時，此功能可用。 |
| 公式&gt;計算            | 打開一個對話方塊，您可以在其中執行所選產品變型的成本或銷售價格計算。 | 此功能在選定的節點與公式相關時可用。 |
| 公式&gt;檢查                  | 驗證並檢查選定的公式。                                                                  | 此功能在選定的節點與公式相關時可用。 |

## <a name="configuring-the-tree-view"></a>設定樹狀檢視表
按一下 **設定** 自訂公式設計工具樹狀檢視表中顯示的資訊。


| 欄位群組 |                                                                          描述                                                                          |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     BOM     | 使用核取方塊以選擇樹狀結構中顯示的條件。 公式設計工具在兩個索引標籤的下方顯示選定的標準。 |
|    途程    |                                           使用核取方塊選擇為途程顯示的標準。                                           |



[!INCLUDE[footer-include](../../includes/footer-banner.md)]