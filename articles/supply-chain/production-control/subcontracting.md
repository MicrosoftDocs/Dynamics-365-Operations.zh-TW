---
title: 分包
description: 本主題將幫助您在 Dynamics 365 Supply Chain Management 中的製造內建置分包演練。
author: johanhoffmann
ms.date: 09/28/2018
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2018-09-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: 4c4ef554406c727cc410f8dca5f41264be01060b
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/29/2021
ms.locfileid: "8449208"
---
# <a name="subcontracting"></a>分包

[!include [banner](../includes/banner.md)]

本主題將幫助您在 Microsoft Dynamics 365 Supply Chain Management 中的製造內建置分包演練。 本主題的第一部分介紹如何設定資料。 第二部分將引導您完成演練中的步驟。

## <a name="target-audience"></a>目標對象

在本主題中，您將學習如何在製造中設定分包。 您將使用 HQUS 法律實體中的現有資料來進行分包活動流程的基本設定。 HQUS 法律實體中的示範資料包括已預設的設定參數以支援演練中的步驟。 儘管演練解決了各種角色的關鍵痛點和挑戰，但它可以由系統管理員完成。

## <a name="demo-scenario"></a>示範案例

在 HQUS 法律實體中製造高端喇叭。 在製造程序中，喇叭要經過以下三個工序。

- **預組裝** – 喇叭箱體組裝完畢。 開始工序之前，在物料倉庫中揀選用於箱體的物料。
- **塗層** – 喇叭箱體組裝完成後，必須進行塗層處理。 此工序由廠商 (分包商) 完成。 預組裝的喇叭箱體連同兩種物料一起運送給塗層分包商。
- **結束** – 分包商對預組裝的喇叭箱體進行圖層後，將其發送回 HQUS 法律實體，以便完成喇叭的最終組裝。

下圖顯示了三個工序及其使用的物料。

![預組裝、塗層和完成工序，及其使用的物料。](./media/subcontract01_operations-materials.png)

## <a name="setup"></a>設定

在開始演練之前，您必須設定資料。

### <a name="set-up-the-finished-product"></a>設定成品

此程序將引導您設定已發佈產品 D8100，即「塗層箱體」。

1. 選擇 **產品資訊管理 \> 產品 \> 已發佈產品** 打開 **已發佈產品詳細資料** 頁面。
2. 在快速篩選欄位中，輸入 **D8100** 以尋找現有的已發佈產品。

    ![在已發佈產品詳細資料頁面上篩選已發佈產品 D8100。](./media/subcontract02_filtering-released-products.png)

3. 在動作窗格上的 **工程師** 索引標籤，選擇 **途程** 以打開 **途程** 頁面。

    **途程** 頁面會顯示已發佈產品 D8100 的八個途程版本。 這八個途程版本分為站點 1 和站點 5 的四個途程。 途程 000400 用於成本計算，當塗層工序為內部工序時使用途程 00041，當塗層工序為外部工序時使用途程 00042。

    ![途程頁面上有八個途程版本。](./media/subcontract03_route-page.png)

4. 在上窗格的 **版本** 格線中，為站點 **5** 選擇途程版本 **00042**。
5. 在下窗格的 **概述** 索引標籤中的格線中，選擇工序 **20** (**Cbnt CtSc**)。

    ![已為站點 5 選擇途程版本 00042 的工序 20。](./media/subcontract04_route-version-operation.png)

6. 選擇 **一般** 索引標籤。

    請注意，**途程類型** 欄位設定為 **廠商**。 此值表示工序 20 (Cbnt CtSc) 是分包工序。

    ![在 [一般] 索引標籤上將途程類型欄位設定為廠商。](./media/subcontract05_general-tab.png)

7. 選擇 **資源需求** 索引標籤。

    能力將用於在生產排程期間尋找適用的資源。 請注意，對於工序 20 (Cbnt CtSc)，需要有兩種能力的資源 (即 **塗層** 和 **塗層箱體**)。

    ![資源要求索引標籤上的塗層和塗層箱體功能。](./media/subcontract06_resource-requirements-tab.png)

8. 選擇 **適用資源** 以打開 **適用資源** 對話方塊。

    找到三個符合該工序資源要求的資源。 請注意，資源 8851 和 8852 屬於 **廠商** 類型。

    ![[適用資源] 對話方塊中的三個相應資源。](./media/subcontract07_applicable-resources-dialog.png)

9. 選擇 **確定** 關閉 **適用資源** 對話方塊並返回 **途程** 頁面。
10. 關上 **途程** 頁面返回 **已發佈產品詳細資料** 頁面。

    ![已發佈產品詳細資料頁面。](./media/subcontract08_released-product-details-page.png)

11. 在動作窗格上的 **工程師** 索引標籤，選擇 **BOM 版本** 以打開 **BOM 版本** 頁面。

    **BOM 版本** 頁面會顯示已發佈產品 D8100 的四個物料清單 (BOM) 版本。 BOM 000040 用於成本計算和計劃，如果塗層工序在內部進行時使用，則使用 BOM 000041，如果是分包塗層工序，則使用 BOM 000042 和 000043。

    請注意，品項 S8050 的品項種類為 **服務** 展品。 此品項代表分包工作。

    ![BOM 版本頁面上有四個 BOM 版本。](./media/subcontract09_bom-versions-page.png)

12. 在 **物料清單行** FastTab 上，選擇 **編輯** 以打開 **編輯 BOM 行** 對話方塊。

    為已發佈產品 D8100 建立和估算生產訂單時，將自動為品項 S8050 產生訂購單。 此訂購單將連結到生產訂單。 對於要自動產生的訂購單，**行類型** 欄位必須設定為 **廠商**，並且必須選擇分包商的廠商帳戶。 在本案例中，廠商帳戶是 US-801。

    請注意，BOM 行會透過工序編號 (在本例中為 20) 連接到 [塗層] 工序。

    ![編輯 BOM 行對話方塊。](./media/subcontract10_edit-bom-line-dialog.png)

### <a name="create-a-password-for-warehouse-workers"></a>為倉庫工作人員建立密碼

您必須為使用手持裝置的倉庫工作人員定義密碼。

1. 選擇 **倉庫管理 \> 設定 \> 工作人員** 以打開 **工作使用者** 頁面。
2. 在 **使用者** FastTab 上，選擇使用者 **51** 的資料列。

    ![工作使用者頁面。](./media/subcontract11_work-users-page.png)

3. 選擇 **重設密碼**。
4. 在 **密碼** 和 **確認密碼** 欄位中，輸入 **1**。
5. 選擇 **設定密碼**。

## <a name="step-by-step-walkthrough"></a>演練

**案例和背景**

為產品 D8100 (即「塗層箱體」) 建立 10 件的生產訂單。 該箱體塗層是由廠商 US-801 (即 Perfect Coating Solutions) 完成的分包工序。 生產訂單由三個工序組成。 在第一道工序中，箱體作為內部工序進行預組裝。 將下達預組裝的物料以在原物料倉庫中領料。 預組裝完成後，將預組裝的箱體連同塗層工序所需的兩種物料一起送到 Perfect Coating Solutions。 當從廠商處收到塗層箱體時，需先進行最後的內部組裝工序才能將其報告為完成。

1. 選擇 **產品控制 \> 生產訂單 \> 所有生產訂單** 以打開 **所有生產訂單** 頁面。
2. 在動作窗格上，選擇 **新的生產訂單** 以打開 **建立生產訂單** 對話方塊。

    ![建立生產訂單對話方塊。](./media/subcontract12_create-production-order-dialog.png)

3. 在 **品項編號** 欄位中，選擇 **D8100**。
4. 選擇品項編號後，將顯示庫存維度的欄位。 在 **顏色** 欄位，選擇 **鉻**。

    將出現一個訊息方塊，詢問是否應插入 BOM 和途程的使用中版本。

    ![訊息方塊。](./media/subcontract13_message-box.png)

5. 選取 **是**。 

    在 **建立生產訂單** 對話方塊的 **BOM 編號** 和 **途程編號** 欄位中，將自動為產品 D8100 分別選擇 BOM 和途程的使用中版本。 在此案例中，將選擇 BOM **000040** 和途程 **000040**。
    
    > [!NOTE]
    > 對於 BOM 和途程，成本計算和計劃將使用版本 000040。

6. 請在 **站點** 欄位，選擇 **5**。
7. 請在 **倉庫** 欄位，選擇 **51**。
8. 在 **BOM 編號** 和 **途程編號** 欄位，將自動選擇的值變更為 **000042**。

    > [!NOTE]
    > 對於 BOM 和途程，版本 000042 用於將箱體的塗層分包給廠商 US-801。

    ![在 [建立生產訂單] 對話方塊中設定的值。](./media/subcontract14_create-production-order-dialog-set.png)

9. 選擇 **建立** 以建立生產訂單並返回 **所有生產訂單** 頁面。

    ![[所有生產訂單] 頁面上的新生產訂單。](./media/subcontract15_new-production-order.png)

10. 在動作窗格的 **生產訂單** 索引標籤上，選擇 **估計** 以打開 **估計** 對話方塊。

    ![估計對話方塊。](./media/subcontract16_estimate-dialog.png)

11. 選擇 **確定** 以確認估計並返回 **所有生產訂單** 頁面。

    > [!NOTE]
    > 估計生產訂單後，將為廠商 US-801 產生服務項目 S8050 的訂購單。

12. 在動作窗格的 **產品訂單** 索引標籤上，選擇 **BOM** 以打開 **BOM** 頁面，您可以在其中查看生產訂單的 BOM 行。

    請注意，對於服務項目 S8050，將參考估計生產訂單時產生的訂購單。

    ![BOM 頁面上的生產訂單 BOM 行。](./media/subcontract17_production-order-bom-lines.png)

13. 關閉 **BOM** 頁面返回 **所有生產訂單** 頁面。
14. 在動作窗格的 **排程** 索引標籤上，選擇 **排程工作** 以打開 **工作排程** 對話方塊。
15. 指定以下值：

    - 在 **排程方向** 欄位中，選取 **從明天開始**。
    - 將 **有限產能** 選項設定為 **是**。

    ![作業排程對話方塊。](./media/subcontract18_job-scheduling-dialog.png)

16. 選擇 **確定** 關閉 **工作排程** 對話方塊並返回 **所有生產訂單** 頁面。
17. 在動作窗格的 **排程** 索引標籤上，選擇 **甘特圖** 以打開 **甘特圖 - 資源檢視表** 頁面。

    甘特圖提供如何在資源上排程生產作業的視覺化概觀。 請注意，外部塗層工序由三個作業組成：處理作業、運輸作業和排隊時間作業。

    ![甘特圖上的甘特圖 - 資源檢視表頁面。](./media/subcontract19_gantt-chart.png)

18. 關閉 **甘特圖 - 資源檢視表** 頁面返回 **所有生產訂單** 頁面。
19. 在動作窗格的 **生產訂單** 索引標籤上，選擇 **發放** 以打開 **發放** 對話方塊。

    ![發放對話方塊。](./media/subcontract20_release-dialog.png)

20. 選擇 **確定** 以關閉 **發放** 對話方塊。
21. 選擇 **產品控制 \> 定期工作 \> 發放道倉庫 \> 自動發放 BOM 和公式行** 以打開 **自動發放 BOM 和公式行** 對話方塊。

    ![自動發放 BOM 和公式行對話方塊。](./media/subcontract21_auto-release-bom-formula-lines-dialog.png)

22. 選擇 **確定** 以執行 BOM 和公式行的自動發放作業。

    此作業將原物料的揀料工作發放到倉庫。

23. 選擇 **產品控制 \> 生產訂單 \> 所有生產訂單** 以打開 **所有生產訂單** 頁面。
24. 使用快速篩選欄位來選擇您一直在處理的生產訂單。
25. 在動作窗格的 **倉庫** 索引標籤上，選取 **工作詳細資料** 以打開 **工作** 頁面。

    請注意，該頁面會顯示兩組原物料揀料工作。 第一組工作針對物料 M8100 和 M8101。 這些物料由工序 10 使用。 第二組工作針對物料 M8202 和 M8250。 這些物料由工序 20 (分包工序) 使用。

    ![工作頁面上原物料揀料的兩組工作。](./media/subcontract22_work-page.png)

26. 啟動 Warehouse Management 行動應用程式以處理工序 10 的倉庫工作。

    <!-- TBD – screen shots for processing pick work for the materials. -->

27. 選擇 **產品控制 \> 生產訂單 \> 所有生產訂單** 以打開 **所有生產訂單** 頁面。
28. 使用快速篩選欄位來選擇您一直在處理的生產訂單。
29. 在動作窗格的 **生產訂單** 索引標籤上，選擇 **開始** 以打開 **開始** 對話方塊。
30. 在 **一般** 索引標籤上指定以下值：

    - 在 **開始工序編號** 欄位中，選取 **10**。
    - 在 **結束工序編號** 欄位中，選取 **10**。

    ![在 [一般] 索引標籤上設定的值 1。](./media/subcontract23_start-dialog.png)

31. 選擇 **確定** 關閉 **開始** 對話方塊並返回 **所有生產訂單** 頁面。

    請注意，生產訂單的狀態現在為 **已開始**。 工序 10 的物料供揀料單日記帳自動過帳使用。 工序 10 所用的時間由途程卡日記帳自動過帳計算。

32. 啟動 Warehouse Management 行動應用程式以處理工序 20 的倉庫工作。

    <!-- TBD – screen shots for processing pick work for the materials. -->

33. 在動作窗格的 **生產訂單** 索引標籤上，選擇 **開始** 以打開 **開始** 對話方塊。
34. 在 **一般** 索引標籤上指定以下值：

    - 在 **開始工序編號** 欄位中，選取 **20**。
    - 在 **結束工序編號** 欄位中，選取 **20**。
    - 在 **數量** 欄位中，輸入 **10**。
    - 將 **立即過帳揀料單** 選項設定為 **否**。

    ![在 [一般] 索引標籤上設定的值 2。](./media/subcontract24_general-tab.png)

35. 選擇 **確定** 關閉 **開始** 對話方塊並返回 **所有生產訂單** 頁面。

    為用於 [塗層] 工序的物料和服務項目建立領料單。 服務項目代表分包工序的成本。

36. 在動作窗格的 **檢視表** 索引標籤上，選擇 **揀料單** 以打開 **揀料單** 頁面。
37. 選擇未過帳的領料單，然後選擇日記帳編號以查看日記帳行。

    ![領料單頁面上的日記帳行。](./media/subcontract25_picking-list.png)

38. 在動作窗格上，選擇 **列印** \> **揀料單報表** 以打開 **揀料單報表** 對話方塊。
39. 將 **使用交貨單配置** 選項設定為 **是**。

    ![領料單報表對話方塊。](./media/subcontract26_picking-list-report-dialog.png)

40. 選擇 **確定** 以產生 **揀料單** 報表。

    在此案例中，會從生產揀料單日記帳列印廠商交貨單。 交貨單指定運送給將進行塗層工序的廠商的物料。

    ![揀料單報表。](./media/subcontract27_picking-list-report.png)

41. 關閉 **揀料單** 報表以返回 **揀料單** 頁面。
42. 在動作窗格上，選取 **過帳** 以開啟 **過帳日記帳** 對話方塊。

    ![過帳日記帳對話方塊。](./media/subcontract28_post-journal-dialog.png)

43. 選擇 **確定** 以關閉 **過帳日記帳** 對話方塊。
44. 開啟訂購單。

    ![訂購單頁面。](./media/subcontract29_purchase-order-page.png)

45. 在動作窗格的 **採購** 索引標籤上，選擇 **確認**。
46. 選擇 **過帳** 以開啟 **過帳日記帳** 對話方塊。
47. 選擇 **確定** 以關閉 **過帳日記帳** 對話方塊並返回 **訂購單** 頁面。
48. 將單價從 **33** 變更為 **40**。

    ![訂購單頁面上的單價已變更。](./media/subcontract30_unit-price.png)

49. 再次確認該訂購單。
50. 產品收據。

    ![過帳產品收據對話方塊。](./media/subcontract31_posting-product-receipt-dialog.png)

51. 採購發票。
52. 更新相符狀態。

    ![廠商發票頁面。](./media/subcontract32_vendor-invoice-page.png)

53. 報告為完成。

    ![報告為完成對話方塊。](./media/subcontract33_report-as-finished-dialog.png)

54. 結束。

    ![結束對話方塊。](./media/subcontract34_end-dialog.png)

55. 成本比較。

    ![成本比較表。](./media/subcontract35_cost-comparison-charts.png)

資料中缺少設定。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]